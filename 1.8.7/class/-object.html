<!DOCTYPE html>
<html lang="ja-JP">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Language" content="ja-JP">
  <link rel="stylesheet" type="text/css" href="../style.css">
  <link rel="icon" type="image/png" href="../rurema.png">
  <title>class Object</title>
</head>
<body>

<p>
<a href="../doc/index.html">Ruby 1.8.7 リファレンスマニュアル</a>
&gt; <a href="../library/index.html">ライブラリ一覧</a>
&gt; <a href="../library/_builtin.html">組み込みライブラリ</a>
&gt; Objectクラス
</p>


<h1>class Object</h1>
<p>


クラスの継承リスト: Object

      &lt; <a href="../class/-kernel.html">Kernel</a>
      







</p>

<h2>要約</h2>
<p>
全てのクラスのスーパークラス。
オブジェクトの一般的な振舞いを定義します。
</p>
<p>
このクラスのメソッドは上書きしたり未定義にしない限り、すべてのオブジェクトで使用することができます。
</p>



<h2>目次</h2>
<dl>

<dt>特異メソッド</dt>
<dd>

<a href="#S_NEW">new</a>

</dd>

<dt>インスタンスメソッド</dt>
<dd>

<a href="#I_--3D--3D">==</a>

<a href="#I_--3D--3D--3D">===</a>

<a href="#I_--3D--7E">=~</a>

<a href="#I___ID__">__id__</a>

<a href="#I___ID__">id</a>

<a href="#I___ID__">object_id</a>

<a href="#I___SEND__">__send__</a>

<a href="#I___SEND__">send</a>

<a href="#I__DUMP">_dump</a>

<a href="#I_CLASS">class</a>

<a href="#I_CLASS">type</a>

<a href="#I_CLONE">clone</a>

<a href="#I_CLONE">dup</a>

<a href="#I_DISPLAY">display</a>

<a href="#I_ENUM_FOR">enum_for</a>

<a href="#I_ENUM_FOR">to_enum</a>

<a href="#I_EQL--3F">eql?</a>

<a href="#I_EQUAL--3F">equal?</a>

<a href="#I_EXTEND">extend</a>

<a href="#I_FREEZE">freeze</a>

<a href="#I_FROZEN--3F">frozen?</a>

<a href="#I_HASH">hash</a>

<a href="#I_INSPECT">inspect</a>

<a href="#I_INSTANCE_EVAL">instance_eval</a>

<a href="#I_INSTANCE_EXEC">instance_exec</a>

<a href="#I_INSTANCE_OF--3F">instance_of?</a>

<a href="#I_INSTANCE_VARIABLE_DEFINED--3F">instance_variable_defined?</a>

<a href="#I_INSTANCE_VARIABLE_GET">instance_variable_get</a>

<a href="#I_INSTANCE_VARIABLE_SET">instance_variable_set</a>

<a href="#I_INSTANCE_VARIABLES">instance_variables</a>

<a href="#I_IS_A--3F">is_a?</a>

<a href="#I_IS_A--3F">kind_of?</a>

<a href="#I_MARSHAL_DUMP">marshal_dump</a>

<a href="#I_MARSHAL_LOAD">marshal_load</a>

<a href="#I_METHOD">method</a>

<a href="#I_METHOD_MISSING">method_missing</a>

<a href="#I_METHODS">methods</a>

<a href="#I_NIL--3F">nil?</a>

<a href="#I_PRIVATE_METHODS">private_methods</a>

<a href="#I_PROTECTED_METHODS">protected_methods</a>

<a href="#I_PUBLIC_METHODS">public_methods</a>

<a href="#I_RESPOND_TO--3F">respond_to?</a>

<a href="#I_SINGLETON_METHODS">singleton_methods</a>

<a href="#I_TAINT">taint</a>

<a href="#I_TAINTED--3F">tainted?</a>

<a href="#I_TAP">tap</a>

<a href="#I_TO_A">to_a</a>

<a href="#I_TO_ARY">to_ary</a>

<a href="#I_TO_HASH">to_hash</a>

<a href="#I_TO_INT">to_int</a>

<a href="#I_TO_IO">to_io</a>

<a href="#I_TO_PROC">to_proc</a>

<a href="#I_TO_REGEXP">to_regexp</a>

<a href="#I_TO_S">to_s</a>

<a href="#I_TO_STR">to_str</a>

<a href="#I_UNTAINT">untaint</a>

</dd>

<dt>privateメソッド</dt>
<dd>

<a href="#I_INITIALIZE">initialize</a>

<a href="#I_INITIALIZE_COPY">initialize_copy</a>

<a href="#I_REMOVE_INSTANCE_VARIABLE">remove_instance_variable</a>

<a href="#I_SINGLETON_METHOD_ADDED">singleton_method_added</a>

<a href="#I_SINGLETON_METHOD_REMOVED">singleton_method_removed</a>

<a href="#I_SINGLETON_METHOD_UNDEFINED">singleton_method_undefined</a>

</dd>

<dt>定数</dt>
<dd>

<a href="#C_-A-R-G-F">ARGF</a>

<a href="#C_-A-R-G-V">ARGV</a>

<a href="#C_-A-R-G-V">ARGV</a>

<a href="#C_-D-A-T-A">DATA</a>

<a href="#C_-E-N-V">ENV</a>

<a href="#C_-F-A-L-S-E">FALSE</a>

<a href="#C_-N-I-L">NIL</a>

<a href="#C_-P-L-A-T-F-O-R-M">PLATFORM</a>

<a href="#C_-R-E-L-E-A-S-E_-D-A-T-E">RELEASE_DATE</a>

<a href="#C_-R-U-B-Y_-C-O-P-Y-R-I-G-H-T">RUBY_COPYRIGHT</a>

<a href="#C_-R-U-B-Y_-D-E-S-C-R-I-P-T-I-O-N">RUBY_DESCRIPTION</a>

<a href="#C_-R-U-B-Y_-P-A-T-C-H-L-E-V-E-L">RUBY_PATCHLEVEL</a>

<a href="#C_-R-U-B-Y_-P-L-A-T-F-O-R-M">RUBY_PLATFORM</a>

<a href="#C_-R-U-B-Y_-R-E-L-E-A-S-E_-D-A-T-E">RUBY_RELEASE_DATE</a>

<a href="#C_-R-U-B-Y_-V-E-R-S-I-O-N">RUBY_VERSION</a>

<a href="#C_-S-C-R-I-P-T_-L-I-N-E-S__">SCRIPT_LINES__</a>

<a href="#C_-S-T-D-E-R-R">STDERR</a>

<a href="#C_-S-T-D-I-N">STDIN</a>

<a href="#C_-S-T-D-O-U-T">STDOUT</a>

<a href="#C_-T-O-P-L-E-V-E-L_-B-I-N-D-I-N-G">TOPLEVEL_BINDING</a>

<a href="#C_-T-R-U-E">TRUE</a>

<a href="#C_-V-E-R-S-I-O-N">VERSION</a>

</dd>

</dl>


<h2>特異メソッド</h2>
<dl>

<dt class="method-heading" id="S_NEW"><code>new -&gt; Object</code><span class="permalink">[<a href="../method/-object/s/new.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-c-new">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
Objectクラスのインスタンスを生成して返します。
</p>
<pre>
some = Object.new
p some #=&gt; #&lt;Object:0x2b696d8&gt;
</pre>
</dd>


</dl>

<h2>インスタンスメソッド</h2>
<dl>

<dt class="method-heading" id="I_--3D--3D"><code>self == other -&gt; bool</code><span class="permalink">[<a href="../method/-object/i/=3d=3d.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-3D-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトと other が等しければ真を返します。
</p>
<p>
このメソッドは各クラスの性質に合わせて再定義すべきです。
多くの場合、オブジェクトの内容が等しければ真を返すように
（同値性を判定するように）再定義されることが期待されています。
</p>
<p>
デフォルトでは equal? と同じオブジェクト
の同一性判定になっています。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
比較するオブジェクトです。
</dd>
</dl>
<pre>
p(&quot;foo&quot; == &quot;bar&quot;) #=&gt; false
p(&quot;foo&quot; == &quot;foo&quot;) #=&gt; true

p(4 == 4) #=&gt; true
p(4 == 4.0) #=&gt; true
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/equal=3f.html">Object#equal?</a>,<a href="../method/-object/i/eql=3f.html">Object#eql?</a>
</p>
</dd>


<dt class="method-heading" id="I_--3D--3D--3D"><code>self === other -&gt; bool</code><span class="permalink">[<a href="../method/-object/i/=3d=3d=3d.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-3D-3D-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
メソッド <a href="../method/-object/i/=3d=3d.html">Object#==</a> の別名です。
case 式で使用されます。このメソッドは case 式での振る舞いを考慮して、
各クラスの性質に合わせて再定義すべきです。
</p>
<p>
一般的に所属性のチェックを実現するため適宜再定義されます。
</p>
<p>
when 節の式をレシーバーとして === を呼び出すことに注意してください。
</p>
<p>
また <a href="../method/-enumerable/i/grep.html">Enumerable#grep</a> でも使用されます。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
比較するオブジェクトです。
</dd>
</dl>
<pre>
age = 12
result =
case age
when 0 .. 2
  &quot;baby&quot;
when 3 .. 6
  &quot;little child&quot;
when 7 .. 12
  &quot;child&quot;
when 13 .. 18
  &quot;youth&quot;
else
  &quot;adult&quot;
end

puts result #=&gt; &quot;child&quot;

def check arg
  case arg
  when /ruby(?!\s*on\s*rails)/i
    &quot;hit! #{arg}&quot;
  when String
    &quot;Instance of String class. But don't hit.&quot;
  else
    &quot;unknown&quot;
  end
end

puts check([]) #=&gt; unknown
puts check(&quot;mash-up in Ruby on Rails&quot;) #=&gt; instance of String class. But not hit...
puts check(&quot;&lt;Ruby's world&gt;&quot;) #=&gt; hit! &lt;Ruby's world&gt;
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/=3d=3d.html">Object#==</a>, <a href="../method/-range/i/=3d=3d=3d.html">Range#===</a>, <a href="../method/-module/i/=3d=3d=3d.html">Module#===</a>, <a href="../method/-enumerable/i/grep.html">Enumerable#grep</a>
</p>
</dd>


<dt class="method-heading" id="I_--3D--7E"><code>self =~ other -&gt; false</code><span class="permalink">[<a href="../method/-object/i/=3d=7e.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-3D-7E">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
右辺に正規表現オブジェクトを置いた正規表現マッチ obj =~ /RE/
をサポートするためのメソッドです。
常に false を返します。
</p>
<p>
この定義により、=~ が再定義されたオブジェクトでは正常にマッチを行い、
それ以外のものは false を返すようになります。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
任意のオブジェクトです。結果に影響しません。
</dd>
</dl>
<pre>
obj = 'regexp'
p(obj =~ /re/) #=&gt; 0

obj = nil
p(obj =~ /re/) #=&gt; false
</pre>
<p>
[SEE_ALSO] <a href="../method/-string/i/=3d=7e.html">String#=~</a>
</p>
</dd>


<dt class="method-heading" id="I___ID__"><code>__id__ -&gt; Integer</code><span class="permalink">[<a href="../method/-object/i/__id__.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-__id__">rdoc</a>]</span></dt>
<dt class="method-heading"><code>object_id -&gt; Integer</code></dt>
<dt class="method-heading"><code>id -&gt; Integer</code></dt>
<dd class="method-description">
<p>
各オブジェクトに対して一意な整数を返します。あるオブジェクトに対し
てどのような整数が割り当てられるかは不定です。
</p>
<p>
Rubyでは、(Garbage Collectされていない)アクティブなオブジェクト間で
重複しない整数(object_id)が各オブジェクトにひとつずつ割り当てられています。この
メソッドはその値を返します。
</p>
<p>
<a href="../class/-true-class.html">TrueClass</a>, <a href="../class/-false-class.html">FalseClass</a>, <a href="../class/-nil-class.html">NilClass</a>, <a href="../class/-symbol.html">Symbol</a>, <a href="../class/-fixnum.html">Fixnum</a> クラス
のインスタンスなど Immutable（変更不可）なオブジェクトの一部は同じ内容ならば必ず同じ object_id になります。
</p>
<p>
これは、Immutable ならば複数の場所から参照されても`破壊的操作'による問題が発生しないので、
同じ内容のインスタンスを複数生成しないという内部実装が理由です。
</p>
<p>
<a href="../method/-symbol/i/to_i.html">Symbol#to_i</a>で得られる整数と object_id は別物です。
</p>
<p>
id メソッドの再定義に備えて別名 __id__ が用意されて
おり、ライブラリでは後者の利用が推奨されます。また __id__ を
再定義すべきではありません。
</p>
<p>
id は obsolete なので、object_id か __id__ を使用してください。
</p>
<pre>
p &quot;ruby&quot;.object_id #=&gt; 22759500
p &quot;ruby&quot;.object_id #=&gt; 22759400

p [].object_id #=&gt; 22759360
p [].object_id #=&gt; 22759340

p :ruby.object_id #=&gt; 103538
p :ruby.object_id #=&gt; 103538

p 11.object_id #=&gt; 23
p 11.object_id #=&gt; 23

p true.object_id #=&gt; 2
p true.object_id #=&gt; 2
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/equal=3f.html">Object#equal?</a>,<a href="../class/-symbol.html">Symbol</a>
</p>
</dd>


<dt class="method-heading" id="I___SEND__"><code>send(name, *args) -&gt; object</code><span class="permalink">[<a href="../method/-object/i/__send__.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-__send__">rdoc</a>]</span></dt>
<dt class="method-heading"><code>send(name, *args) { .... } -&gt; object</code></dt>
<dt class="method-heading"><code>__send__(name, *args) -&gt; object</code></dt>
<dt class="method-heading"><code>__send__(name, *args) { .... } -&gt; object</code></dt>
<dd class="method-description">
<p>
オブジェクトのメソッド name を args を引数に
して呼び出し、メソッドの実行結果を返します。
</p>
<p>
ブロック付きで呼ばれたときはブロックもそのまま引き渡します。
</p>
<p>
send が再定義された場合に備えて別名 __send__ も
用意されており、ライブラリではこちらを使うべきです。また
__send__ は再定義すべきではありません。
</p>
<p>
send, __send__ は、メソッドの呼び出し制限
にかかわらず任意のメソッドを呼び出せます。
<a href="../doc/spec=2fdef.html#limit">クラス／メソッドの定義/呼び出し制限</a> も参照してください。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
文字列か<a href="../class/-symbol.html">Symbol</a> で指定するメソッド名です。
</dd>
<dt class='method-param'>[PARAM] args:</dt>
<dd>
呼び出すメソッドに渡す引数です。
</dd>
</dl>
<pre>
p -365.send(:abs) #=&gt; 365
p &quot;ruby&quot;.send(:sub,/./,&quot;R&quot;) #=&gt; &quot;Ruby&quot;


class Foo
  def foo() &quot;foo&quot; end
  def bar() &quot;bar&quot; end
  def baz() &quot;baz&quot; end
end

# 任意のキーとメソッド(の名前)の関係をハッシュに保持しておく
# レシーバの情報がここにはないことに注意
methods = {1 =&gt; :foo,
  2 =&gt; :bar,
  3 =&gt; :baz}

# キーを使って関連するメソッドを呼び出す
# レシーバは任意(Foo クラスのインスタンスである必要もない)
p Foo.new.send(methods[1])      # =&gt; &quot;foo&quot;
p Foo.new.send(methods[2])      # =&gt; &quot;bar&quot;
p Foo.new.send(methods[3])      # =&gt; &quot;baz&quot;
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/method.html">Object#method</a>, <a href="../method/-kernel/m/eval.html">Kernel.#eval</a>, <a href="../class/-proc.html">Proc</a>, <a href="../class/-method.html">Method</a>
</p>
</dd>


<dt class="method-heading" id="I__DUMP"><code>_dump(limit) -&gt; String</code><span class="permalink">[<a href="../method/-object/i/_dump.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-_dump">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../method/-marshal/m/dump.html">Marshal.#dump</a> において出力するオブジェクトがメソッド _dump
を定義している場合には、そのメソッドの結果が書き出されます。
</p>
<p>
バージョン1.8.0以降では<a href="../method/-object/i/marshal_dump.html">Object#marshal_dump</a>, <a href="../method/-object/i/marshal_load.html">Object#marshal_load</a>の使用
が推奨されます。 Marshal.dump するオブジェクトが _dump と marshal_dump の両方の
メソッドを持つ場合は marshal_dump が優先されます。
</p>
<p>
メソッド _dump は引数として再帰を制限するレベル limit を受
け取り、オブジェクトを文字列化したものを返します。
</p>
<p>
インスタンスがメソッド _dump を持つクラスは必ず同じフォー
マットを読み戻すクラスメソッド _load を定義する必要があり
ます。_load はオブジェクトを表現した文字列を受け取り、それ
をオブジェクトに戻したものを返す必要があります。
</p>
<dl>
<dt class='method-param'>[PARAM] limit:</dt>
<dd>
再帰の制限レベルを表す整数です。
</dd>
<dt>[RETURN]</dt>
<dd>
オブジェクトを文字列化したものを返すように定義すべきです。
</dd>
</dl>
<pre>
class Foo
  def initialize(arg)
    @foo = arg
  end
  def _dump(limit)
    Marshal.dump(@foo, limit)
  end
  def self._load(obj)
    p obj
    Foo.new(Marshal.load(obj))
  end
end
foo = Foo.new(['foo', 'bar'])
p foo                      #=&gt; #&lt;Foo:0xbaf234 @foo=[&quot;foo&quot;, &quot;bar&quot;]&gt;
dms = Marshal.dump(foo)
p dms                      #=&gt; &quot;\004\bu:\bFoo\023\004\b[\a\&quot;\bfoo\&quot;\bbar&quot;
result = Marshal.load(dms) #=&gt; &quot;\004\b[\a\&quot;\bfoo\&quot;\bbar&quot; # self._load の引数
p result                   #=&gt; #&lt;Foo:0xbaf07c @foo=[&quot;foo&quot;, &quot;bar&quot;]&gt;
</pre>
<p>
インスタンス変数の情報は普通マーシャルデータに含まれるので、上例
のように _dump を定義する必要はありません(ただし _dump を定義すると
インスタンス変数の情報は dump されなくなります)。
_dump/_load はより高度な制御を行いたい場合や拡張ライブラリで定義し
たクラスのインスタンスがインスタンス変数以外に情報を保持する場合に
利用します。(例えば、クラス <a href="../class/-time.html">Time</a> は、_dump/_load を定義して
います)
</p>
<p>
[SEE_ALSO] <a href="../method/-object/i/marshal_dump.html">Object#marshal_dump</a>, <a href="../method/-object/i/marshal_load.html">Object#marshal_load</a>, <a href="../method/-class/i/_load.html">Class#_load</a>
</p>
</dd>


<dt class="method-heading" id="I_CLASS"><code>class -&gt; Class</code><span class="permalink">[<a href="../method/-object/i/class.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-class">rdoc</a>]</span></dt>
<dt class="method-heading"><code>type -&gt; Class</code></dt>
<dd class="method-description">
<p>
レシーバのクラスを返します。
</p>
<pre>
p &quot;ruby&quot;.class #=&gt; String
p 999999999999999.class #=&gt; Bignum
p ARGV.class #=&gt; Array
p self.class #=&gt; Object
p Class.class #=&gt; Class
p Kernel.class #=&gt; Module
</pre>
<p>
[SEE_ALSO] <a href="../method/-class/i/superclass.html">Class#superclass</a>,<a href="../method/-object/i/kind_of=3f.html">Object#kind_of?</a>,<a href="../method/-object/i/instance_of=3f.html">Object#instance_of?</a>
</p>
</dd>


<dt class="method-heading" id="I_CLONE"><code>clone -&gt; object</code><span class="permalink">[<a href="../method/-object/i/clone.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-clone">rdoc</a>]</span></dt>
<dt class="method-heading"><code>dup -&gt; object</code></dt>
<dd class="method-description">
<p>
オブジェクトの複製を作成して返します。
</p>
<p>
dup はオブジェクトの内容, taint 情報をコピーし、
clone はそれに加えて freeze, 特異メソッドなどの情報も含めた完全な複製を作成します。
</p>
<p>
clone や dup は浅い(shallow)コピーであることに注意してください。後述。
</p>
<dl>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
<a href="../class/-true-class.html">TrueClass</a>, <a href="../class/-false-class.html">FalseClass</a>, <a href="../class/-nil-class.html">NilClass</a>,
<a href="../class/-symbol.html">Symbol</a>, そして <a href="../class/-numeric.html">Numeric</a> クラスのインスタンスなど一部の
オブジェクトを複製しようとすると発生します。
</dd>
</dl>
<pre>
obj = &quot;string&quot;
obj.taint
def obj.fuga
end
obj.freeze

p(obj.equal?(obj))          #=&gt; true
p(obj == obj)               #=&gt; true
p(obj.tainted?)             #=&gt; true
p(obj.frozen?)              #=&gt; true
p(obj.respond_to?(:fuga))   #=&gt; true

obj_c = obj.clone

p(obj.equal?(obj_c))        #=&gt; false
p(obj == obj_c)             #=&gt; true
p(obj_c.tainted?)           #=&gt; true
p(obj_c.frozen?)            #=&gt; true
p(obj_c.respond_to?(:fuga)) #=&gt; true

obj_d = obj.dup

p(obj.equal?(obj_d))        #=&gt; false
p(obj == obj_d)             #=&gt; true
p(obj_d.tainted?)           #=&gt; true
p(obj_d.frozen?)            #=&gt; false
p(obj_d.respond_to?(:fuga)) #=&gt; false
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/initialize_copy.html">Object#initialize_copy</a>
</p>
<h4 >深いコピーと浅いコピー</h4>
<p>
clone や dup はオブジェクト自身を複製するだけで、オブジェクトの指し
ている先(たとえば配列の要素など)までは複製しません。これを浅いコピー(shallow copy)といいます。
</p>
<p>
深い(deep)コピーが必要な場合には、
<a href="../class/-marshal.html">Marshal</a>モジュールを利用して
</p>
<pre>
Marshal.load(Marshal.dump(obj))
</pre>
<p>
このように複製を作成する方法があります。ただしMarshal出来ないオブジェクトが
含まれている場合には使えません。
</p>
<pre>
obj = [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]

obj_d = obj.dup
obj_d[0] &lt;&lt; &quot;PLUS&quot;

p obj   #=&gt; [&quot;aPLUS&quot;, &quot;b&quot;, &quot;c&quot;]
p obj_d #=&gt; [&quot;aPLUS&quot;, &quot;b&quot;, &quot;c&quot;]

obj_m = Marshal.load(Marshal.dump(obj))
obj_m[1] &lt;&lt; &quot;PLUS&quot;

p obj   #=&gt; [&quot;aPLUS&quot;, &quot;b&quot;, &quot;c&quot;]
p obj_m #=&gt; [&quot;aPLUS&quot;, &quot;bPLUS&quot;, &quot;c&quot;]
</pre>
</dd>


<dt class="method-heading" id="I_DISPLAY"><code>display(out = $stdout) -&gt; nil</code><span class="permalink">[<a href="../method/-object/i/display.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-display">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトを out に出力します。
</p>
<p>
以下のように定義されています。
</p>
<pre>
class Object
  def display(out = $stdout)
    out.print self.to_s
    nil
  end
end
</pre>
<dl>
<dt class='method-param'>[PARAM] out:</dt>
<dd>
出力先のIOオブジェクトです。指定しない場合は標準出力に出力されます。
</dd>
<dt>[RETURN]</dt>
<dd>
nil を返します。
</dd>
</dl>
<pre>
Object.new.display #=&gt; #&lt;Object:0xbb0210&gt;
</pre>
<p>
[SEE_ALSO] <a href="../method/-kernel/v/stdout.html">$stdout</a>
</p>
</dd>


<dt class="method-heading" id="I_ENUM_FOR"><code>to_enum(method = :each, *args) -&gt; Enumerable::Enumerator</code><span class="permalink">[<a href="../method/-object/i/enum_for.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-enum_for">rdoc</a>]</span></dt>
<dt class="method-heading"><code>enum_for(method = :each, *args) -&gt; Enumerable::Enumerator</code></dt>
<dd class="method-description">
<p>
<a href="../method/-enumerable=3a=3a-enumerator/s/new.html">Enumerable::Enumerator.new</a>(self, method, *args) を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] method:</dt>
<dd>
メソッド名の文字列かシンボルです。
</dd>
<dt class='method-param'>[PARAM] args:</dt>
<dd>
呼び出すメソッドに渡される引数です。
</dd>
</dl>
<pre>
str = &quot;xyz&quot;

enum = str.enum_for(:each_byte)
p(a = enum.map{|b| '%02x' % b }) #=&gt; [&quot;78&quot;, &quot;79&quot;, &quot;7a&quot;]

# protects an array from being modified
a = [1, 2, 3]
p(a.to_enum) #=&gt; #&lt;Enumerable::Enumerator:0xbaf7ac&gt;
</pre>
<p>
[SEE_ALSO] <a href="../class/-enumerable=3a=3a-enumerator.html">Enumerable::Enumerator</a>
</p>
</dd>


<dt class="method-heading" id="I_EQL--3F"><code>eql?(other) -&gt; bool</code><span class="permalink">[<a href="../method/-object/i/eql=3f.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-eql-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトと other が等しければ真を返します。<a href="../class/-hash.html">Hash</a> で二つのキー
が等しいかどうかを判定するのに使われます。
</p>
<p>
このメソッドは各クラスの性質に合わせて再定義すべきです。
多くの場合、 == と同様に同値性の判定をするように再定義されていますが、
適切にキー判定ができるようにより厳しくなっている場合もあります。
</p>
<p>
デフォルトでは equal? と同じオブジェクト
の同一性判定になっています。
</p>
<p>
このメソッドを再定義した時には <a href="../method/-object/i/hash.html">Object#hash</a> メソッ
ドも再定義しなければなりません。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
比較するオブジェクトです。
</dd>
</dl>
<pre>
p(&quot;foo&quot;.eql?(&quot;bar&quot;)) #=&gt; false
p(&quot;foo&quot;.eql?(&quot;foo&quot;)) #=&gt; true

p(4.eql?(4)) #=&gt; true
p(4.eql?(4.0)) #=&gt; false
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/hash.html">Object#hash</a>,<a href="../method/-object/i/equal=3f.html">Object#equal?</a>,<a href="../method/-object/i/=3d=3d.html">Object#==</a>
</p>
</dd>


<dt class="method-heading" id="I_EQUAL--3F"><code>equal?(other) -&gt; bool</code><span class="permalink">[<a href="../method/-object/i/equal=3f.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-equal-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
other が self 自身の時、真を返します。
</p>
<p>
二つのオブジェクトが同一のものかどうか調べる時に使用します。
このメソッドを再定義してはいけません。
</p>
<p>
お互いの<a href="../method/-object/i/object_id.html">Object#object_id</a>が一致する
かどうかを調べます。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
比較するオブジェクトです。
</dd>
</dl>
<pre>
p(&quot;foo&quot;.equal?(&quot;bar&quot;)) #=&gt; false
p(&quot;foo&quot;.equal?(&quot;foo&quot;)) #=&gt; false

p(4.equal?(4)) #=&gt; true
p(4.equal?(4.0)) #=&gt; false

p(:foo.equal? :foo) #=&gt; true
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/object_id.html">Object#object_id</a>,<a href="../method/-object/i/=3d=3d.html">Object#==</a>,<a href="../method/-object/i/eql=3f.html">Object#eql?</a>,<a href="../class/-symbol.html">Symbol</a>
</p>
</dd>


<dt class="method-heading" id="I_EXTEND"><code>extend(*modules) -&gt; self</code><span class="permalink">[<a href="../method/-object/i/extend.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-extend">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
引数で指定したモジュールのインスタンスメソッドを self の特異
メソッドとして追加します。
</p>
<p>
<a href="../method/-module/i/include.html">Module#include</a> は、クラス(のインスタンス)に機能を追加します
が、extend は、ある特定のオブジェクトだけにモジュールの機能を追加
したいときに使用します。
</p>
<p>
引数に複数のモジュールを指定した場合、最後
の引数から逆順に extend を行います。
</p>
<dl>
<dt class='method-param'>[PARAM] modules:</dt>
<dd>
モジュールを任意個指定します（クラスは不可）。
</dd>
<dt>[RETURN]</dt>
<dd>
self を返します。
</dd>
</dl>
<pre>
module Foo
  def a
    'ok Foo'
  end
end

module Bar
  def b
    'ok Bar'
  end
end

obj = Object.new
obj.extend Foo, Bar
p obj.a #=&gt; &quot;ok Foo&quot;
p obj.b #=&gt; &quot;ok Bar&quot;

class Klass
  include Foo
  extend Bar
end

p Klass.new.a #=&gt; &quot;ok Foo&quot;
p Klass.b     #=&gt; &quot;ok Bar&quot;
</pre>
<p>
extend の機能は、「特異クラスに対する <a href="../method/-module/i/include.html">Module#include</a>」
と言い替えることもできます。
ただしその場合、フック用のメソッド
が <a href="../method/-module/i/extended.html">Module#extended</a> ではなく <a href="../method/-module/i/included.html">Module#included</a> になるという違いがあります。
</p>
<pre>
# obj.extend Foo, Bar とほぼ同じ
class &lt;&lt; obj
  include Foo, Bar
end
</pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/extend_object.html">Module#extend_object</a>,<a href="../method/-module/i/include.html">Module#include</a>,<a href="../method/-module/i/extended.html">Module#extended</a>
</p>
</dd>


<dt class="method-heading" id="I_FREEZE"><code>freeze -&gt; self</code><span class="permalink">[<a href="../method/-object/i/freeze.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-freeze">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトを凍結（内容の変更を禁止）します。
</p>
<p>
凍結されたオブジェクトの変更は
例外 <a href="../class/-type-error.html">TypeError</a> を発生させます。
いったん凍結されたオブジェクトを元に戻す方法はありません。
</p>
<p>
凍結されるのはオブジェクトであり、変数ではありません。代入などで変数の指す
オブジェクトが変化してしまうことは freeze では防げません。 freeze が防ぐのは、
`破壊的な操作' と呼ばれるもの一般です。変数への参照自体を凍結したい
場合は、グローバル変数なら <a href="../method/-kernel/m/trace_var.html">Kernel.#trace_var</a> が使えます。
</p>
<dl>
<dt>[RETURN]</dt>
<dd>
self を返します。
</dd>
</dl>
<pre>
a1 = &quot;foo&quot;.freeze
a1 = &quot;bar&quot;
p a1 #=&gt; &quot;bar&quot;

a2 = &quot;foo&quot;.freeze
a2.replace(&quot;bar&quot;)# can't modify frozen string (TypeError)
</pre>
<p>
凍結を解除することはできませんが、<a href="../method/-object/i/dup.html">Object#dup</a> を使えばほぼ同じ内容の凍結されていない
オブジェクトを得ることはできます。
</p>
<pre>
a = [1].freeze
p a.frozen?     #=&gt; true

a[0] = &quot;foo&quot;
p a             # can't modify frozen array (TypeError)

b = a.dup
p b             #=&gt; [1]
p b.frozen?     #=&gt; false

b[0] = &quot;foo&quot;
p b             #=&gt; [&quot;foo&quot;]
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/frozen=3f.html">Object#frozen?</a>,<a href="../method/-object/i/dup.html">Object#dup</a>,<a href="../method/-kernel/m/trace_var.html">Kernel.#trace_var</a>
</p>
</dd>


<dt class="method-heading" id="I_FROZEN--3F"><code>frozen? -&gt; bool</code><span class="permalink">[<a href="../method/-object/i/frozen=3f.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-frozen-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトが凍結（内容の変更を禁止）されているときに真を返します。
</p>
<pre>
obj = &quot;someone&quot;
p obj.frozen? #=&gt; false
obj.freeze
p obj.frozen? #=&gt; true
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/freeze.html">Object#freeze</a>
</p>
</dd>


<dt class="method-heading" id="I_HASH"><code>hash -&gt; Fixnum</code><span class="permalink">[<a href="../method/-object/i/hash.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-hash">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトのハッシュ値を返します。<a href="../class/-hash.html">Hash</a> クラスでオブジェク
トを格納するのに用いられています。
</p>
<p>
メソッド hash は <a href="../method/-object/i/eql=3f.html">Object#eql?</a> と組み合わせて Hash クラスで利用されます。その際
</p>
<pre>
A.eql?(B) ならば A.hash == B.hash
</pre>
<p>
の関係を必ず満たしていなければいけません。eql? を再定義した時には必ずこちらも合わせ
て再定義してください。
</p>
<p>
デフォルトでは、<a href="../method/-object/i/object_id.html">Object#object_id</a> と同じ値を返します。
ただし、<a href="../class/-fixnum.html">Fixnum</a>, <a href="../class/-symbol.html">Symbol</a>, <a href="../class/-string.html">String</a> だけは組込みのハッ
シュ関数が使用されます(これを変えることはできません)。
</p>
<p>
hash を再定義する場合は、一様に分布する任意の整数を返すようにします。
</p>
<dl>
<dt>[RETURN]</dt>
<dd>
ハッシュ値を返します。Fixnumに収まらない場合は切り捨てられます。
</dd>
</dl>
<pre>
p self.hash #=&gt; 21658870
p 0.hash #=&gt; 1
p 0.0.hash #=&gt; 0
p nil.hash #=&gt; 4

p &quot;ruby&quot;.hash #=&gt; -241670986
p &quot;ruby&quot;.hash #=&gt; -241670986
p :ruby.hash #=&gt; 103538
p :ruby.hash #=&gt; 103538
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/eql=3f.html">Object#eql?</a>,<a href="../method/-object/i/__id__.html">Object#__id__</a>
</p>
</dd>


<dt class="method-heading" id="I_INSPECT"><code>inspect -&gt; String</code><span class="permalink">[<a href="../method/-object/i/inspect.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-inspect">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトを人間が読める形式に変換した文字列を返します。
</p>
<p>
組み込み関数 <a href="../method/-kernel/m/p.html">Kernel.#p</a> は、このメソッドの結果を使用して
オブジェクトを表示します。
</p>
<pre>
[ 1, 2, 3..4, 'five' ].inspect   # =&gt; &quot;[1, 2, 3..4, \&quot;five\&quot;]&quot;
Time.new.inspect                 # =&gt; &quot;2008-03-08 19:43:39 +0900&quot;
</pre>
<p>
inspect メソッドをオーバーライドしなかった場合、クラス名とインスタンス
変数の名前、値の組を元にした文字列を返します。
</p>
<pre>
class Foo
end
Foo.new.inspect                  # =&gt; &quot;#&lt;Foo:0x0300c868&gt;&quot;

class Bar
  def initialize
    @bar = 1
  end
end
Bar.new.inspect                  # =&gt; &quot;#&lt;Bar:0x0300c868 @bar=1&gt;&quot;
</pre>
<p>
また、to_s メソッドをオーバーライドしていた場合は to_s メソッドの実行結
果を返します。(ただし、2.0 で to_s メソッドは実行されなくなった点に注意
してください)
</p>
<pre>
class Baz
  def to_s
    &quot;baz&quot;
  end
end
Baz.new.inspect                  # =&gt; &quot;baz&quot;
</pre>
<p>
[SEE_ALSO] <a href="../method/-kernel/m/p.html">Kernel.#p</a>
</p>
</dd>


<dt class="method-heading" id="I_INSTANCE_EVAL"><code>instance_eval(expr, filename = &quot;(eval)&quot;, lineno = 1) -&gt; object</code><span class="permalink">[<a href="../method/-object/i/instance_eval.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-instance_eval">rdoc</a>]</span></dt>
<dt class="method-heading"><code>instance_eval {|obj| ... } -&gt; object</code></dt>
<dd class="method-description">
<p>
オブジェクトのコンテキストで文字列 expr またはオブジェクト自身をブロックパラメータとするブロックを
評価してその結果を返します。
</p>
<p>
オブジェクトのコンテキストで評価するとは評価中の self をそのオブジェクトにして実行するということです。
また、文字列 expr やブロック中でメソッドを定義すればそのオブジェクトの特異メソッドが定義されます。
</p>
<p>
ただし、ローカル変数だけは、文字列 expr の評価では instance_eval の外側のスコープと、ブロックの評価ではそのブロックの外側のスコープと、共有します。
</p>
<p>
メソッド定義の中で instance_eval でメソッドを定義した場合は、囲むメソッドが実行されたときに
初めて instance_eval 内のメソッドが定義されます。これはメソッド定義のネストと同じです。
<a href="../doc/spec=2fdef.html#nest_method">クラス／メソッドの定義/メソッド定義のネスト</a> を参照してください。
</p>
<dl>
<dt class='method-param'>[PARAM] expr:</dt>
<dd>
評価する文字列です。
</dd>
<dt class='method-param'>[PARAM] filename:</dt>
<dd>
文字列を指定します。ファイル filename に文字列 expr が
書かれているかのように実行されます。スタックトレースの
表示などを差し替えることができます。
</dd>
<dt class='method-param'>[PARAM] lineno:</dt>
<dd>
文字列を指定します。行番号 lineno から文字列 expr が書かれているかのように実行されます。
スタックトレースの表示などを差し替えることができます。
</dd>
</dl>
<p>
例:
</p>
<pre>
class Foo
  def initialize data
    @key = data
  end
  private
  def do_fuga
    p 'secret'
  end
end

some = Foo.new 'XXX'
some.instance_eval{p @key} #=&gt; &quot;XXX&quot;
some.instance_eval{do_fuga } #=&gt; &quot;secret&quot; # private メソッドも呼び出せる

some.instance_eval 'raise' # ..:10: (eval):1:  (RuntimeError)
messg = 'unknown'
some.instance_eval 'raise messg','file.rb',999 # file.rb:999: unknown (RuntimeError)
</pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/module_eval.html">Module#module_eval</a>, <a href="../method/-kernel/m/eval.html">Kernel.#eval</a>
</p>
</dd>


<dt class="method-heading" id="I_INSTANCE_EXEC"><code>instance_exec(*args) {|*vars| ... } -&gt; object</code><span class="permalink">[<a href="../method/-object/i/instance_exec.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-instance_exec">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
与えられたブロックをレシーバのコンテキストで実行します。
</p>
<p>
ブロック実行中は、 self がレシーバのコンテキストになるので
レシーバの持つインスタンス変数にアクセスすることができます。
</p>
<dl>
<dt class='method-param'>[PARAM] args:</dt>
<dd>
ブロックパラメータに渡す値です。
</dd>
</dl>
<pre>
class KlassWithSecret
  def initialize
    @secret = 99
  end
end
k = KlassWithSecret.new
# 以下で x には 5 が渡される
k.instance_exec(5) {|x| @secret + x }   #=&gt; 104
</pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/class_exec.html">Module#class_exec</a>, <a href="../method/-module/i/module_exec.html">Module#module_exec</a>, <a href="../method/-object/i/instance_eval.html">Object#instance_eval</a>
</p>
</dd>


<dt class="method-heading" id="I_INSTANCE_OF--3F"><code>instance_of?(klass) -&gt; bool</code><span class="permalink">[<a href="../method/-object/i/instance_of=3f.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-instance_of-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトがクラス klass の直接のインスタンスである時真を返します。
</p>
<p>
obj.instance_of?(c) が成立する時には、常に obj.kind_of?(c) も成立します。
</p>
<dl>
<dt class='method-param'>[PARAM] klass:</dt>
<dd>
<a href="../class/-class.html">Class</a>かそのサブクラスのインスタンスです。
</dd>
</dl>
<pre>
class C &lt; Object
end
class S &lt; C
end

obj = S.new
p obj.instance_of?(S)       # true
p obj.instance_of?(C)       # false
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/kind_of=3f.html">Object#kind_of?</a>,<a href="../method/-object/i/class.html">Object#class</a>
</p>
</dd>


<dt class="method-heading" id="I_INSTANCE_VARIABLE_DEFINED--3F"><code>instance_variable_defined?(var) -&gt; bool</code><span class="permalink">[<a href="../method/-object/i/instance_variable_defined=3f.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-instance_variable_defined-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
インスタンス変数 var が定義されていたら真を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] var:</dt>
<dd>
インスタンス変数名を文字列か <a href="../class/-symbol.html">Symbol</a> で指定します。
</dd>
</dl>
<pre>
class Fred
  def initialize(p1, p2)
    @a, @b = p1, p2
  end
end
fred = Fred.new('cat', 99)
p fred.instance_variable_defined?(:@a)    #=&gt; true
p fred.instance_variable_defined?(&quot;@b&quot;)   #=&gt; true
p fred.instance_variable_defined?(&quot;@c&quot;)   #=&gt; false
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/instance_variable_get.html">Object#instance_variable_get</a>,<a href="../method/-object/i/instance_variable_set.html">Object#instance_variable_set</a>,<a href="../method/-object/i/instance_variables.html">Object#instance_variables</a>
</p>
</dd>


<dt class="method-heading" id="I_INSTANCE_VARIABLE_GET"><code>instance_variable_get(var) -&gt; object | nil</code><span class="permalink">[<a href="../method/-object/i/instance_variable_get.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-instance_variable_get">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトのインスタンス変数の値を取得して返します。
</p>
<p>
インスタンス変数が定義されていなければ nil を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] var:</dt>
<dd>
インスタンス変数名を文字列か <a href="../class/-symbol.html">Symbol</a> で指定します。
</dd>
</dl>
<pre>
class Foo
  def initialize
    @foo = 1
  end
end

obj = Foo.new
p obj.instance_variable_get(&quot;@foo&quot;)     #=&gt; 1
p obj.instance_variable_get(:@foo)      #=&gt; 1
p obj.instance_variable_get(:@bar)      #=&gt; nil
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/instance_variable_set.html">Object#instance_variable_set</a>,<a href="../method/-object/i/instance_variables.html">Object#instance_variables</a>,<a href="../method/-object/i/instance_variable_defined=3f.html">Object#instance_variable_defined?</a>
</p>
</dd>


<dt class="method-heading" id="I_INSTANCE_VARIABLE_SET"><code>instance_variable_set(var, value) -&gt; object</code><span class="permalink">[<a href="../method/-object/i/instance_variable_set.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-instance_variable_set">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトのインスタンス変数 var に値 value を設定します。
</p>
<p>
インスタンス変数が定義されていなければ新たに定義されます。
</p>
<dl>
<dt class='method-param'>[PARAM] var:</dt>
<dd>
インスタンス変数名を文字列か <a href="../class/-symbol.html">Symbol</a> で指定します。
</dd>
<dt class='method-param'>[PARAM] value:</dt>
<dd>
設定する値です。
</dd>
<dt>[RETURN]</dt>
<dd>
value を返します。
</dd>
</dl>
<pre>
obj = Object.new
p obj.instance_variable_set(&quot;@foo&quot;, 1)  #=&gt; 1
p obj.instance_variable_set(:@foo, 2)   #=&gt; 2
p obj.instance_variable_get(:@foo)      #=&gt; 2
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/instance_variable_get.html">Object#instance_variable_get</a>,<a href="../method/-object/i/instance_variables.html">Object#instance_variables</a>,<a href="../method/-object/i/instance_variable_defined=3f.html">Object#instance_variable_defined?</a>
</p>
</dd>


<dt class="method-heading" id="I_INSTANCE_VARIABLES"><code>instance_variables -&gt; [String]</code><span class="permalink">[<a href="../method/-object/i/instance_variables.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-instance_variables">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトのインスタンス変数名を文字列の配列として返します。
</p>
<pre>
obj = Object.new
obj.instance_eval { @foo, @bar = nil }
p obj.instance_variables

#=&gt; [&quot;@foo&quot;, &quot;@bar&quot;]
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/instance_variable_get.html">Object#instance_variable_get</a>, <a href="../method/-kernel/m/local_variables.html">Kernel.#local_variables</a>, <a href="../method/-kernel/m/global_variables.html">Kernel.#global_variables</a>, <a href="../method/-module/s/constants.html">Module.constants</a>, <a href="../method/-module/i/constants.html">Module#constants</a>, <a href="../method/-module/i/class_variables.html">Module#class_variables</a>
</p>
</dd>


<dt class="method-heading" id="I_IS_A--3F"><code>is_a?(mod) -&gt; bool</code><span class="permalink">[<a href="../method/-object/i/is_a=3f.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-is_a-3F">rdoc</a>]</span></dt>
<dt class="method-heading"><code>kind_of?(mod) -&gt; bool</code></dt>
<dd class="method-description">
<p>
オブジェクトが指定されたクラス mod かそのサブクラスのインスタンスであるとき真を返します。
</p>
<p>
また、オブジェクトがモジュール mod をインクルードしたクラスかそのサブクラス
のインスタンスである場合にも真を返します。
上記のいずれでもない場合に false を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] mod:</dt>
<dd>
クラスやモジュールなど、<a href="../class/-module.html">Module</a>かそのサブクラスのインスタンスです。
</dd>
</dl>
<pre>
module M
end
class C &lt; Object
  include M
end
class S &lt; C
end

obj = S.new
p obj.is_a?(S)       # true
p obj.is_a?(C)       # true
p obj.is_a?(Object)  # true
p obj.is_a?(M)       # true
p obj.is_a?(Hash)    # false
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/instance_of=3f.html">Object#instance_of?</a>,<a href="../method/-module/i/=3d=3d=3d.html">Module#===</a>,<a href="../method/-object/i/class.html">Object#class</a>
</p>
</dd>


<dt class="method-heading" id="I_MARSHAL_DUMP"><code>marshal_dump -&gt; object</code><span class="permalink">[<a href="../method/-object/i/marshal_dump.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-marshal_dump">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../method/-marshal/m/dump.html">Marshal.#dump</a> を制御するメソッドです。
</p>
<p>
Marshal.dump(some) において、出力するオブジェクト some がメソッド marshal_dump を
持つ場合には、その返り値がダンプされたものが Marshal.dump(some) の返り値となります。
</p>
<p>
marshal_dump/marshal_load の仕組みは Ruby 1.8.0 から導入されました。
これから書くプログラムでは _dump/_load ではなく
marshal_dump/marshal_load を使うべきです。
</p>
<dl>
<dt>[RETURN]</dt>
<dd>
任意のオブジェクトで marshal_load の引数に利用できます。
</dd>
</dl>
<pre>
class Foo
  def initialize(arg)
    @foo = arg
  end
  def marshal_dump
    @foo
  end
  def marshal_load(obj)
    p obj
    @foo = obj
  end
end
foo = Foo.new(['foo', 'bar'])
p foo                      #=&gt; #&lt;Foo:0xbaf3b0 @foo=[&quot;foo&quot;, &quot;bar&quot;]&gt;
dms = Marshal.dump(foo)
p dms                      #=&gt; &quot;\004\bU:\bFoo[\a\&quot;\bfoo\&quot;\bbar&quot;
result = Marshal.load(dms) #=&gt; [&quot;foo&quot;, &quot;bar&quot;] # marshal_load の引数
p result                   #=&gt; #&lt;Foo:0xbaf2ac @foo=[&quot;foo&quot;, &quot;bar&quot;]&gt;
</pre>
<p>
インスタンス変数の情報は普通マーシャルデータに含まれるので、
上例のように marshal_dump を定義する必要はありません
(ただし marshal_dump を定義するとインスタンス変数の情報は
ダンプされなくなるので、marshal_dump/marshal_load で扱う必要があります)。
marshal_dump/marshal_load はより高度な制御を行いたい場合や
拡張ライブラリで定義したクラスのインスタンスがインスタンス変数以外
に情報を保持する場合に利用します。
</p>
<p>
特に、marshal_dump/marshal_load を定義したオブジェクトは
特異メソッドが定義されていてもマーシャルできるようになります
(特異メソッドの情報が自動的に dump されるようになるわけではなく、
marshal_dump/marshal_load によりそれを実現する余地があるということです)。
</p>
<p>
[SEE_ALSO] <a href="../method/-object/i/marshal_load.html">Object#marshal_load</a>, <a href="../class/-marshal.html">Marshal</a>
</p>
</dd>


<dt class="method-heading" id="I_MARSHAL_LOAD"><code>marshal_load(obj) -&gt; object</code><span class="permalink">[<a href="../method/-object/i/marshal_load.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-marshal_load">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../method/-marshal/m/load.html">Marshal.#load</a> を制御するメソッドです。
</p>
<p>
some のダンプ結果（Marshal.dump(some)） をロードする（Marshal.load(Marshal.dump(some))）に
は some がメソッド marshal_load を持っていなければなりません。
このとき、marshal_dump の返り値が marshal_load の引数に利用されます。
marshal_load 時の self は、生成されたばかり（<a href="../method/-class/i/allocate.html">Class#allocate</a> されたばかり） の状態です。
</p>
<p>
marshal_dump/marshal_load の仕組みは Ruby 1.8.0 から導入されました。
これから書くプログラムでは _dump/_load ではなく
marshal_dump/marshal_load を使うべきです。
</p>
<dl>
<dt class='method-param'>[PARAM] obj:</dt>
<dd>
marshal_dump の返り値のコピーです。
</dd>
<dt>[RETURN]</dt>
<dd>
返り値は無視されます。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-object/i/marshal_dump.html">Object#marshal_dump</a>, <a href="../class/-marshal.html">Marshal</a>
</p>
</dd>


<dt class="method-heading" id="I_METHOD"><code>method(name) -&gt; Method</code><span class="permalink">[<a href="../method/-object/i/method.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-method">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトのメソッド name をオブジェクト化した
<a href="../class/-method.html">Method</a> オブジェクトを返します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
メソッド名を<a href="../class/-symbol.html">Symbol</a> または<a href="../class/-string.html">String</a>で指定します。
</dd>
<dt>[EXCEPTION] NameError:</dt>
<dd>
定義されていないメソッド名を引数として与えると発生します。
</dd>
</dl>
<pre>
me = -365.method(:abs)
p me #=&gt; #&lt;Method: Fixnum#abs&gt;
p me.call #=&gt; 365
</pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/instance_method.html">Module#instance_method</a>,<a href="../class/-method.html">Method</a>,<a href="../method/-object/i/__send__.html">Object#__send__</a>,<a href="../method/-kernel/m/eval.html">Kernel.#eval</a>
</p>
</dd>


<dt class="method-heading" id="I_METHOD_MISSING"><code>method_missing(name, *args) -&gt; object</code><span class="permalink">[<a href="../method/-object/i/method_missing.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-method_missing">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
呼びだされたメソッドが定義されていなかった時、Rubyインタプリタがこのメソッド
を呼び出します。
</p>
<p>
呼び出しに失敗したメソッドの名前 (<a href="../class/-symbol.html">Symbol</a>) が name に
その時の引数が第二引数以降に渡されます。
</p>
<p>
デフォルトではこのメソッドは例外 <a href="../class/-no-method-error.html">NoMethodError</a> を発生させます。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
未定義メソッドの名前（シンボル）です。
</dd>
<dt class='method-param'>[PARAM] args:</dt>
<dd>
未定義メソッドに渡された引数です。
</dd>
<dt>[RETURN]</dt>
<dd>
ユーザー定義の method_missing メソッドの返り値が未定義メソッドの返り値で
あるかのように見えます。
</dd>
</dl>
<pre>
class Foo
  def initialize(data)
    @data = data
  end
  def method_missing(name, lang)
    if name.to_s =~ /\Afind_(\d+)_in\z/
      if @data[lang]
        p @data[lang][$1.to_i]
      else
        raise &quot;#{lang} unknown&quot;
      end
    else
      super
    end
  end
end

dic = Foo.new({:English =&gt; %w(zero one two), :Esperanto =&gt; %w(nulo unu du)})
dic.find_2_in :Esperanto #=&gt; &quot;du&quot;
</pre>
</dd>


<dt class="method-heading" id="I_METHODS"><code>methods(include_inherited = true) -&gt; [String]</code><span class="permalink">[<a href="../method/-object/i/methods.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-methods">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
そのオブジェクトに対して呼び出せるメソッド名の一覧を返します。
このメソッドは public メソッドおよび protected メソッドの名前を返します。
</p>
<p>
ただし特別に、引数が偽の時は <a href="../method/-object/i/singleton_methods.html">Object#singleton_methods</a>(false) と同じになっています。
</p>
<dl>
<dt class='method-param'>[PARAM] include_inherited:</dt>
<dd>
引数が偽の時は <a href="../method/-object/i/singleton_methods.html">Object#singleton_methods</a>(false) と同じになります。
</dd>
</dl>
<pre>
#例1:

class Parent
  private;   def private_parent()   end
  protected; def protected_parent() end
  public;    def public_parent()    end
end

class Foo &lt; Parent
  private;   def private_foo()   end
  protected; def protected_foo() end
  public;    def public_foo()    end
end

obj = Foo.new
class &lt;&lt;obj
    private;   def private_singleton()   end
    protected; def protected_singleton() end
    public;    def public_singleton()    end
end

# あるオブジェクトの応答できるメソッドの一覧を得る。
p obj.methods(false)
p obj.public_methods(false)
p obj.private_methods(false)
p obj.protected_methods(false)

#実行結果

[&quot;public_singleton&quot;, &quot;protected_singleton&quot;]
[&quot;public_foo&quot;, &quot;public_singleton&quot;]
[&quot;private_foo&quot;, &quot;private_singleton&quot;]
[&quot;protected_foo&quot;, &quot;protected_singleton&quot;]

#例2:

# あるオブジェクトの応答できるメソッドの一覧を得る。
# 自身のクラスの親クラスのインスタンスメソッドも含めるために true を指定して
# いるが、Object のインスタンスメソッドは一覧から排除している。
p obj.methods(true)           - Object.instance_methods(true)
p obj.public_methods(true)    - Object.public_instance_methods(true)
p obj.private_methods(true)   - Object.private_instance_methods(true)
p obj.protected_methods(true) - Object.protected_instance_methods(true)

#実行結果

[&quot;public_foo&quot;, &quot;public_parent&quot;, &quot;protected_singleton&quot;, &quot;public_singleton&quot;, &quot;protected_foo&quot;, &quot;protected_parent&quot;]
[&quot;public_foo&quot;, &quot;public_parent&quot;, &quot;public_singleton&quot;]
[&quot;private_singleton&quot;, &quot;private_foo&quot;, &quot;private_parent&quot;]
[&quot;protected_singleton&quot;, &quot;protected_foo&quot;, &quot;protected_parent&quot;]
</pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/instance_methods.html">Module#instance_methods</a>,<a href="../method/-object/i/singleton_methods.html">Object#singleton_methods</a>
</p>
</dd>


<dt class="method-heading" id="I_NIL--3F"><code>nil? -&gt; bool</code><span class="permalink">[<a href="../method/-object/i/nil=3f.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-nil-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
レシーバが nil であれば真を返します。
</p>
<pre>
p false.nil? #=&gt; false
p nil.nil? #=&gt; true
</pre>
<p>
[SEE_ALSO] <a href="../class/-nil-class.html">NilClass</a>
</p>
</dd>


<dt class="method-heading" id="I_PRIVATE_METHODS"><code>private_methods(include_inherited = true) -&gt; [String]</code><span class="permalink">[<a href="../method/-object/i/private_methods.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-private_methods">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
そのオブジェクトが理解できる private メソッド名の一覧を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] include_inherited:</dt>
<dd>
偽となる値を指定すると自身のクラスのスーパークラスで定義されたメソッドを除きます。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-module/i/private_instance_methods.html">Module#private_instance_methods</a>,<a href="../method/-object/i/methods.html">Object#methods</a>,<a href="../method/-object/i/singleton_methods.html">Object#singleton_methods</a>
</p>
</dd>


<dt class="method-heading" id="I_PROTECTED_METHODS"><code>protected_methods(include_inherited = true) -&gt; [String]</code><span class="permalink">[<a href="../method/-object/i/protected_methods.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-protected_methods">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
そのオブジェクトが理解できる protected メソッド名の一覧を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] include_inherited:</dt>
<dd>
偽となる値を指定すると自身のクラスのスーパークラスで定義されたメソッドを除きます。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-module/i/protected_instance_methods.html">Module#protected_instance_methods</a>,<a href="../method/-object/i/methods.html">Object#methods</a>,<a href="../method/-object/i/singleton_methods.html">Object#singleton_methods</a>
</p>
</dd>


<dt class="method-heading" id="I_PUBLIC_METHODS"><code>public_methods(include_inherited = true) -&gt; [String]</code><span class="permalink">[<a href="../method/-object/i/public_methods.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-public_methods">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
そのオブジェクトが理解できる public メソッド名の一覧を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] include_inherited:</dt>
<dd>
偽となる値を指定すると自身のクラスのスーパークラスで定義されたメソッドを除きます。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-module/i/public_instance_methods.html">Module#public_instance_methods</a>,<a href="../method/-object/i/methods.html">Object#methods</a>,<a href="../method/-object/i/singleton_methods.html">Object#singleton_methods</a>
</p>
</dd>


<dt class="method-heading" id="I_RESPOND_TO--3F"><code>respond_to?(name, include_private = false) -&gt; bool</code><span class="permalink">[<a href="../method/-object/i/respond_to=3f.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-respond_to-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトがメソッド name を持つとき真を返します。
</p>
<p>
オブジェクトが メソッド name を持つというのは、
オブジェクトが メソッド name に応答することができることをいいます。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
<a href="../class/-symbol.html">Symbol</a> または文字列で指定するメソッド名です。
</dd>
<dt class='method-param'>[PARAM] include_private:</dt>
<dd>
private メソッドを確認の対象に含めるかを true か
false で指定します。省略した場合は false(含めな
い) を指定した事になります。
</dd>
</dl>
<pre>
class F
  def hello
    &quot;Bonjour&quot;
  end
end

class D
  private
  def hello
    &quot;Guten Tag&quot;
  end
end
list = [F.new,D.new]

list.each{|it| puts it.hello if it.respond_to?(:hello)}
#=&gt; Bonjour

list.each{|it| it.instance_eval(&quot;puts hello if it.respond_to?(:hello, true)&quot;)}
#=&gt; Bonjour
#   Guten Tag
</pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/method_defined=3f.html">Module#method_defined?</a>
</p>
</dd>


<dt class="method-heading" id="I_SINGLETON_METHODS"><code>singleton_methods(inherited_too = true) -&gt; [String]</code><span class="permalink">[<a href="../method/-object/i/singleton_methods.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-singleton_methods">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
そのオブジェクトに対して定義されている特異メソッド名
(public あるいは protected メソッド) の一覧を返します。
</p>
<p>
inherited_too が真のときは継承した特異メソッドを含みます。
継承した特異メソッドとは <a href="../method/-object/i/extend.html">Object#extend</a> によって追加された特異メソッドや、
self がクラスの場合はスーパークラスのクラスメソッド(<a href="../class/-class.html">Class</a>のインスタンスの特異メソッド)などです。
</p>
<p>
singleton_methods(false) は、<a href="../method/-object/i/methods.html">Object#methods</a>(false) と同じです。
</p>
<dl>
<dt class='method-param'>[PARAM] inherited_too:</dt>
<dd>
継承した特異メソッドを含める場合は真を、
そうでない場合は偽を指定します。
</dd>
</dl>
<pre>
#例1:

Parent = Class.new

class &lt;&lt;Parent
  private;   def private_class_parent() end
  protected; def protected_class_parent() end
  public;    def public_class_parent() end
end

Foo = Class.new(Parent)

class &lt;&lt;Foo
  private;   def private_class_foo() end
  protected; def protected_class_foo() end
  public;    def public_class_foo() end
end

module Bar
  private;   def private_bar()   end
  protected; def protected_bar() end
  public;    def public_bar()    end
end

obj = Foo.new
class &lt;&lt;obj
  include Bar
  private;   def private_self()   end
  protected; def protected_self() end
  public;    def public_self()    end
end

# あるオブジェクトの特異メソッドの一覧を得る。
p obj.singleton_methods(false)
p obj.methods(false)
p Foo.singleton_methods(false)

#実行結果

[&quot;public_self&quot;, &quot;protected_self&quot;]
[&quot;public_self&quot;, &quot;protected_self&quot;]
[&quot;public_class_foo&quot;, &quot;protected_class_foo&quot;]


#例2:

# あるオブジェクトの特異メソッドの一覧を得る。
# 親クラスのクラスメソッドも含まれるよう true を指定したが、
# Object のクラスメソッドは一覧から排除している。

p obj.singleton_methods(true)
p Foo.singleton_methods(true) - Object.singleton_methods(true)

#実行結果

[&quot;public_bar&quot;, &quot;public_self&quot;, &quot;protected_bar&quot;, &quot;protected_self&quot;]
[&quot;public_class_foo&quot;, &quot;public_class_parent&quot;, &quot;protected_class_foo&quot;, &quot;protected_class_parent&quot;]
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/methods.html">Object#methods</a>,<a href="../method/-object/i/extend.html">Object#extend</a>
</p>
</dd>


<dt class="method-heading" id="I_TAINT"><code>taint -&gt; self</code><span class="permalink">[<a href="../method/-object/i/taint.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-taint">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトの「汚染マーク」をセットします。
</p>
<p>
環境変数（<a href="../class/-e-n-v.html">ENV</a>で得られる文字列）など一部のオブジェクトは最初から汚染されています。
オブジェクトの汚染に関しては<a href="../doc/spec=2fsafelevel.html">セキュリティモデル</a>を参照してください。
</p>
<pre>
$SAFE = 1

some = &quot;puts '@&amp;%&amp;(#!'&quot;
p some.tainted? #=&gt; false
eval(some) #=&gt; @&amp;%&amp;(#!

some.taint
p some.tainted? #=&gt; true
eval(some) # Insecure operation - eval (SecurityError)

some.untaint
p some.tainted? #=&gt; false
eval(some) #=&gt; @&amp;%&amp;(#!

p ENV['OS'].tainted? #=&gt; true
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/tainted=3f.html">Object#tainted?</a>,<a href="../method/-object/i/untaint.html">Object#untaint</a>,<a href="../method/-object/i/freeze.html">Object#freeze</a>
</p>
</dd>


<dt class="method-heading" id="I_TAINTED--3F"><code>tainted? -&gt; bool</code><span class="permalink">[<a href="../method/-object/i/tainted=3f.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-tainted-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトの「汚染マーク」がセットされている時真を返します。
</p>
<p>
オブジェクトの汚染に関しては<a href="../doc/spec=2fsafelevel.html">セキュリティモデル</a>を参照してください。
</p>
<pre>
p String.new.tainted? #=&gt; false
p ENV['OS'].tainted? #=&gt; true
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/taint.html">Object#taint</a>,<a href="../method/-object/i/untaint.html">Object#untaint</a>
</p>
</dd>


<dt class="method-heading" id="I_TAP"><code>tap {|x| ... } -&gt; self</code><span class="permalink">[<a href="../method/-object/i/tap.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-tap">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self を引数としてブロックを評価し、self を返します。
</p>
<p>
メソッドチェインの途中で直ちに操作結果を表示するために
メソッドチェインに &quot;入り込む&quot; ことが、このメソッドの主目的です。
</p>
<pre>
(1..10)                    .tap {|x| puts &quot;original: #{x.inspect}&quot;}.
   to_a                    .tap {|x| puts &quot;array: #{x.inspect}&quot;}.
   select {|x| x % 2 == 0} .tap {|x| puts &quot;evens: #{x.inspect}&quot;}.
   map { |x| x * x }       .tap {|x| puts &quot;squares: #{x.inspect}&quot;}
</pre>
</dd>


<dt class="method-heading" id="I_TO_A"><code>to_a -&gt; Array</code><span class="permalink">[<a href="../method/-object/i/to_a.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-to_a">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトを配列に変換した結果を返します。
</p>
<p>
配列に変換できない(to_ary を持たない)オブジェクトは、自身のみを含む長さ 1 の配
列に変換されます。
このメソッドは、将来 Object のメソッドからは取り除かれます。
なので to_a を使用する場合、
</p>
<ul>
<li>すべてのオブジェクトに to_a が定義されているという期待はしない。</li>
<li>ユーザー定義のクラスには必要に応じて自分で定義する</li>
</ul>
<p>
などということが必要です。
</p>
<pre>
p( {'a'=&gt;1}.to_a )  # [[&quot;a&quot;, 1]]
p ['array'].to_a    # [&quot;array&quot;]
p 1.to_a            # [1]       (warning: default `to_a' will be obsolete)
p nil.to_a          # []
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/to_ary.html">Object#to_ary</a>,<a href="../method/-kernel/m/-array.html">Kernel.#Array</a>
</p>
</dd>


<dt class="method-heading" id="I_TO_ARY"><code>to_ary -&gt; Array</code><span class="permalink">[<a href="../method/-object/i/to_ary.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-to_ary">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトの <a href="../class/-array.html">Array</a> への暗黙の変換が必要なときに内部で呼ばれます。
デフォルトでは定義されていません。
</p>
<p>
説明のためここに記載してありますが、
このメソッドは実際には Object クラスには定義されていません。
必要に応じてサブクラスで定義すべきものです。
</p>
<p>
このメソッドを定義する条件は、
</p>
<ul>
<li>配列が使われるすべての場面で代置可能であるような、</li>
<li>配列そのものとみなせるようなもの</li>
</ul>
<p>
という厳しいものになっています。
</p>
<pre>
class Foo
 def to_ary
   [3,4]
 end
end

it = Foo.new
p([1,2] + it) #=&gt; [1, 2, 3, 4]
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/to_a.html">Object#to_a</a>,<a href="../method/-kernel/m/-array.html">Kernel.#Array</a>
</p>
</dd>


<dt class="method-heading" id="I_TO_HASH"><code>to_hash -&gt; Hash</code><span class="permalink">[<a href="../method/-object/i/to_hash.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-to_hash">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトの <a href="../class/-hash.html">Hash</a> への暗黙の変換が必要なときに内部で呼ばれます。
デフォルトでは定義されていません。
</p>
<p>
説明のためここに記載してありますが、
このメソッドは実際には Object クラスには定義されていません。
必要に応じてサブクラスで定義すべきものです。
</p>
<p>
このメソッドを定義する条件は、
</p>
<ul>
<li>ハッシュが使われるすべての場面で代置可能であるような、</li>
<li>ハッシュそのものとみなせるようなもの</li>
</ul>
<p>
という厳しいものになっています。
</p>
<pre>
class Foo
 def to_hash
   {'as' =&gt; 24}
 end
end

it = Foo.new
p({:as =&gt; 12}.merge(it)) #=&gt; {&quot;as&quot;=&gt;24, :as=&gt;12}
</pre>
</dd>


<dt class="method-heading" id="I_TO_INT"><code>to_int -&gt; Integer</code><span class="permalink">[<a href="../method/-object/i/to_int.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-to_int">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトの <a href="../class/-integer.html">Integer</a> への暗黙の変換が必要なときに内部で呼ばれます。
デフォルトでは定義されていません。
</p>
<p>
説明のためここに記載してありますが、
このメソッドは実際には Object クラスには定義されていません。
必要に応じてサブクラスで定義すべきものです。
</p>
<p>
このメソッドを定義する条件は、
</p>
<ul>
<li>整数が使われるすべての場面で代置可能であるような、</li>
<li>整数そのものとみなせるようなもの</li>
</ul>
<p>
という厳しいものになっています。
</p>
<pre>
class Foo
 def to_int
   1
 end
end

ary = [:a, :b, :c]
p(ary[Foo.new]) # =&gt; :b
</pre>
<p>
[SEE_ALSO] <a href="../method/-kernel/m/-integer.html">Kernel.#Integer</a>
</p>
</dd>


<dt class="method-heading" id="I_TO_IO"><code>to_io -&gt; IO</code><span class="permalink">[<a href="../method/-object/i/to_io.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-to_io">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトの <a href="../class/-i-o.html">IO</a> への暗黙の変換が必要なときに内部で呼ばれます。
デフォルトでは定義されていません。
</p>
<p>
説明のためここに記載してありますが、
このメソッドは実際には Object クラスには定義されていません。
必要に応じてサブクラスで定義すべきものです。
</p>
<p>
このメソッドを定義する条件は、
</p>
<ul>
<li>IOオブジェクトが使われるすべての場面で代置可能であるような、</li>
<li>IOオブジェクトそのものとみなせるようなもの</li>
</ul>
<p>
という厳しいものになっています。
</p>
</dd>


<dt class="method-heading" id="I_TO_PROC"><code>to_proc -&gt; Proc</code><span class="permalink">[<a href="../method/-object/i/to_proc.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-to_proc">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトの <a href="../class/-proc.html">Proc</a> への暗黙の変換が必要なときに内部で呼ばれます。
デフォルトでは定義されていません。
</p>
<p>
説明のためここに記載してありますが、
このメソッドは実際には Object クラスには定義されていません。
必要に応じてサブクラスで定義すべきものです。
</p>
<pre>
def doing
  yield
end

class Foo
 def to_proc
   Proc.new{p 'ok'}
 end
end

it = Foo.new
doing(&amp;it) #=&gt; &quot;ok&quot;
</pre>
</dd>


<dt class="method-heading" id="I_TO_REGEXP"><code>to_regexp -&gt; Regexp</code><span class="permalink">[<a href="../method/-object/i/to_regexp.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-to_regexp">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトの <a href="../class/-regexp.html">Regexp</a> への暗黙の変換が必要なときに内部で呼ばれます。
デフォルトでは定義されていません。
</p>
<p>
説明のためここに記載してありますが、
このメソッドは実際には Object クラスには定義されていません。
必要に応じてサブクラスで定義すべきものです。
</p>
<p>
このメソッドを定義する条件は、
</p>
<ul>
<li>正規表現が使われるすべての場面で代置可能であるような、</li>
<li>正規表現そのものとみなせるようなもの</li>
</ul>
<p>
という厳しいものになっています。
</p>
<pre>
class Foo
 def to_regexp
   /[\d]+/
 end
end

it = Foo.new
p Regexp.union(/^at/, it) #=&gt; /(?-mix:^at)|(?-mix:[\d]+)/
</pre>
</dd>


<dt class="method-heading" id="I_TO_S"><code>to_s -&gt; String</code><span class="permalink">[<a href="../method/-object/i/to_s.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-to_s">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトの文字列表現を返します。
</p>
<p>
<a href="../method/-kernel/m/print.html">Kernel.#print</a> や <a href="../method/-kernel/m/sprintf.html">Kernel.#sprintf</a> は文字列以外の
オブジェクトが引数に渡された場合このメソッドを使って文字列に変換し
ます。
</p>
<pre>
class Foo
  def initialize num
    @num = num
  end
end
it = Foo.new(40)

puts it #=&gt; #&lt;Foo:0x2b69110&gt;

class Foo
 def to_s
   &quot;Class:Foo Number:#{@num}&quot;
 end
end

puts it #=&gt; Class:Foo Number:40
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/to_str.html">Object#to_str</a>,<a href="../method/-kernel/m/-string.html">Kernel.#String</a>
</p>
</dd>


<dt class="method-heading" id="I_TO_STR"><code>to_str -&gt; String</code><span class="permalink">[<a href="../method/-object/i/to_str.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-to_str">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトの <a href="../class/-string.html">String</a> への暗黙の変換が必要なときに内部で呼ばれます。
デフォルトでは定義されていません。
</p>
<p>
説明のためここに記載してありますが、
このメソッドは実際には Object クラスには定義されていません。
必要に応じてサブクラスで定義すべきものです。
</p>
<p>
このメソッドを定義する条件は、
</p>
<ul>
<li>文字列が使われるすべての場面で代置可能であるような、</li>
<li>文字列そのものとみなせるようなもの</li>
</ul>
<p>
という厳しいものになっています。
</p>
<pre>
class Foo
 def to_str
   'Edition'
 end
end

it = Foo.new
p('Second' + it) #=&gt; &quot;SecondEdition&quot;
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/to_s.html">Object#to_s</a>,<a href="../method/-kernel/m/-string.html">Kernel.#String</a>
</p>
</dd>


<dt class="method-heading" id="I_UNTAINT"><code>untaint -&gt; self</code><span class="permalink">[<a href="../method/-object/i/untaint.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-untaint">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトの「汚染マーク」を取り除きます。
</p>
<p>
汚染マークを取り除くことによる危険性はプログラマが責任を負う必要が
あります。
</p>
<p>
オブジェクトの汚染に関しては<a href="../doc/spec=2fsafelevel.html">セキュリティモデル</a>を参照してください。
</p>
<dl>
<dt>[EXCEPTION] SecurityError:</dt>
<dd>
セキュリティレベルが3以上の時にこのメソッドを使用すると発生します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-object/i/taint.html">Object#taint</a>,<a href="../method/-object/i/tainted=3f.html">Object#tainted?</a>
</p>
</dd>


</dl>

<h2>privateメソッド</h2>
<dl>

<dt class="method-heading" id="I_INITIALIZE"><code>initialize(*args, &amp;block) -&gt; object</code><span class="permalink">[<a href="../method/-object/i/initialize.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-initialize">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
ユーザ定義クラスのオブジェクト初期化メソッド。
</p>
<p>
このメソッドは <a href="../method/-class/i/new.html">Class#new</a> から新しく生成されたオブ
ジェクトの初期化のために呼び出されます。他の言語のコンストラクタに相当します。
デフォルトの動作ではなにもしません。
</p>
<p>
initialize には
<a href="../method/-class/i/new.html">Class#new</a> に与えられた引数がそのまま渡されます。
</p>
<p>
サブクラスではこのメソッドを必要に応じて再定義されること
が期待されています。
</p>
<p>
initialize という名前のメソッドは自動的に private に設定され
ます。
</p>
<dl>
<dt class='method-param'>[PARAM] args:</dt>
<dd>
初期化時の引数です。
</dd>
<dt class='method-param'>[PARAM] block:</dt>
<dd>
初期化時のブロック引数です。必須ではありません。
</dd>
</dl>
<pre>
class Foo
  def initialize name
    puts &quot;initialize Foo&quot;
    @name = name
  end
end

class Bar &lt; Foo
  def initialize name, pass
    puts &quot;initialize Bar&quot;
    super name
    @pass = pass
  end
end

it = Bar.new('myname','0500')
p it
#=&gt; initialize Bar
#   initialize Foo
#   #&lt;Bar:0x2b68f08 @name=&quot;myname&quot;, @pass=&quot;0500&quot;&gt;
</pre>
<p>
[SEE_ALSO] <a href="../method/-class/i/new.html">Class#new</a>
</p>
</dd>


<dt class="method-heading" id="I_INITIALIZE_COPY"><code>initialize_copy(obj) -&gt; object</code><span class="permalink">[<a href="../method/-object/i/initialize_copy.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-initialize_copy">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
(拡張ライブラリによる) ユーザ定義クラスのオブジェクトコピーの初期化メソッド。
</p>
<p>
このメソッドは self を obj の内容で置き換えます。ただ
し、self のインスタンス変数や特異メソッドは変化しません。
<a href="../method/-object/i/clone.html">Object#clone</a>, <a href="../method/-object/i/dup.html">Object#dup</a>の内部で使われています。
</p>
<p>
initialize_copy は、Ruby インタプリタが知り得ない情報をコピーするた
めに使用(定義)されます。例えば C 言語でクラスを実装する場合、情報
をインスタンス変数に保持させない場合がありますが、そういった内部情
報を initialize_copy でコピーするよう定義しておくことで、dup や clone
を再定義する必要がなくなります。
</p>
<p>
デフォルトの Object#initialize_copy は、 freeze チェックおよび型のチェックを行い self
を返すだけのメソッドです。
</p>
<p>
initialize_copy という名前のメソッドは
自動的に private に設定されます。
</p>
<dl>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
レシーバが freeze されているか、obj のクラスがレシーバ
のクラスと異なる場合に発生します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-object/i/clone.html">Object#clone</a>,<a href="../method/-object/i/dup.html">Object#dup</a>
</p>
<p>
以下に例として、dup や clone がこのメソッドをどのように利用しているかを示します。
</p>
<p>
obj.dup は、新たに生成したオブジェクトに対して
initialize_copy を呼び
</p>
<pre>
obj2 = obj.class.allocate
obj2.initialize_copy(obj)
</pre>
<p>
obj2 に対してさらに obj の汚染状態、インスタンス変数、ファイナライ
ザをコピーすることで複製を作ります。 obj.clone は、さらに
特異メソッドのコピーも行います。
</p>
<pre>
obj = Object.new
class &lt;&lt;obj
  attr_accessor :foo
  def bar
    :bar
  end
end

def check(obj)
  puts &quot;instance variables: #{obj.inspect}&quot;
  puts &quot;tainted?: #{obj.tainted?}&quot;
  print &quot;singleton methods: &quot;
  begin
    p obj.bar
  rescue NameError
    p $!
  end
end

obj.foo = 1
obj.taint

check Object.new.send(:initialize_copy, obj)
        #=&gt; instance variables: #&lt;Object:0x4019c9d4&gt;
        #   tainted?: false
        #   singleton methods: #&lt;NoMethodError: ...&gt;
check obj.dup
        #=&gt; instance variables: #&lt;Object:0x4019c9c0 @foo=1&gt;
        #   tainted?: true
        #   singleton methods: #&lt;NoMethodError: ...&gt;
check obj.clone
        #=&gt; instance variables: #&lt;Object:0x4019c880 @foo=1&gt;
        #   tainted?: true
        #   singleton methods: :bar
</pre>
</dd>


<dt class="method-heading" id="I_REMOVE_INSTANCE_VARIABLE"><code>remove_instance_variable(name) -&gt; object</code><span class="permalink">[<a href="../method/-object/i/remove_instance_variable.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-remove_instance_variable">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトからインスタンス変数 name を取り除き、そのインス
タンス変数に設定されていた値を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
削除するインスタンス変数の名前をシンボルか文字列で指定します。
</dd>
<dt>[EXCEPTION] NameError:</dt>
<dd>
オブジェクトがインスタンス変数 name を持たない場合に発生します。
</dd>
</dl>
<pre>
class Foo
  def foo
    @foo = 1
    p remove_instance_variable(:@foo) #=&gt; 1
    p remove_instance_variable(:@foo) # instance variable @foo not defined (NameError)
  end
end
Foo.new.foo
</pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/remove_class_variable.html">Module#remove_class_variable</a>,<a href="../method/-module/i/remove_const.html">Module#remove_const</a>
</p>
</dd>


<dt class="method-heading" id="I_SINGLETON_METHOD_ADDED"><code>singleton_method_added(name) -&gt; object</code><span class="permalink">[<a href="../method/-object/i/singleton_method_added.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-singleton_method_added">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
特異メソッドが追加された時にインタプリタから呼び出されます。
</p>
<p>
通常のメソッドの追加に対するフックには
<a href="../method/-module/i/method_added.html">Module#method_added</a>を使います。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
追加されたメソッド名が <a href="../class/-symbol.html">Symbol</a> で渡されます。
</dd>
</dl>
<pre>
class Foo
  def singleton_method_added(name)
    puts &quot;singleton method \&quot;#{name}\&quot; was added&quot;
  end
end

obj = Foo.new
def obj.foo
end

#=&gt; singleton method &quot;foo&quot; was added
</pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/method_added.html">Module#method_added</a>,<a href="../method/-object/i/singleton_method_removed.html">Object#singleton_method_removed</a>,<a href="../method/-object/i/singleton_method_undefined.html">Object#singleton_method_undefined</a>
</p>
</dd>


<dt class="method-heading" id="I_SINGLETON_METHOD_REMOVED"><code>singleton_method_removed(name) -&gt; object</code><span class="permalink">[<a href="../method/-object/i/singleton_method_removed.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-singleton_method_removed">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
特異メソッドが <a href="../method/-module/i/remove_method.html">Module#remove_method</a> に
より削除された時にインタプリタから呼び出されます。
</p>
<p>
通常のメソッドの削除に対するフックには
<a href="../method/-module/i/method_removed.html">Module#method_removed</a>を使います。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
削除されたメソッド名が <a href="../class/-symbol.html">Symbol</a> で渡されます。
</dd>
</dl>
<pre>
class Foo
  def singleton_method_removed(name)
    puts &quot;singleton method \&quot;#{name}\&quot; was removed&quot;
  end
end

obj = Foo.new
def obj.foo
end

class &lt;&lt; obj
  remove_method :foo
end

#=&gt; singleton method &quot;foo&quot; was removed
</pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/method_removed.html">Module#method_removed</a>,<a href="../method/-object/i/singleton_method_added.html">Object#singleton_method_added</a>,<a href="../method/-object/i/singleton_method_undefined.html">Object#singleton_method_undefined</a>
</p>
</dd>


<dt class="method-heading" id="I_SINGLETON_METHOD_UNDEFINED"><code>singleton_method_undefined(name) -&gt; object</code><span class="permalink">[<a href="../method/-object/i/singleton_method_undefined.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-i-singleton_method_undefined">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
特異メソッドが <a href="../method/-module/i/undef_method.html">Module#undef_method</a> または
undef により未定義にされた時にインタプリタから呼び出されます。
</p>
<p>
通常のメソッドの未定義に対するフックには
<a href="../method/-module/i/method_undefined.html">Module#method_undefined</a> を使います。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
未定義にされたメソッド名が <a href="../class/-symbol.html">Symbol</a> で渡されます。
</dd>
</dl>
<pre>
class Foo
  def singleton_method_undefined(name)
    puts &quot;singleton method \&quot;#{name}\&quot; was undefined&quot;
  end
end

obj = Foo.new
def obj.foo
end
def obj.bar
end

class &lt;&lt; obj
  undef_method :foo
end
obj.instance_eval {undef bar}

#=&gt; singleton method &quot;foo&quot; was undefined
#   singleton method &quot;bar&quot; was undefined
</pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/method_undefined.html">Module#method_undefined</a>,<a href="../method/-object/i/singleton_method_added.html">Object#singleton_method_added</a>,<a href="../method/-object/i/singleton_method_removed.html">Object#singleton_method_removed</a> , <a href="../doc/spec=2fdef.html#undef">クラス／メソッドの定義/undef</a>
</p>
</dd>


</dl>

<h2>定数</h2>
<dl>

<dt class="method-heading" id="C_-A-R-G-F"><code>ARGF -&gt; Object</code><span class="permalink">[<a href="../method/-object/c/-a-r-g-f.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-c-ARGF">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
引数 (なければ標準入力) で構成される仮想ファイル
(詳細は <a href="../class/-a-r-g-f.html">ARGF</a> を参照)。
</p>
<p>
つまり <a href="../method/-kernel/m/gets.html">Kernel.#gets</a> は <a href="../method/-a-r-g-f/s/gets.html">ARGF.gets</a> と同じ意味です。
<a href="../method/-a-r-g-f/s/file.html">ARGF.file</a> で現在読み込み中のファイルオブジェクトが、
<a href="../method/-a-r-g-f/s/filename.html">ARGF.filename</a> で現在読み込み中のファイル名が得られます。
</p>
</dd>


<dt class="method-heading" id="C_-A-R-G-V"><code>ARGV -&gt; Array</code><span class="permalink">[<a href="../method/-object/c/-a-r-g-v.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-c-ARGV">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
Ruby スクリプトに与えられた引数を表す配列です。
</p>
<p>
組み込み変数 <a href="../method/-kernel/v/=2a.html">$*</a> の別名です。
Ruby 自身に対する引数は取り除かれています。
</p>
<p>
例:
</p>
<p>
スクリプト argv.rb の内容が
</p>
<pre>
p ARGV
</pre>
<p>
であったとします。このときシェルから次を実行すると、
</p>
<pre>
$ ruby argv.rb foo bar baz
</pre>
<p>
結果は以下のように出力されます。
</p>
<pre>
[&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]
</pre>
</dd>


<dt class="method-heading" id="C_-A-R-G-V"><code>ARGV -&gt; Array</code><span class="permalink">[<a href="../method/-object/c/-a-r-g-v.html">permalink</a>][<a href="http://ruby-doc.org/stdlib-1.8.7/libdoc/optparse/rdoc/Object.html#method-c-ARGV">rdoc</a>]</span> <span class="kindinfo">[redefined by <a href="../library/optparse.html">optparse</a>]</span>
</dt>
<dd class="method-description">
<p>
Ruby スクリプトに与えられた引数を表す配列です。
</p>
<p>
<a href="../library/optparse.html">optparse</a> を require することにより、ARGV は
OptionParser::Arguable を <a href="../method/-object/i/extend.html">Object#extend</a> します。
</p>
<p>
[SEE_ALSO] <a href="../class/-option-parser=3a=3a-arguable.html">OptionParser::Arguable</a>
</p>
</dd>


<dt class="method-heading" id="C_-D-A-T-A"><code>DATA -&gt; File</code><span class="permalink">[<a href="../method/-object/c/-d-a-t-a.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-c-DATA">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
スクリプトの __END__
プログラムの終り以降をアクセスする <a href="../class/-file.html">File</a> オブジェクト。
</p>
<p>
<a href="../doc/spec=2fprogram.html#terminate">プログラム・文・式/プログラムの終り</a>も参照。
</p>
<p>
ソースファイルの __END__ 以降は解析・実行の対象にならないので
その部分にプログラムが利用するためのデータを書き込んでおくことができます。
DATA 定数はそのデータ部分にアクセスするための <a href="../class/-file.html">File</a> オブジェクトを保持しています。
</p>
<p>
__END__ を含まないプログラムにおいては DATA は定義されません。
</p>
<h4 >注意</h4>
<ul>
<li>DATA.rewind で移動する読みとり位置は __END__ 直後ではなく、
スクリプトファイルの先頭です。</li>
<li>スクリプトが標準入力から読みこまれた場合は標準入力になります。</li>
<li>スクリプトがファイルや標準入力から読みこまれなかった場合や、
__END__ で終っていない場合には定義されません。</li>
<li><a href="../method/-kernel/m/require.html">Kernel.#require</a> や <a href="../method/-kernel/m/load.html">Kernel.#load</a> で
読み込まれたファイルの中であってもそのファイル (__FILE__, <a href="../doc/spec=2fvariables.html#pseudo">変数と定数/疑似変数</a>)
ではなく実行されたファイル (<a href="../method/-kernel/v/0.html">$0</a>) を指します。</li>
</ul>
<h4 >例1</h4>
<pre>
print DATA.gets # =&gt; 故人西辞黄鶴楼
print DATA.gets # =&gt; 烟花三月下揚州
print DATA.gets # =&gt; 孤帆遠影碧空尽
print DATA.gets # =&gt; 唯見長江天際流
DATA.gets       # =&gt; nil

__END__
故人西辞黄鶴楼
烟花三月下揚州
孤帆遠影碧空尽
唯見長江天際流
</pre>
<h4 >例2</h4>
<pre>
sum = 0
DATA.each_line do |line|
  sum += line.to_i
end

DATA.rewind
p DATA.gets    # =&gt; &quot;sum = 0¥n&quot;

__END__
17
19
23
29
31
</pre>
<h4 >例3</h4>
<pre>
DATA.gets    # =&gt; uninitialized constant DATA (NameError)
</pre>
<h4 >例4</h4>
<p>
ファイル library.rb と app.rb の内容が以下であったとします。
</p>
<p>
library.rb:
</p>
<pre>
print DATA.gets

__END__
data from library
</pre>
<p>
app.rb:
</p>
<pre>
require 'library.rb'

__END__
data from app
</pre>
<p>
このときシェルから次を実行すると
</p>
<pre>
$ ruby app.rb
</pre>
<p>
結果は以下のように出力されます。
</p>
<pre>
data from app
</pre>
</dd>


<dt class="method-heading" id="C_-E-N-V"><code>ENV -&gt; Object</code><span class="permalink">[<a href="../method/-object/c/-e-n-v.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-c-ENV">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
環境変数を表す (疑似) 連想配列 (詳細は <a href="../class/-e-n-v.html">ENV</a> を参照)。
</p>
<p>
この連想配列の値を変更すると子プロセスの環境として引き継がれます。
</p>
</dd>


<dt class="method-heading" id="C_-F-A-L-S-E"><code>FALSE -&gt; FalseClass</code><span class="permalink">[<a href="../method/-object/c/-f-a-l-s-e.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-c-FALSE">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
非推奨です。代表的な偽の値。false と同じ。
</p>
<p>
この定数は過去との互換性のために提供されています。擬似変数 false を使ってください。
Ruby では false と nil が偽として扱われます。
偽でない値(false でも nil でもない値) は全て真とみなされます。
</p>
</dd>


<dt class="method-heading" id="C_-N-I-L"><code>NIL -&gt; NilClass</code><span class="permalink">[<a href="../method/-object/c/-n-i-l.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-c-NIL">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
非推奨です。 nil と同じ。
</p>
<p>
この定数は過去との互換性のために提供されています。擬似変数 nil を使ってください。
</p>
<p>
Ruby では false と nil が偽として扱われます。
偽でない値(false でも nil でもない値) は全て真とみなされます。
</p>
</dd>


<dt class="method-heading" id="C_-P-L-A-T-F-O-R-M"><code>PLATFORM -&gt; String</code><span class="permalink">[<a href="../method/-object/c/-p-l-a-t-f-o-r-m.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-c-PLATFORM">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
非推奨です。 <a href="../method/-object/c/-r-u-b-y_-p-l-a-t-f-o-r-m.html">Object::RUBY_PLATFORM</a> の古い名前です。
</p>
<p>
この定数は過去との互換性のために提供されています。 RUBY_PLATFORM を使ってください。
</p>
</dd>


<dt class="method-heading" id="C_-R-E-L-E-A-S-E_-D-A-T-E"><code>RELEASE_DATE -&gt; String</code><span class="permalink">[<a href="../method/-object/c/-r-e-l-e-a-s-e_-d-a-t-e.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-c-RELEASE_DATE">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
非推奨です。 <a href="../method/-object/c/-r-u-b-y_-r-e-l-e-a-s-e_-d-a-t-e.html">Object::RUBY_RELEASE_DATE</a> の古い名前です。
</p>
<p>
この定数は過去との互換性のために提供されています。 RUBY_RELEASE_DATE を使ってください。
</p>
</dd>


<dt class="method-heading" id="C_-R-U-B-Y_-C-O-P-Y-R-I-G-H-T"><code>RUBY_COPYRIGHT -&gt; String</code><span class="permalink">[<a href="../method/-object/c/-r-u-b-y_-c-o-p-y-r-i-g-h-t.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-c-RUBY_COPYRIGHT">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
Ruby のコピーライトを表す文字列。
</p>
</dd>


<dt class="method-heading" id="C_-R-U-B-Y_-D-E-S-C-R-I-P-T-I-O-N"><code>RUBY_DESCRIPTION -&gt; String</code><span class="permalink">[<a href="../method/-object/c/-r-u-b-y_-d-e-s-c-r-i-p-t-i-o-n.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-c-RUBY_DESCRIPTION">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
Ruby の詳細を表す文字列。
</p>
<p>
ruby -v で表示される内容が格納されています。
</p>
</dd>


<dt class="method-heading" id="C_-R-U-B-Y_-P-A-T-C-H-L-E-V-E-L"><code>RUBY_PATCHLEVEL -&gt; Fixnum</code><span class="permalink">[<a href="../method/-object/c/-r-u-b-y_-p-a-t-c-h-l-e-v-e-l.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-c-RUBY_PATCHLEVEL">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
Ruby のパッチレベルを表す <a href="../class/-fixnum.html">Fixnum</a> オブジェクトです。
</p>
<p>
パッチレベルはRubyの各バージョンに対するバグ修正パッチの適用をカウントしています。
teeny リリースのそれぞれについてパッチレベルは 0 から始まり、
その teeny リリースに対してバグ修正パッチが適用される度に増えていきます。
</p>
<p>
パッチレベルという概念および RUBY_PATCHLEVEL 定数は、 Ruby 1.8.5-p1 以降、 1.8.6 以降で導入されました。
1.8.5やそれ以前のバージョンでは定義されていません。
</p>
</dd>


<dt class="method-heading" id="C_-R-U-B-Y_-P-L-A-T-F-O-R-M"><code>RUBY_PLATFORM -&gt; String</code><span class="permalink">[<a href="../method/-object/c/-r-u-b-y_-p-l-a-t-f-o-r-m.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-c-RUBY_PLATFORM">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
プラットフォームを表す文字列。
</p>
</dd>


<dt class="method-heading" id="C_-R-U-B-Y_-R-E-L-E-A-S-E_-D-A-T-E"><code>RUBY_RELEASE_DATE -&gt; String</code><span class="permalink">[<a href="../method/-object/c/-r-u-b-y_-r-e-l-e-a-s-e_-d-a-t-e.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-c-RUBY_RELEASE_DATE">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
Ruby のリリース日を表す文字列。
</p>
</dd>


<dt class="method-heading" id="C_-R-U-B-Y_-V-E-R-S-I-O-N"><code>RUBY_VERSION -&gt; String</code><span class="permalink">[<a href="../method/-object/c/-r-u-b-y_-v-e-r-s-i-o-n.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-c-RUBY_VERSION">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
Ruby のバージョンを表す文字列。
</p>
<p>
Ruby のバージョンは、major.minor.teeny という形式です。
それぞれの番号は (今のところ) 2 桁以上にならないと約束されていますので、
</p>
<pre>
if RUBY_VERSION &gt;= '1.6.7'
  # バージョン 1.6.7 以降で有効な処理
else
  # それ以前のバージョンで有効な処理
end
</pre>
<p>
とバージョンの違いによる処理の分岐を書くことができます。
</p>
<p>
Ruby 1.8 までは、minor が奇数のバージョンは開発版、
minor が偶数のバージョンは安定版です。
Ruby 1.9.0 以降は、teeny が 0 のバージョンが開発版となる予定です。
</p>
</dd>


<dt class="method-heading" id="C_-S-C-R-I-P-T_-L-I-N-E-S__"><code>SCRIPT_LINES__ -&gt; Hash</code><span class="permalink">[<a href="../method/-object/c/-s-c-r-i-p-t_-l-i-n-e-s__.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-c-SCRIPT_LINES__">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
ソースファイル別にまとめられたソースコードの各行。
</p>
<p>
この定数は、デフォルトでは定義されていません。
この定数がハッシュとして定義された後にソースが((*コンパイル*))されると、
そのソースファイル名をキーに、
ソースを行毎に分割した配列を値にしたハッシュ要素が設定されます。
</p>
<p>
この定数はデバッガ (<a href="../library/debug.html">debug</a>) などで利用されています。
</p>
<p>
なお、 <a href="../method/-kernel/v/-s-a-f-e.html">$SAFE</a> レベルが 0 でなければ有効にはなりません。
また、 <a href="../method/-kernel/m/eval.html">Kernel.#eval</a> によるコンパイルは対象にはなりません。
</p>
<p>
例:
</p>
<pre>
require 'pp'
SCRIPT_LINES__ = {}
require 'English'
pp SCRIPT_LINES__

# =&gt; {&quot;/usr/local/lib/ruby/1.6/English.rb&quot;=&gt;
#     [&quot;alias $ERROR_INFO              $!\n&quot;,
#      &quot;alias $ERROR_POSITION          $@\n&quot;,
#      &quot;alias $LOADED_FEATURES         $\&quot;\n&quot;,
#               :
#               :
#      &quot;alias $POSTMATCH               $'\n&quot;,
#      &quot;alias $LAST_PAREN_MATCH        $+\n&quot;]}
</pre>
</dd>


<dt class="method-heading" id="C_-S-T-D-E-R-R"><code>STDERR -&gt; IO</code><span class="permalink">[<a href="../method/-object/c/-s-t-d-e-r-r.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-c-STDERR">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
標準エラー出力。<a href="../method/-kernel/v/stderr.html">$stderr</a> のデフォルト値。 <a href="../method/-kernel/v/stderr.html">$stderr</a> も参照してください。
</p>
<p>
STDERR は、 ruby プロセスが起動された時点での標準エラー出力を表します。
起動時点では <a href="../method/-kernel/v/stderr.html">$stderr</a> も同じ値に初期化されています。
</p>
<p>
<a href="../method/-kernel/v/stderr.html">$stderr</a> に他の出力オブジェクトを代入することで簡易なリダイレクトを実現できます。
そして、 <a href="../method/-kernel/v/stderr.html">$stderr</a> に STDERR を代入すればこのリダイレクトを復元できるわけです。
</p>
<h4 >注意</h4>
<p>
STDERR は ruby 自体が起動された時点での標準エラー出力です。
「システムにおける標準のエラー出力ストリーム」とは異なります。
</p>
<p>
多くのシステムでは標準のエラー出力ストリームは端末です。
ruby 自体が他のストリームに向けてエラー出力をリダイレクトされた状態で起動された場合、
STDERR が保持するのは端末ではなく、リダイレクト先のストリームです。
</p>
</dd>


<dt class="method-heading" id="C_-S-T-D-I-N"><code>STDIN -&gt; IO</code><span class="permalink">[<a href="../method/-object/c/-s-t-d-i-n.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-c-STDIN">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
標準入力。<a href="../method/-kernel/v/stdin.html">$stdin</a> のデフォルト値。 <a href="../method/-kernel/v/stdin.html">$stdin</a> も参照してください。
</p>
<p>
STDIN は、 ruby プロセスが起動された時点での標準入力を表します。
起動時点では <a href="../method/-kernel/v/stdin.html">$stdin</a> も同じ値に初期化されています。
</p>
<p>
<a href="../method/-kernel/v/stdin.html">$stdin</a> に他の入力オブジェクトを代入することで簡易なリダイレクトを実現できます。
そして、 <a href="../method/-kernel/v/stdin.html">$stdin</a> に STDIN を代入すればこのリダイレクトを復元できるわけです。
</p>
<h4 >注意</h4>
<p>
STDIN は ruby 自体が起動された時点での標準入力です。
「システムにおける標準の入力ストリーム」とは異なります。
</p>
<p>
多くのシステムでは標準の入力ストリームは端末です。
ruby 自体が他のストリームに向けて入力をリダイレクトされた状態で起動された場合、
STDIN が保持するのは端末ではなく、リダイレクト先のストリームです。
</p>
</dd>


<dt class="method-heading" id="C_-S-T-D-O-U-T"><code>STDOUT -&gt; IO</code><span class="permalink">[<a href="../method/-object/c/-s-t-d-o-u-t.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-c-STDOUT">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
標準出力。<a href="../method/-kernel/v/stdout.html">$stdout</a> のデフォルト値。 <a href="../method/-kernel/v/stdout.html">$stdout</a> も参照してください。
</p>
<p>
STDOUT は、 ruby プロセスが起動された時点での標準出力を表します。
起動時点では <a href="../method/-kernel/v/stdout.html">$stdout</a> も同じ値に初期化されています。
</p>
<p>
<a href="../method/-kernel/v/stdout.html">$stdout</a> に他の出力オブジェクトを代入することで簡易なリダイレクトを実現できます。
そして、 <a href="../method/-kernel/v/stdout.html">$stdout</a> に STDOUT を代入すればこのリダイレクトを復元できるわけです。
</p>
<h4 >注意</h4>
<p>
STDOUT は ruby 自体が起動された時点での標準出力です。
「システムにおける標準の出力ストリーム」とは異なります。
</p>
<p>
多くのシステムでは標準の出力ストリームは端末です。
ruby 自体が他のストリームに向けて出力をリダイレクトされた状態で起動された場合、
STDOUT が保持するのは端末ではなく、リダイレクト先のストリームです。
</p>
</dd>


<dt class="method-heading" id="C_-T-O-P-L-E-V-E-L_-B-I-N-D-I-N-G"><code>TOPLEVEL_BINDING -&gt; Binding</code><span class="permalink">[<a href="../method/-object/c/-t-o-p-l-e-v-e-l_-b-i-n-d-i-n-g.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-c-TOPLEVEL_BINDING">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
トップレベルでの <a href="../class/-binding.html">Binding</a> オブジェクト。
</p>
<p>
詳細は <a href="../class/-binding.html">Binding</a> を参照してください。
</p>
</dd>


<dt class="method-heading" id="C_-T-R-U-E"><code>TRUE -&gt; TrueClass</code><span class="permalink">[<a href="../method/-object/c/-t-r-u-e.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-c-TRUE">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
非推奨です。代表的な真の値。true と同じ。
</p>
<p>
この定数は過去との互換性のために提供されています。擬似変数 true を使ってください。
</p>
<p>
Ruby では false と nil が偽として扱われます。
偽でない値(false でも nil でもない値) は全て真とみなされます。
</p>
</dd>


<dt class="method-heading" id="C_-V-E-R-S-I-O-N"><code>VERSION -&gt; String</code><span class="permalink">[<a href="../method/-object/c/-v-e-r-s-i-o-n.html">permalink</a>][<a href="http://ruby-doc.org/core-1.8.7/Object.html#method-c-VERSION">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
非推奨です。 <a href="../method/-object/c/-r-u-b-y_-v-e-r-s-i-o-n.html">Object::RUBY_VERSION</a> の古い名前です。
</p>
<p>
この定数は過去との互換性のために提供されています。 RUBY_VERSION を使ってください。
</p>
</dd>


</dl>



<div id="footer">
  <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">
    <img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by/3.0/88x31.png" />
  </a>
</div>
</body>
</html>
