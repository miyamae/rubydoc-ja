<!DOCTYPE html>
<html lang="ja-JP">
<head>

<meta name="robots" content="noindex">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../style.css">
<link rel="stylesheet" href="../syntax-highlight.css">
<link rel="icon" type="image/png" href="../rurema.png">

<title>class OptionParser (Ruby 2.5.9 リファレンスマニュアル)</title>
<meta name="description" content="コマンドラインのオプションを取り扱うためのクラスです。">
<script src="../script.js"></script>
</head>
<body>


<header>
  <nav>
    <ol class="inline-breadcrumb-list">
      <li>
        <a href="../doc/index.html">Ruby 2.5.9 リファレンスマニュアル</a>
      </li>
      <li>
        <a href="../library/index.html">ライブラリ一覧</a>
      </li>
      <li>
        <a href="../library/optparse.html">optparseライブラリ</a>
      </li>
      <li>
        OptionParserクラス
      </li>
    </ol>
  </nav>

<h1>class OptionParser</h1>
</header>

<main>



  <nav>
    クラス・モジュールの継承リスト:
    <ol class="inline-ancestors-list">
      
        <li>
          <a href="../class/-basic-object.html">BasicObject</a>
        </li>
        
      
        <li>
          <a href="../class/-kernel.html">Kernel</a>
        </li>
        
      
        <li>
          <a href="../class/-object.html">Object</a>
        </li>
        
      
      <li>
        OptionParser
      </li>
    </ol>
  </nav>











<h2>要約</h2>
<p>
コマンドラインのオプションを取り扱うためのクラスです。
</p>
<p>
オプションが指定された時に呼ばれるブロックを
<a href="../method/-option-parser/i/on.html">OptionParser#on</a> メソッドで登録していきます。つまり、OptionParser を使う場合、基本的には
</p>
<ol>
<li>OptionParser オブジェクト opt を生成する。</li>
<li>オプションを取り扱うブロックを opt に登録する。</li>
<li>opt.parse(ARGV) でコマンドラインを実際に parse する。</li>
</ol>
<p>
というような流れになります。
</p>
<pre class="highlight ruby">
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>
<span class="no">ProgramConfig</span> <span class="o">=</span> <span class="no">Hash</span><span class="p">.</span><span class="nf">new</span>
opts <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span>
opts<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s2">"</span><span class="s2">-a</span><span class="s2">"</span><span class="p">)</span><span class="p">{</span><span class="o">|</span>v<span class="o">|</span> <span class="no">ProgramConfig</span><span class="p">[</span><span class="ss">:a</span><span class="p">]</span> <span class="o">=</span> <span class="k">true</span> <span class="p">}</span> <span class="c1"># オプション「-a」がコマンドラインで指定されていた場合の動作。
</span>opts<span class="p">.</span><span class="nf">parse!</span><span class="p">(</span><span class="no">ARGV</span><span class="p">)</span>                            <span class="c1"># 実際にコマンドラインの parse を行う。
</span></code></pre>
<h2 >デフォルトで利用可能なオプション</h2>
<p>
以下はデフォルトで利用可能なオプションです。オプションサマリには出てきません。
</p>
<dl>
<dt>--help</dt>
<dd>
<p>
オプションサマリを表示してから exit します。
</p>
</dd>
<dt>--version</dt>
<dd>
<p>
<a href="../method/-option-parser/i/ver.html">OptionParser#ver</a> を表示してから exit します。
<a href="../method/-option-parser/i/ver.html">OptionParser#ver</a> が定義されていない場合は、そのようにエラーメッセージを出力して abort します。オプション「--version」に「,」で区切られたクラス名かモジュール名を引数として与えた場合は、そのクラスおよびモジュールで定義されている定数「Version」および「Release」を表示して、終了します。
</p>
<pre>
 $ ruby t.rb --version=OptionParser,URI,OpenSSL
 t: OptionParser version 12203 (2007-04-20)
 t: URI version 0.9.11
 t: OpenSSL version 1.0.0
</pre>
</dd>
</dl>



<h2>目次</h2>
<dl>

<dt>特異メソッド</dt>
<dd>
<ul class="class-toc">

<li><a href="#S_ACCEPT">accept</a></li>

<li><a href="#S_GETOPTS">getopts</a></li>

<li><a href="#S_NEW">new</a></li>

<li><a href="#S_REJECT">reject</a></li>

</ul>
</dd>

<dt>インスタンスメソッド</dt>
<dd>
<ul class="class-toc">

<li><a href="#I_ACCEPT">accept</a></li>

<li><a href="#I_BANNER">banner</a></li>

<li><a href="#I_BANNER--3D">banner=</a></li>

<li><a href="#I_DEFAULT_ARGV">default_argv</a></li>

<li><a href="#I_DEFAULT_ARGV--3D">default_argv=</a></li>

<li><a href="#I_ENVIRONMENT">environment</a></li>

<li><a href="#I_GETOPTS">getopts</a></li>

<li><a href="#I_HELP">help</a></li>

<li><a href="#I_LOAD">load</a></li>

<li><a href="#I_ON">on</a></li>

<li><a href="#I_ON_HEAD">on_head</a></li>

<li><a href="#I_ON_TAIL">on_tail</a></li>

<li><a href="#I_ORDER">order</a></li>

<li><a href="#I_ORDER--21">order!</a></li>

<li><a href="#I_PARSE">parse</a></li>

<li><a href="#I_PARSE--21">parse!</a></li>

<li><a href="#I_PERMUTE">permute</a></li>

<li><a href="#I_PERMUTE--21">permute!</a></li>

<li><a href="#I_PROGRAM_NAME">program_name</a></li>

<li><a href="#I_PROGRAM_NAME--3D">program_name=</a></li>

<li><a href="#I_REJECT">reject</a></li>

<li><a href="#I_RELEASE">release</a></li>

<li><a href="#I_RELEASE--3D">release=</a></li>

<li><a href="#I_SEPARATOR">separator</a></li>

<li><a href="#I_SUMMARIZE">summarize</a></li>

<li><a href="#I_SUMMARY_INDENT">summary_indent</a></li>

<li><a href="#I_SUMMARY_INDENT--3D">summary_indent=</a></li>

<li><a href="#I_SUMMARY_WIDTH">summary_width</a></li>

<li><a href="#I_SUMMARY_WIDTH--3D">summary_width=</a></li>

<li><a href="#I_TO_A">to_a</a></li>

<li><a href="#I_HELP">to_s</a></li>

<li><a href="#I_VER">ver</a></li>

<li><a href="#I_VERSION">version</a></li>

<li><a href="#I_VERSION--3D">version=</a></li>

</ul>
</dd>

</dl>




</dl>


<h2>特異メソッド</h2>
<dl>

<dt class="method-heading" id="S_ACCEPT"><code>accept(klass, pat = /.*/) {|str| ...} -&gt; ()</code><span class="permalink">[<a href="../method/-option-parser/s/accept.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-c-accept">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オプションの引数を文字列から Ruby のオブジェクトに変換するためのブロックを登録します。すべての OptionParser インスタンスに共通です。
</p>
<p>
ブロックには、文字列として与えられるオプションの引数から klass のインスタンスを生成して返すものを指定します。
</p>
<p>
<a href="../method/-option-parser/i/on.html">OptionParser#on</a> で klass を指定した場合、コマンドラインのオプションに与えられた引数は、この accept で登録したブロックで
klass のインスタンスに変換されてから、OptionParser#on メソッドで登録したブロックに渡されます。
</p>
<pre class="highlight ruby">
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">time</span><span class="s2">"</span>

<span class="no">OptionParser</span><span class="p">.</span><span class="nf">accept</span><span class="p">(</span><span class="no">Time</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span>s,<span class="o">|</span>
  <span class="k">begin</span>
    <span class="no">Time</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span>s<span class="p">)</span> <span class="k">if</span> s
  <span class="k">rescue</span>
    <span class="nb">raise</span> <span class="no">OptionParser</span><span class="o">::</span><span class="no">InvalidArgument</span>, s
  <span class="k">end</span>
<span class="k">end</span>

opts <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span>

opts<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s2">"</span><span class="s2">-t</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--time [TIME]</span><span class="s2">"</span>, <span class="no">Time</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span>time<span class="o">|</span>
  <span class="nb">p</span> time<span class="p">.</span><span class="nf">class</span> <span class="c1">#=&gt; Time
</span><span class="k">end</span>

opts<span class="p">.</span><span class="nf">parse!</span><span class="p">(</span><span class="no">ARGV</span><span class="p">)</span>
</code></pre>
<p>
いくつかのクラスに対しては変換用のブロックがデフォルトで登録されています。<a href="../method/-option-parser/i/on.html">OptionParser#on</a> を参照して下さい。
</p>
<dl>
<dt class='method-param'>[PARAM] klass:</dt>
<dd>
クラスオブジェクトを与えます。
</dd>
<dt class='method-param'>[PARAM] pat:</dt>
<dd>
match メソッドを持ったオブジェクト(<a href="../class/-regexp.html">Regexp</a> オブジェクトなど)を与えます。
</dd>
</dl>
</dd>


<dt class="method-heading" id="S_GETOPTS"><code>getopts(argv, *opts) -&gt; Hash</code><span class="permalink">[<a href="../method/-option-parser/s/getopts.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-c-getopts">rdoc</a>]</span></dt>
<dt class="method-heading"><code>getopts(*opts) -&gt; Hash</code></dt>
<dd class="method-description">
<p>
引数をパースした結果を、Hash として返します。(self.new.getopts と同じです)
</p>
<dl>
<dt class='method-param'>[PARAM] argv:</dt>
<dd>
パースしたい配列を指定します。
</dd>
<dt class='method-param'>[PARAM] opts:</dt>
<dd>
引数を文字列で指定します。
</dd>
<dt>[EXCEPTION] OptionParser::ParseError:</dt>
<dd>
パースに失敗した場合、発生します。実際は OptionParser::ParseError のサブクラスになります。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-option-parser/i/getopts.html">OptionParser#getopts</a>
</p>
</dd>


<dt class="method-heading" id="S_NEW"><code>new(banner = nil, width = 32, indent = ' ' * 4) -&gt; OptionParser</code><span class="permalink">[<a href="../method/-option-parser/s/new.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-c-new">rdoc</a>]</span></dt>
<dt class="method-heading"><code>new(banner = nil, width = 32, indent = ' ' * 4) {|opt| ...} -&gt; OptionParser</code></dt>
<dd class="method-description">
<p>
OptionParser オブジェクトを生成して返します。
</p>
<p>
ブロックが与えられた場合、生成した OptionParser オブジェクトを引数としてブロックを評価します。つまり、以下のような書き方が可能です。
</p>
<pre class="highlight ruby">
<code>
<span class="nb">require</span> <span class="s1">'optparse'</span>
<span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span>opt<span class="o">|</span>

  opt<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s1">'-a'</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> <span class="nb">p</span> v <span class="p">}</span>
  opt<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s1">'-b'</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> <span class="nb">p</span> v <span class="p">}</span>

  opt<span class="p">.</span><span class="nf">parse!</span><span class="p">(</span><span class="no">ARGV</span><span class="p">)</span>
<span class="k">end</span>
</code></pre>
<dl>
<dt class='method-param'>[PARAM] banner:</dt>
<dd>
ヘルプ(サマリ)の最初の部分に表示される、アプリケーションの説明などを文字列で与えます。
</dd>
<dt class='method-param'>[PARAM] width:</dt>
<dd>
サマリの幅を整数で与えます。
</dd>
<dt class='method-param'>[PARAM] indent:</dt>
<dd>
サマリのインデントを文字列で与えます。
</dd>
</dl>
</dd>


<dt class="method-heading" id="S_REJECT"><code>reject(klass) -&gt; ()</code><span class="permalink">[<a href="../method/-option-parser/s/reject.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-c-reject">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../method/-option-parser/s/accept.html">OptionParser.accept</a> メソッドで登録したブロックを削除します。
</p>
<dl>
<dt class='method-param'>[PARAM] klass:</dt>
<dd>
削除したいクラスオブジェクトを指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">time</span><span class="s2">"</span>

<span class="k">def</span> <span class="nf">parse</span><span class="p">(</span>option_parser<span class="p">)</span>
  option_parser<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s2">"</span><span class="s2">-t</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--time [TIME]</span><span class="s2">"</span>, <span class="no">Time</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span>time<span class="o">|</span>
    <span class="nb">p</span> time<span class="p">.</span><span class="nf">class</span>
  <span class="k">end</span>
  option_parser<span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="no">ARGV</span><span class="p">)</span>
<span class="k">end</span>

<span class="no">OptionParser</span><span class="p">.</span><span class="nf">accept</span><span class="p">(</span><span class="no">Time</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span>s,<span class="o">|</span>
  <span class="k">begin</span>
    <span class="no">Time</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span>s<span class="p">)</span> <span class="k">if</span> s
  <span class="k">rescue</span>
    <span class="nb">raise</span> <span class="no">OptionParser</span><span class="o">::</span><span class="no">InvalidArgument</span>, s
  <span class="k">end</span>
<span class="k">end</span>

opts1 <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span>
parse<span class="p">(</span>opts1<span class="p">)</span> <span class="c1"># =&gt; Time
</span><span class="no">OptionParser</span><span class="p">.</span><span class="nf">reject</span><span class="p">(</span><span class="no">Time</span><span class="p">)</span>
opts2 <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span>
parse<span class="p">(</span>opts2<span class="p">)</span> <span class="c1"># =&gt; unsupported argument type: Time (ArgumentError)
</span></code></pre>
</dd>


</dl>

<h2>インスタンスメソッド</h2>
<dl>

<dt class="method-heading" id="I_ACCEPT"><code>accept(klass, pat = /.*/) {|str| ...} -&gt; ()</code><span class="permalink">[<a href="../method/-option-parser/i/accept.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-accept">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../method/-option-parser/s/accept.html">OptionParser.accept</a> と同様ですが、登録したブロックはレシーバーに限定されます。
</p>
<dl>
<dt class='method-param'>[PARAM] klass:</dt>
<dd>
クラスオブジェクトを与えます。
</dd>
<dt class='method-param'>[PARAM] pat:</dt>
<dd>
match メソッドを持ったオブジェクト(<a href="../class/-regexp.html">Regexp</a> オブジェクトなど)を与えます。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">time</span><span class="s2">"</span>

opts <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span>
opts<span class="p">.</span><span class="nf">accept</span><span class="p">(</span><span class="no">Time</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span>s,<span class="o">|</span>
  <span class="k">begin</span>
    <span class="no">Time</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span>s<span class="p">)</span> <span class="k">if</span> s
  <span class="k">rescue</span>
    <span class="nb">raise</span> <span class="no">OptionParser</span><span class="o">::</span><span class="no">InvalidArgument</span>, s
  <span class="k">end</span>
<span class="k">end</span>

opts<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s2">"</span><span class="s2">-t</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--time [TIME]</span><span class="s2">"</span>, <span class="no">Time</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span>time<span class="o">|</span>
  <span class="nb">p</span> time<span class="p">.</span><span class="nf">class</span> <span class="c1"># =&gt; Time
</span><span class="k">end</span>

opts<span class="p">.</span><span class="nf">parse!</span><span class="p">(</span><span class="no">ARGV</span><span class="p">)</span>
</code></pre>
</dd>


<dt class="method-heading" id="I_BANNER"><code>banner -&gt; String</code><span class="permalink">[<a href="../method/-option-parser/i/banner.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-banner">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
サマリの最初に表示される文字列を返します。
</p>
<dl>
<dt>[RETURN]</dt>
<dd>
サマリの最初に表示される文字列を返します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>

options <span class="o">=</span> <span class="p">{</span><span class="p">}</span>
opts <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span>opts<span class="o">|</span>
  opts<span class="p">.</span><span class="nf">banner</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">Usage: example.rb [options]</span><span class="s2">"</span>

  opts<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s2">"</span><span class="s2">-v</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--[no-]verbose</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">Run verbosely</span><span class="s2">"</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span>v<span class="o">|</span>
    options<span class="p">[</span><span class="ss">:verbose</span><span class="p">]</span> <span class="o">=</span> v
  <span class="k">end</span>
<span class="k">end</span>

<span class="nb">p</span> opts<span class="p">.</span><span class="nf">banner</span> <span class="c1"># =&gt; &quot;Usage: example.rb [options]&quot;
</span></code></pre>
</dd>


<dt class="method-heading" id="I_BANNER--3D"><code>banner=(heading)</code><span class="permalink">[<a href="../method/-option-parser/i/banner=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-banner-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
サマリの最初に表示される文字列を指定します。
</p>
<dl>
<dt class='method-param'>[PARAM] heading:</dt>
<dd>
サマリの最初に表示される文字列を指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>

options <span class="o">=</span> <span class="p">{</span><span class="p">}</span>
opts <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span>opts<span class="o">|</span>
  opts<span class="p">.</span><span class="nf">banner</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">Usage: example.rb [options]</span><span class="s2">"</span> <span class="c1"># =&gt; &quot;Usage: example.rb [options]&quot;
</span>
  opts<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s2">"</span><span class="s2">-v</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--[no-]verbose</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">Run verbosely</span><span class="s2">"</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span>v<span class="o">|</span>
    options<span class="p">[</span><span class="ss">:verbose</span><span class="p">]</span> <span class="o">=</span> v
  <span class="k">end</span>
<span class="k">end</span>

opts<span class="p">.</span><span class="nf">banner</span> <span class="c1"># =&gt; &quot;Usage: example.rb [options]&quot;
</span></code></pre>
</dd>


<dt class="method-heading" id="I_DEFAULT_ARGV"><code>default_argv -&gt; [String]</code><span class="permalink">[<a href="../method/-option-parser/i/default_argv.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-default_argv">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身がデフォルトでパースする引数を文字列の配列で返します。
</p>
<dl>
<dt class='method-param'>[PARAM] argv:</dt>
<dd>
デフォルトでパースする文字列の配列を返します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>

opts <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span>

<span class="c1"># --hoo param1 --bar param2 をパラメーターに指定して実行
</span>opts<span class="p">.</span><span class="nf">default_argv</span> <span class="c1"># =&gt; [&quot;--foo&quot;, &quot;param1&quot;, &quot;--bar&quot;, &quot;param2&quot;]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_DEFAULT_ARGV--3D"><code>default_argv=(argv)</code><span class="permalink">[<a href="../method/-option-parser/i/default_argv=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-default_argv-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身がデフォルトでパースする引数を文字列の配列で指定します。
</p>
<p>
<a href="../method/-option-parser/i/parse.html">OptionParser#parse</a> の引数が指定されなかったときに使われます。
</p>
<dl>
<dt class='method-param'>[PARAM] argv:</dt>
<dd>
デフォルトでパースしたい文字列の配列を指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>

config <span class="o">=</span> <span class="p">{</span><span class="p">}</span>
opts <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span>
opts<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s2">"</span><span class="s2">-r</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--require LIBRARY</span><span class="s2">"</span><span class="p">)</span><span class="p">{</span><span class="o">|</span>lib<span class="o">|</span> config<span class="p">[</span><span class="ss">:lib</span><span class="p">]</span> <span class="o">=</span> lib <span class="p">}</span>

<span class="c1"># パラメーター指定なしで実行
</span>opts<span class="p">.</span><span class="nf">default_argv</span> <span class="c1"># =&gt; []
</span>opts<span class="p">.</span><span class="nf">parse!</span>
<span class="nb">p</span> config          <span class="c1"># =&gt; {}
</span>
opts<span class="p">.</span><span class="nf">default_argv</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"</span><span class="s2">--require</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">lib1</span><span class="s2">"</span><span class="p">]</span> <span class="c1"># =&gt; [&quot;--require&quot;, &quot;lib&quot;]
</span>opts<span class="p">.</span><span class="nf">default_argv</span> <span class="c1"># =&gt; [&quot;--require&quot;, &quot;param1&quot;]
</span>opts<span class="p">.</span><span class="nf">parse!</span>
<span class="nb">p</span> config          <span class="c1"># =&gt; {:lib=&gt;&quot;lib1&quot;}
</span></code></pre>
</dd>


<dt class="method-heading" id="I_ENVIRONMENT"><code>environment(env) -&gt; [String]</code><span class="permalink">[<a href="../method/-option-parser/i/environment.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-environment">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
環境変数 env に対して
<a href="../method/-shellwords/m/shellwords.html">Shellwords.#shellwords</a> を呼んで配列にしてから parse を行ないます。
</p>
<dl>
<dt class='method-param'>[PARAM] env:</dt>
<dd>
環境変数名を文字列で与えます。
</dd>
<dt>[EXCEPTION] OptionParser::ParseError:</dt>
<dd>
パースに失敗した場合、発生します。実際は OptionParser::ParseError のサブクラスになります。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>

config <span class="o">=</span> <span class="p">{</span><span class="p">}</span>
opts <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span>
opts<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s2">"</span><span class="s2">-r</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--require LIBRARY</span><span class="s2">"</span><span class="p">)</span><span class="p">{</span><span class="o">|</span>lib<span class="o">|</span> config<span class="p">[</span><span class="ss">:lib</span><span class="p">]</span> <span class="o">=</span> lib <span class="p">}</span>

<span class="c1"># HOGE_OPT は hoge というプログラム名に対応した名前です
</span><span class="no">ENV</span><span class="p">[</span><span class="s1">'HOGE_OPT'</span><span class="p">]</span> <span class="o">=</span> <span class="s2">%q{</span><span class="s2">--require lib1 'remain data'</span><span class="s2">}</span>
<span class="nb">p</span> opts<span class="p">.</span><span class="nf">environment</span><span class="p">(</span><span class="s1">'HOGE_OPT'</span><span class="p">)</span> <span class="c1"># =&gt; [&quot;remain data&quot;]
</span><span class="nb">p</span> config                           <span class="c1"># =&gt; {:lib=&gt;&quot;lib1&quot;}
</span></code></pre>
</dd>


<dt class="method-heading" id="I_GETOPTS"><code>getopts(argv, *opts) -&gt; Hash</code><span class="permalink">[<a href="../method/-option-parser/i/getopts.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-getopts">rdoc</a>]</span></dt>
<dt class="method-heading"><code>getopts(*opts) -&gt; Hash</code></dt>
<dd class="method-description">
<p>
引数をパースした結果を、Hash として返します。
</p>
<p>
配列 argv を与えた場合、argv をパースします。そうでない場合は、
default_argv をパースします。
</p>
<pre class="highlight ruby">
<code>
opt <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span>
params <span class="o">=</span> opt<span class="p">.</span><span class="nf">getopts</span><span class="p">(</span><span class="no">ARGV</span>, <span class="s2">"</span><span class="s2">ab:</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">bar:</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># params[&quot;a&quot;] = true   # -a
</span><span class="c1"># params[&quot;b&quot;] = &quot;1&quot;    # -b1
</span><span class="c1"># params[&quot;foo&quot;] = true  # --foo
</span><span class="c1"># params[&quot;bar&quot;] = &quot;x&quot;  # --bar x
</span></code></pre>
<dl>
<dt class='method-param'>[PARAM] argv:</dt>
<dd>
パースしたい配列を指定します。
</dd>
<dt class='method-param'>[PARAM] opts:</dt>
<dd>
引数を文字列で指定します。
</dd>
<dt>[EXCEPTION] OptionParser::ParseError:</dt>
<dd>
パースに失敗した場合、発生します。実際は OptionParser::ParseError のサブクラスになります。
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_HELP"><code>help -&gt; String</code><span class="permalink">[<a href="../method/-option-parser/i/help.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-help">rdoc</a>]</span></dt>
<dt class="method-heading"><code>to_s -&gt; String</code></dt>
<dd class="method-description">
<p>
サマリの文字列を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>

options <span class="o">=</span> <span class="p">{</span><span class="p">}</span>
opts <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span>opts<span class="o">|</span>
  opts<span class="p">.</span><span class="nf">banner</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">Usage: example.rb [options]</span><span class="s2">"</span>

  opts<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s2">"</span><span class="s2">-v</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--[no-]verbose</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">Run verbosely</span><span class="s2">"</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span>v<span class="o">|</span>
    options<span class="p">[</span><span class="ss">:verbose</span><span class="p">]</span> <span class="o">=</span> v
  <span class="k">end</span>
<span class="k">end</span>

<span class="nb">puts</span> opts<span class="p">.</span><span class="nf">help</span>

<span class="c1"># =&gt; Usage: example.rb [options]
</span><span class="c1">#    -v, --[no-]verbose               Run verbosely
</span></code></pre>
</dd>


<dt class="method-heading" id="I_LOAD"><code>load(filename = nil) -&gt; bool</code><span class="permalink">[<a href="../method/-option-parser/i/load.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-load">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
指定された filename を読み込んで各行をまとめたものに対して <a href="../method/-option-parser/i/parse.html">OptionParser#parse</a> を行ないます。
</p>
<p>
パースが成功した場合に true を返します。ファイルが存在しなかった場合に false を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] filename:</dt>
<dd>
各行をパースしたいファイルの名前を文字列で指定します。指定されないか nil である場合、~/.options/ にプログラムのサフィックスを付けた '~/.options/コマンド名' というファイルをパースします。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>

<span class="no">IO</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">"</span><span class="s2">options.txt</span><span class="s2">"</span>, <span class="sx">%w(-a --b)</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="s2">"</span><span class="s2">\n</span><span class="s2">"</span><span class="p">)</span><span class="p">)</span>
options <span class="o">=</span> <span class="p">{</span> <span class="ss">a:</span> <span class="k">false</span>, <span class="ss">b:</span> <span class="k">false</span> <span class="p">}</span>
<span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span>opt<span class="o">|</span>
  opt<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s1">'-a'</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span>v<span class="o">|</span> options<span class="p">[</span><span class="ss">:a</span><span class="p">]</span> <span class="o">=</span> v <span class="p">}</span>
  opt<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s1">'--b'</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> options<span class="p">[</span><span class="ss">:b</span><span class="p">]</span> <span class="o">=</span> v <span class="p">}</span>
  opt<span class="p">.</span><span class="nf">load</span><span class="p">(</span><span class="s2">"</span><span class="s2">options.txt</span><span class="s2">"</span><span class="p">)</span>   <span class="c1"># =&gt; true
</span>  opt<span class="p">.</span><span class="nf">load</span><span class="p">(</span><span class="s2">"</span><span class="s2">not_exist.txt</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; false
</span><span class="k">end</span>

<span class="nb">p</span> options <span class="c1"># =&gt; {:a=&gt;true, :b=&gt;true}
</span></code></pre>
</dd>


<dt class="method-heading" id="I_ON"><code>on(short, desc = &quot;&quot;) {|v| ... } -&gt; self</code><span class="permalink">[<a href="../method/-option-parser/i/on.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-on">rdoc</a>]</span></dt>
<dt class="method-heading"><code>on(long, desc = &quot;&quot;) {|v| ... } -&gt; self</code></dt>
<dt class="method-heading"><code>on(short, long, desc = &quot;&quot;) {|v| ... } -&gt; self</code></dt>
<dd class="method-description">
<p>
オプションを取り扱うためのブロックを自身に登録します。ブロックはコマンドラインのパース時に、オプションが指定されていれば呼ばれます。
</p>
<p>
ショートオプションとロングオプションを同時に登録することもできます。
</p>
<pre>
opts.on(&quot;-r&quot;, &quot;--require LIBRARY&quot;){|lib| ...}
</pre>
<p>
これは以下と同値です。
</p>
<pre>
opts.on(&quot;-r LIBRARY&quot;){|lib| ...}
opts.on(&quot;--require LIBRARY&quot;){|lib| ...}
</pre>
<p>
複数の異なるオプションに同じブロックを一度に登録することもできます。
</p>
<pre>
opt.on('-v', '-vv'){|boolean| ...}
opt.on('--require X', '--need', '--dependon'){|x| ... }
</pre>
<dl>
<dt class='method-param'>[PARAM] short:</dt>
<dd>
ショートオプションを表す文字列を指定します。そのオプションが引数をとらない場合は、
<pre>
  on(&quot;-x&quot;){|boolean| ...}
</pre>
となります。コマンドラインにオプションが存在した場合 true を引数としてブロックを評価します。ショートオプションが引数をとる場合は、
<pre>
  on(&quot;-x MANDATORY&quot;){|val| ...}
</pre>
となります。&quot;MANDATORY&quot; の部分は任意の文字列で構いません。オプションの引数が必須でない場合は [ ] をつけて、
<pre>
  on(&quot;-x [OPTIONAL]&quot;){|val| ...}
</pre>
となります。
</dd>
<dt class='method-param'>[PARAM] long:</dt>
<dd>
ロングオプションを表す文字列を指定します。ショートオプションの時と同様に、
<pre>
  on(&quot;--long&quot;){|boolean| ...}
  on(&quot;--long MANDATORY&quot;){|val| ...}
  on(&quot;--long [OPTIONAL]&quot;){|val| ...}
</pre>
と指定できます。
</dd>
<dt class='method-param'>[PARAM] desc:</dt>
<dd>
オプションの説明を文字列で与えます。サマリに表示されます。
</dd>
</dl>
</dd>
<dt class="method-heading" id="I_ON"><code>on(short, pat = /.*/, desc = &quot;&quot;) {|v| ...} -&gt; self</code><span class="permalink">[<a href="../method/-option-parser/i/on.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-on">rdoc</a>]</span></dt>
<dt class="method-heading"><code>on(long, pat = /.*/, desc = &quot;&quot;) {|v| ...} -&gt; self</code></dt>
<dt class="method-heading"><code>on(short, long, pat = /.*/, desc = &quot;&quot;) {|v| ...} -&gt; self</code></dt>
<dd class="method-description">
<p>
オプションを取り扱うためのブロックを自身に登録します。ブロックはコマンドラインのパース時に、オプションが指定されていれば呼ばれます。
</p>
<p>
pat にはオプションの引数に許すパターンを表す正規表現で与えます。コマンドに与えられた引数がパターンにマッチしない場合、例外 OptionParser::InvalidArgument が parse 実行時に投げられます。
</p>
<pre>
opts.on(&quot;--username VALUE&quot;, /[a-zA-Z0-9_]+/){|name| ...}
# ruby command --username=ruby_user
# ruby command --username=ruby.user #=&gt; Error
</pre>
<dl>
<dt class='method-param'>[PARAM] short:</dt>
<dd>
ショートオプションを表す文字列を指定します。
</dd>
<dt class='method-param'>[PARAM] long:</dt>
<dd>
ロングオプションを表す文字列を指定します。
</dd>
<dt class='method-param'>[PARAM] pat:</dt>
<dd>
オプションの引数に許すパターンを表す正規表現で指定します。
</dd>
<dt class='method-param'>[PARAM] desc:</dt>
<dd>
オプションの説明を文字列で与えます。サマリに表示されます。
</dd>
</dl>
</dd>
<dt class="method-heading" id="I_ON"><code>on(short, klass = String, desc = &quot;&quot;) {|v| ...} -&gt; self</code><span class="permalink">[<a href="../method/-option-parser/i/on.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-on">rdoc</a>]</span></dt>
<dt class="method-heading"><code>on(long, klass = String, desc = &quot;&quot;) {|v| ...} -&gt; self</code></dt>
<dt class="method-heading"><code>on(short, long, klass = String, desc = &quot;&quot;) {|v| ...} -&gt; self</code></dt>
<dd class="method-description">
<p>
オプションを取り扱うためのブロックを自身に登録します。ブロックはコマンドラインのパース時に、オプションが指定されていれば呼ばれます。
</p>
<p>
klass にはクラスを与えます。どのようなクラスを受け付けるかは、以下の「デフォルトで利用可能な引数クラス」を参照して下さい。
OptionParser.accept や OptionParser#accept によって、受け付けるクラスを増やすことができます。登録されていないクラスが指定された場合、例外 <a href="../class/-argument-error.html">ArgumentError</a> を投げます。また、登録されたクラスであっても引数が変換できないものである場合、例外
<a href="../class/-option-parser=3a=3a-invalid-argument.html">OptionParser::InvalidArgument</a> を投げます。
</p>
<p>
オプションの引数は accept で登録したブロックで klass のインスタンスに変換されてから、ブロックに渡されます。
</p>
<pre>
opts.on(&quot;-w&quot;, &quot;--width N&quot;, Integer){|w|
  p w.class #=&gt; Integer
}
# ruby command --width=32

opts.on(&quot;-o&quot;, &quot;--overwrite VALUE&quot;, TrueClass){|boolean| ...}
# ruby command --overwrite yes
</pre>
<dl>
<dt class='method-param'>[PARAM] short:</dt>
<dd>
ショートオプションを表す文字列を指定します。
</dd>
<dt class='method-param'>[PARAM] long:</dt>
<dd>
ロングオプションを表す文字列を指定します。
</dd>
<dt class='method-param'>[PARAM] klass:</dt>
<dd>
オプションの引数のクラスを指定します。
</dd>
<dt class='method-param'>[PARAM] desc:</dt>
<dd>
オプションの説明を文字列で与えます。サマリに表示されます。
</dd>
<dt>[EXCEPTION] ArgumentError:</dt>
<dd>
登録されていないクラスが klass に指定された場合に発生します。
</dd>
</dl>
<h3 >デフォルトで利用可能な引数クラス</h3>
<dl>
<dt>Object</dt>
<dd>
<p>
オプションの引数は変換されません。
</p>
</dd>
<dt>String</dt>
<dd>
<p>
オプションの引数は変換されません。ただし、空文字列を指定すると
<a href="../class/-option-parser=3a=3a-invalid-argument.html">OptionParser::InvalidArgument</a> が発生します。
</p>
</dd>
<dt>Integer</dt>
<dd>
<p>
Integer オブジェクトに変換されます。&quot;0b1&quot;、&quot;07&quot;、&quot;99&quot;、&quot;0xff&quot; といった
2進数、8進数、10進数、16進数の整数のフォーマットを指定できます。
</p>
</dd>
<dt>Float</dt>
<dd>
<p>
Float オブジェクトに変換されます。&quot;1.0&quot; や &quot;0.5e0&quot; のようなフォーマットを指定できます。
</p>
</dd>
<dt>Numeric</dt>
<dd>
<p>
整数の場合は Integer オブジェクトに、実数の場合は Float オブジェクトに変換されます。
</p>
</dd>
<dt>OptionParser::DecimalInteger</dt>
<dd>
<p>
Integer オブジェクトに変換されます。10進数の整数の整数のフォーマットのみを指定できます。
</p>
</dd>
<dt>OptionParser::OctalInteger</dt>
<dd>
<p>
Integer オブジェクトに変換されます。&quot;0b1&quot;、&quot;07&quot;、&quot;0xff&quot; といった 2進数、
8進数、16進数の整数のフォーマットを指定できます。
</p>
</dd>
<dt>OptionParser::DecimalNumeric</dt>
<dd>
<p>
整数の場合は Integer オブジェクトに、実数の場合は Float オブジェクトに変換されます。10進数のフォーマットを指定できます。
</p>
</dd>
<dt>TrueClass</dt>
<dd>
<p>
true か false に変換されます。&quot;yes&quot; や &quot;no&quot;、&quot;true&quot; や &quot;false&quot;、&quot;+&quot;
や &quot;-&quot; を指定できます。オプションの引数を省略した場合は true になります。また、&quot;no-&quot; をオプションの先頭に付けた場合は値が反転します。
</p>
</dd>
<dt>FalseClass</dt>
<dd>
<p>
true か false に変換されます。TrueClass との違いはオプションの引数を省略した場合に false になります。
</p>
</dd>
<dt>Array</dt>
<dd>
<p>
文字列の配列に変換されます。&quot;,&quot; ごとに 1つの要素になります。
</p>
</dd>
</dl>
</dd>
<dt class="method-heading" id="I_ON"><code>on(short, *rest) {|v| ...} -&gt; self</code><span class="permalink">[<a href="../method/-option-parser/i/on.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-on">rdoc</a>]</span></dt>
<dt class="method-heading"><code>on(long, *rest) {|v| ...} -&gt; self</code></dt>
<dt class="method-heading"><code>on(short, long, *rest) {|v| ...} -&gt; self</code></dt>
<dd class="method-description">
<p>
オプションを取り扱うためのブロックを自身に登録します。ブロックはコマンドラインのパース時に、オプションが指定されていれば呼ばれます。
</p>
<p>
コマンドに与えられた引数が配列やハッシュに含まれない場合、例外
<a href="../class/-option-parser=3a=3a-invalid-argument.html">OptionParser::InvalidArgument</a> が <a href="../method/-option-parser/i/parse.html">OptionParser#parse</a> 実行時に発生します。
</p>
<dl>
<dt class='method-param'>[PARAM] short:</dt>
<dd>
ショートオプションを表す文字列を指定します。
</dd>
<dt class='method-param'>[PARAM] long:</dt>
<dd>
ロングオプションを表す文字列を指定します。
</dd>
<dt class='method-param'>[PARAM] rest:</dt>
<dd>
可能な引数を列挙した配列やハッシュを与えます。文字列を与えた場合は、サマリに表示されるオプションの説明と見なします。
</dd>
</dl>
<pre class="highlight ruby">
<code>
opts<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s2">"</span><span class="s2">--protocol VALUE</span><span class="s2">"</span>, <span class="p">[</span><span class="ss">:http</span>, <span class="ss">:ftp</span>, <span class="ss">:https</span><span class="p">]</span><span class="p">)</span><span class="p">{</span><span class="o">|</span>w<span class="o">|</span>
  <span class="nb">p</span> w
<span class="p">}</span>
<span class="c1"># ruby command --protocol=http #=&gt; :http
</span>
opts<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s2">"</span><span class="s2">-c</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--charset VALUE</span><span class="s2">"</span>, <span class="p">{</span><span class="s2">"</span><span class="s2">jis</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">iso-2022-jp</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">sjis</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">shift_jis</span><span class="s2">"</span><span class="p">}</span><span class="p">)</span><span class="p">{</span><span class="o">|</span>w<span class="o">|</span>
  <span class="nb">p</span> w
<span class="p">}</span>
<span class="c1"># ruby command --charset=jis #=&gt; &quot;iso-2022-jp&quot;
</span></code></pre>
</dd>


<dt class="method-heading" id="I_ON_HEAD"><code>on_head(*arg, &amp;block) -&gt; self</code><span class="permalink">[<a href="../method/-option-parser/i/on_head.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-on_head">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オプションを取り扱うためのブロックを自身の持つリストの最初に登録します。
</p>
<dl>
<dt class='method-param'>[PARAM] arg:</dt>
<dd>
<a href="../method/-option-parser/i/on.html">OptionParser#on</a> と同様です。
</dd>
<dt class='method-param'>[PARAM] block:</dt>
<dd>
<a href="../method/-option-parser/i/on.html">OptionParser#on</a> と同様です。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>

opts <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span>opts<span class="o">|</span>
  opts<span class="p">.</span><span class="nf">on_head</span><span class="p">(</span><span class="s2">"</span><span class="s2">-i</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--init</span><span class="s2">"</span><span class="p">)</span>
  opts<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s2">"</span><span class="s2">-u</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--update</span><span class="s2">"</span><span class="p">)</span>
  opts<span class="p">.</span><span class="nf">on_tail</span><span class="p">(</span><span class="s2">"</span><span class="s2">-h</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--help</span><span class="s2">"</span><span class="p">)</span>
<span class="k">end</span>

<span class="nb">puts</span> opts<span class="p">.</span><span class="nf">help</span>

<span class="c1"># =&gt; Usage: test [options]
</span><span class="c1">#    -i, --init
</span><span class="c1">#    -u, --update
</span><span class="c1">#    -h, --help
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-option-parser/i/on.html">OptionParser#on</a>, <a href="../method/-option-parser/i/on_tail.html">OptionParser#on_tail</a>
</p>
</dd>


<dt class="method-heading" id="I_ON_TAIL"><code>on_tail(*arg, &amp;block) -&gt; self</code><span class="permalink">[<a href="../method/-option-parser/i/on_tail.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-on_tail">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オプションを取り扱うためのブロックを自身の持つリストの最後に登録します。
</p>
<p>
--version や --help の説明をサマリの最後に表示したい時に便利です。
</p>
<dl>
<dt class='method-param'>[PARAM] arg:</dt>
<dd>
<a href="../method/-option-parser/i/on.html">OptionParser#on</a> と同様です。
</dd>
<dt class='method-param'>[PARAM] block:</dt>
<dd>
<a href="../method/-option-parser/i/on.html">OptionParser#on</a> と同様です。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>

opts <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span>opts<span class="o">|</span>
  opts<span class="p">.</span><span class="nf">on_head</span><span class="p">(</span><span class="s2">"</span><span class="s2">-i</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--init</span><span class="s2">"</span><span class="p">)</span>
  opts<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s2">"</span><span class="s2">-u</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--update</span><span class="s2">"</span><span class="p">)</span>
  opts<span class="p">.</span><span class="nf">on_tail</span><span class="p">(</span><span class="s2">"</span><span class="s2">-h</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--help</span><span class="s2">"</span><span class="p">)</span>
<span class="k">end</span>

<span class="nb">puts</span> opts<span class="p">.</span><span class="nf">help</span>

<span class="c1"># =&gt; Usage: test [options]
</span><span class="c1">#    -i, --init
</span><span class="c1">#    -u, --update
</span><span class="c1">#    -h, --help
</span></code></pre>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>

opts <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span>
opts<span class="p">.</span><span class="nf">on_tail</span><span class="p">(</span><span class="s2">"</span><span class="s2">-h</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--help</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">Show this message</span><span class="s2">"</span><span class="p">)</span> <span class="k">do</span>
  <span class="nb">puts</span> opts
  <span class="nb">exit</span>
<span class="k">end</span>

opts<span class="p">.</span><span class="nf">on_tail</span><span class="p">(</span><span class="s2">"</span><span class="s2">--version</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">Show version</span><span class="s2">"</span><span class="p">)</span> <span class="k">do</span>
  <span class="nb">puts</span> <span class="no">OptionParser</span><span class="o">::</span><span class="no">Version</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="s1">'.'</span><span class="p">)</span>
  <span class="nb">exit</span>
<span class="k">end</span>
</code></pre>
<p>
[SEE_ALSO] <a href="../method/-option-parser/i/on.html">OptionParser#on</a>, <a href="../method/-option-parser/i/on_head.html">OptionParser#on_head</a>
</p>
</dd>


<dt class="method-heading" id="I_ORDER"><code>order(argv, into: nil) -&gt; [String]</code><span class="permalink">[<a href="../method/-option-parser/i/order.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-order">rdoc</a>]</span></dt>
<dt class="method-heading"><code>order(argv, into: nil) {|s| ...} -&gt; [String]</code></dt>
<dt class="method-heading"><code>order(*args, into: nil) -&gt; [String]</code></dt>
<dt class="method-heading"><code>order(*args, into: nil) {|s| ...} -&gt; [String]</code></dt>
<dd class="method-description">
<p>
与えられた argv を順番にパースします。オプションではないコマンドの引数(下の例で言うと somefile)に出会うと、パースを中断します。
argv からオプションを取り除いたものを返します。
</p>
<p>
ブロックが与えられている場合は、パースを中断せずに引数をブロックに渡してブロックを評価し、パースを継続します。argv を返します。
</p>
<p>
下の例で言うと、コマンドの引数 somefile よりも後ろにオプションを置くことができません。-b もコマンドのオプションではない引数として扱われてしまいます。
</p>
<dl>
<dt class='method-param'>[PARAM] argv:</dt>
<dd>
パースしたい引数を文字列の配列で指定します。
</dd>
<dt class='method-param'>[PARAM] args:</dt>
<dd>
パースしたい引数を順に文字列として与えます。
</dd>
<dt class='method-param'>[PARAM] into:</dt>
<dd>
オプションを格納するハッシュを指定します。指定したハッシュにはオプションの名前をキーとして、<a href="../method/-option-parser/i/on.html">OptionParser#on</a>に渡されたブロックの値が格納されます。キーの名前はロングオプションが定義されていればロングオプションの値を、ショートオプションのみの場合はショートオプションの値から、先頭の &quot;-&quot; を除いてシンボル化した値が使用されます。
</dd>
<dt>[EXCEPTION] OptionParser::ParseError:</dt>
<dd>
パースに失敗した場合、発生します。実際は OptionParser::ParseError のサブクラスになります。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">opt.rb</span>
<code>
<span class="nb">require</span> <span class="s1">'optparse'</span>
opt <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span>

opt<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s1">'-a [VAL]'</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> <span class="nb">p</span> <span class="ss">:a</span> <span class="p">}</span>
opt<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s1">'-b'</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> <span class="nb">p</span> <span class="ss">:b</span> <span class="p">}</span>

opt<span class="p">.</span><span class="nf">order</span><span class="p">(</span><span class="no">ARGV</span><span class="p">)</span>
<span class="nb">p</span> <span class="no">ARGV</span>
</code></pre>
<p>
↓
</p>
<pre>
$ ruby opt.rb -a foo somefile -b
:a
[&quot;-a&quot;, &quot;foo&quot;, &quot;somefile&quot;, &quot;-b&quot;]
</pre>
</dd>


<dt class="method-heading" id="I_ORDER--21"><code>order!(argv = self.default_argv, into: nil) -&gt; [String]</code><span class="permalink">[<a href="../method/-option-parser/i/order=21.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-order-21">rdoc</a>]</span></dt>
<dt class="method-heading"><code>order!(argv = self.default_argv, into: nil) {|s| ...} -&gt; [String]</code></dt>
<dd class="method-description">
<p>
与えられた argv を順番に破壊的にパースします。
argv からオプションがすべて取り除かれます。
argv を返します。
</p>
<p>
オプションではないコマンドの引数(下の例で言うと somefile)に出会うと、パースを中断します。ブロックが与えられている場合は、パースを中断せずに引数をブロックに渡してブロックを評価し、パースを継続します。argv を返します。
</p>
<p>
下の例で言うと、コマンドの引数 somefile よりも後ろにオプションを置くことができません。
-b もコマンドのオプションではない引数として扱われてしまいます。
</p>
<dl>
<dt class='method-param'>[PARAM] argv:</dt>
<dd>
パースしたい引数を文字列の配列で指定します。
</dd>
<dt class='method-param'>[PARAM] into:</dt>
<dd>
オプションを格納するハッシュを指定します。指定したハッシュにはオプションの名前をキーとして、<a href="../method/-option-parser/i/on.html">OptionParser#on</a>に渡されたブロックの値が格納されます。キーの名前はロングオプションが定義されていればロングオプションの値を、ショートオプションのみの場合はショートオプションの値から、先頭の &quot;-&quot; を除いてシンボル化した値が使用されます。
</dd>
<dt>[EXCEPTION] OptionParser::ParseError:</dt>
<dd>
パースに失敗した場合、発生します。実際は OptionParser::ParseError のサブクラスになります。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">opt.rb</span>
<code>
<span class="nb">require</span> <span class="s1">'optparse'</span>
opt <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span>

opt<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s1">'-a [VAL]'</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> <span class="nb">p</span> <span class="ss">:a</span> <span class="p">}</span>
opt<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s1">'-b'</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> <span class="nb">p</span> <span class="ss">:b</span> <span class="p">}</span>

opt<span class="p">.</span><span class="nf">order!</span><span class="p">(</span><span class="no">ARGV</span><span class="p">)</span>
<span class="nb">p</span> <span class="no">ARGV</span>
</code></pre>
<p>
↓
</p>
<pre>
$ ruby opt.rb -a foo somefile -b
:a
[&quot;somefile&quot;, &quot;-b&quot;]
</pre>
</dd>


<dt class="method-heading" id="I_PARSE"><code>parse(argv, into: nil) -&gt; [String]</code><span class="permalink">[<a href="../method/-option-parser/i/parse.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-parse">rdoc</a>]</span></dt>
<dt class="method-heading"><code>parse(*args, into: nil) -&gt; [String]</code></dt>
<dd class="method-description">
<p>
与えられた argv をパースします。
argv からオプションを取り除いたものを返します。
</p>
<p>
<a href="../method/-option-parser/i/permute.html">OptionParser#permute</a> と同様に振舞います。しかし、環境変数に POSIXLY_CORRECT が設定されている場合は、
<a href="../method/-option-parser/i/order.html">OptionParser#order</a> と同様に振舞います。
</p>
<dl>
<dt class='method-param'>[PARAM] argv:</dt>
<dd>
パースしたい引数を文字列の配列で指定します。
</dd>
<dt class='method-param'>[PARAM] args:</dt>
<dd>
パースしたい引数を順に文字列として与えます。
</dd>
<dt class='method-param'>[PARAM] into:</dt>
<dd>
オプションを格納するハッシュを指定します。指定したハッシュにはオプションの名前をキーとして、<a href="../method/-option-parser/i/on.html">OptionParser#on</a>に渡されたブロックの値が格納されます。キーの名前はロングオプションが定義されていればロングオプションの値を、ショートオプションのみの場合はショートオプションの値から、先頭の &quot;-&quot; を除いてシンボル化した値が使用されます。
</dd>
<dt>[EXCEPTION] OptionParser::ParseError:</dt>
<dd>
パースに失敗した場合、発生します。実際は OptionParser::ParseError のサブクラスになります。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>

opts <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span>opts<span class="o">|</span>
  opts<span class="p">.</span><span class="nf">on_head</span><span class="p">(</span><span class="s2">"</span><span class="s2">-i</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--init</span><span class="s2">"</span><span class="p">)</span>
  opts<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s2">"</span><span class="s2">-u</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--update</span><span class="s2">"</span><span class="p">)</span>
  opts<span class="p">.</span><span class="nf">on_tail</span><span class="p">(</span><span class="s2">"</span><span class="s2">-h</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--help</span><span class="s2">"</span><span class="p">)</span>
<span class="k">end</span>

<span class="no">ARGV</span>             <span class="c1"># =&gt; [&quot;-i&quot;, &quot;-u&quot;, &quot;-h&quot;, &quot;test&quot;]
</span>opts<span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="no">ARGV</span><span class="p">)</span> <span class="c1"># =&gt; [&quot;test&quot;]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_PARSE--21"><code>parse!(argv = self.default_argv, into: nil) -&gt; [String]</code><span class="permalink">[<a href="../method/-option-parser/i/parse=21.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-parse-21">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
与えられた argv をパースします。
</p>
<p>
<a href="../method/-option-parser/i/permute=21.html">OptionParser#permute!</a> と同様に argv を破壊的にパースします。環境変数に POSIXLY_CORRECT が設定されている場合は、
<a href="../method/-option-parser/i/order=21.html">OptionParser#order!</a> と同様に振舞います。
</p>
<dl>
<dt class='method-param'>[PARAM] argv:</dt>
<dd>
パースしたい引数を文字列の配列で指定します。
</dd>
<dt class='method-param'>[PARAM] into:</dt>
<dd>
オプションを格納するハッシュを指定します。指定したハッシュにはオプションの名前をキーとして、<a href="../method/-option-parser/i/on.html">OptionParser#on</a>に渡されたブロックの値が格納されます。キーの名前はロングオプションが定義されていればロングオプションの値を、ショートオプションのみの場合はショートオプションの値から、先頭の &quot;-&quot; を除いてシンボル化した値が使用されます。
</dd>
<dt>[EXCEPTION] OptionParser::ParseError:</dt>
<dd>
パースに失敗した場合、発生します。実際は OptionParser::ParseError のサブクラスになります。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>

opts <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span>opts<span class="o">|</span>
  opts<span class="p">.</span><span class="nf">on_head</span><span class="p">(</span><span class="s2">"</span><span class="s2">-i</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--init</span><span class="s2">"</span><span class="p">)</span>
  opts<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s2">"</span><span class="s2">-u</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--update</span><span class="s2">"</span><span class="p">)</span>
  opts<span class="p">.</span><span class="nf">on_tail</span><span class="p">(</span><span class="s2">"</span><span class="s2">-h</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--help</span><span class="s2">"</span><span class="p">)</span>
<span class="k">end</span>

<span class="no">ARGV</span>              <span class="c1"># =&gt; [&quot;-i&quot;, &quot;-u&quot;, &quot;-h&quot;, &quot;test&quot;]
</span>opts<span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="no">ARGV</span><span class="p">)</span>  <span class="c1"># =&gt; [&quot;test&quot;]
</span><span class="no">ARGV</span>              <span class="c1"># =&gt; [&quot;-i&quot;, &quot;-u&quot;, &quot;-h&quot;, &quot;test&quot;]
</span>opts<span class="p">.</span><span class="nf">parse!</span><span class="p">(</span><span class="no">ARGV</span><span class="p">)</span> <span class="c1"># =&gt; [&quot;test&quot;]
</span><span class="no">ARGV</span>              <span class="c1"># =&gt; [&quot;test&quot;]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_PERMUTE"><code>permute(argv, into: nil) -&gt; [String]</code><span class="permalink">[<a href="../method/-option-parser/i/permute.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-permute">rdoc</a>]</span></dt>
<dt class="method-heading"><code>permute(*args, into: nil) -&gt; [String]</code></dt>
<dd class="method-description">
<p>
与えられた argv をパースします。オプションではないコマンドの引数(下の例で言うと somefile)があってもパースを中断しません。
argv からオプションを取り除いたものを返します。
</p>
<p>
下の例で言うと、order と違いコマンドの引数 somefile よりも後ろにオプションを置くことができます。
</p>
<dl>
<dt class='method-param'>[PARAM] argv:</dt>
<dd>
パースしたい引数を文字列の配列で指定します。
</dd>
<dt class='method-param'>[PARAM] args:</dt>
<dd>
パースしたい引数を順に文字列として与えます。
</dd>
<dt class='method-param'>[PARAM] into:</dt>
<dd>
オプションを格納するハッシュを指定します。指定したハッシュにはオプションの名前をキーとして、<a href="../method/-option-parser/i/on.html">OptionParser#on</a>に渡されたブロックの値が格納されます。キーの名前はロングオプションが定義されていればロングオプションの値を、ショートオプションのみの場合はショートオプションの値から、先頭の &quot;-&quot; を除いてシンボル化した値が使用されます。
</dd>
<dt>[EXCEPTION] OptionParser::ParseError:</dt>
<dd>
パースに失敗した場合、発生します。実際は OptionParser::ParseError のサブクラスになります。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">opt.rb</span>
<code>
<span class="nb">require</span> <span class="s1">'optparse'</span>
opt <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span>

opt<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s1">'-a [VAL]'</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> <span class="nb">p</span> <span class="ss">:a</span> <span class="p">}</span>
opt<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s1">'-b '</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> <span class="nb">p</span> <span class="ss">:b</span> <span class="p">}</span>

opt<span class="p">.</span><span class="nf">permute!</span><span class="p">(</span><span class="no">ARGV</span><span class="p">)</span>
<span class="nb">p</span> <span class="no">ARGV</span>
</code></pre>
<p>
↓
</p>
<pre>
$ ruby opt.rb -a foo somefile -b
:a
:b
[&quot;somefile&quot;]
</pre>
</dd>


<dt class="method-heading" id="I_PERMUTE--21"><code>permute!(argv = self.default_argv, into: nil) -&gt; [String]</code><span class="permalink">[<a href="../method/-option-parser/i/permute=21.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-permute-21">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
与えられた argv を破壊的にパースします。argv からオプションがすべて取り除かれます。オプションではないコマンドの引数(下の例で言うと somefile)があってもパースを中断しません。
argv を返します。
</p>
<p>
下の例で言うと、order と違いコマンドの引数 somefile よりも後ろにオプションを置くことができます。
</p>
<dl>
<dt class='method-param'>[PARAM] argv:</dt>
<dd>
パースしたい引数を文字列の配列で指定します。
</dd>
<dt class='method-param'>[PARAM] into:</dt>
<dd>
オプションを格納するハッシュを指定します。指定したハッシュにはオプションの名前をキーとして、<a href="../method/-option-parser/i/on.html">OptionParser#on</a>に渡されたブロックの値が格納されます。キーの名前はロングオプションが定義されていればロングオプションの値を、ショートオプションのみの場合はショートオプションの値から、先頭の &quot;-&quot; を除いてシンボル化した値が使用されます。
</dd>
<dt>[EXCEPTION] OptionParser::ParseError:</dt>
<dd>
パースに失敗した場合、発生します。実際は OptionParser::ParseError のサブクラスになります。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">opt.rb</span>
<code>
<span class="nb">require</span> <span class="s1">'optparse'</span>
opt <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span>

opt<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s1">'-a [VAL]'</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> <span class="nb">p</span> <span class="ss">:a</span> <span class="p">}</span>
opt<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s1">'-b '</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> <span class="nb">p</span> <span class="ss">:b</span> <span class="p">}</span>

opt<span class="p">.</span><span class="nf">permute!</span><span class="p">(</span><span class="no">ARGV</span><span class="p">)</span>
<span class="nb">p</span> <span class="no">ARGV</span>
</code></pre>
<p>
↓
</p>
<pre>
$ ruby opt.rb -a foo somefile -b
:a
:b
[&quot;somefile&quot;]
</pre>
</dd>


<dt class="method-heading" id="I_PROGRAM_NAME"><code>program_name -&gt; String</code><span class="permalink">[<a href="../method/-option-parser/i/program_name.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-program_name">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
プログラムの名前を文字列で返します。
</p>
<p>
デフォルトは $0 が使われます。
</p>
<dl>
<dt>[RETURN]</dt>
<dd>
プログラムの名前を文字列で返します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>

<span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span>opts<span class="o">|</span>
  <span class="nb">p</span> <span class="vg">$0</span>                 <span class="c1"># =&gt; /path/to/filename.rb
</span>  <span class="nb">p</span> opts<span class="p">.</span><span class="nf">program_name</span>  <span class="c1"># =&gt; filename
</span><span class="k">end</span>
</code></pre>
</dd>


<dt class="method-heading" id="I_PROGRAM_NAME--3D"><code>program_name=(name)</code><span class="permalink">[<a href="../method/-option-parser/i/program_name=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-program_name-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
プログラムの名前を文字列で指定します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
プログラムの名前を文字列で指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>

<span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span>opts<span class="o">|</span>
  <span class="vg">$0</span>                         <span class="c1"># =&gt; /path/to/filename.rb
</span>  opts<span class="p">.</span><span class="nf">program_name</span>          <span class="c1"># =&gt; filename
</span>  opts<span class="p">.</span><span class="nf">program_name</span> <span class="o">=</span> <span class="s1">'test'</span> <span class="c1"># =&gt; &quot;test&quot;
</span>  opts<span class="p">.</span><span class="nf">program_name</span>          <span class="c1"># =&gt; &quot;test&quot;
</span><span class="k">end</span>
</code></pre>
</dd>


<dt class="method-heading" id="I_REJECT"><code>reject(klass) -&gt; ()</code><span class="permalink">[<a href="../method/-option-parser/i/reject.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-reject">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../method/-option-parser/i/accept.html">OptionParser#accept</a> で登録したクラスとブロックを自身から削除します。
</p>
<dl>
<dt class='method-param'>[PARAM] klass:</dt>
<dd>
自身から削除したいクラスを指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">time</span><span class="s2">"</span>

<span class="k">def</span> <span class="nf">parse</span><span class="p">(</span>option_parser<span class="p">)</span>
  option_parser<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s2">"</span><span class="s2">-t</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--time [TIME]</span><span class="s2">"</span>, <span class="no">Time</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span>time<span class="o">|</span>
    <span class="nb">p</span> time<span class="p">.</span><span class="nf">class</span>
  <span class="k">end</span>
  option_parser<span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="no">ARGV</span><span class="p">)</span>
<span class="k">end</span>

opts <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span>
opts<span class="p">.</span><span class="nf">accept</span><span class="p">(</span><span class="no">Time</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span>s,<span class="o">|</span>
  <span class="k">begin</span>
    <span class="no">Time</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span>s<span class="p">)</span> <span class="k">if</span> s
  <span class="k">rescue</span>
    <span class="nb">raise</span> <span class="no">OptionParser</span><span class="o">::</span><span class="no">InvalidArgument</span>, s
  <span class="k">end</span>
<span class="k">end</span>

parse<span class="p">(</span>opts<span class="p">)</span> <span class="c1"># =&gt; Time
</span>opts<span class="p">.</span><span class="nf">reject</span><span class="p">(</span><span class="no">Time</span><span class="p">)</span>
parse<span class="p">(</span>opts<span class="p">)</span> <span class="c1"># =&gt; unsupported argument type: Time (ArgumentError)
</span></code></pre>
</dd>


<dt class="method-heading" id="I_RELEASE"><code>release -&gt; String</code><span class="permalink">[<a href="../method/-option-parser/i/release.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-release">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
プログラムのリリースを文字列で返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>

<span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span>opts<span class="o">|</span>
  opts<span class="p">.</span><span class="nf">release</span> <span class="c1"># =&gt; nil
</span>  opts<span class="p">.</span><span class="nf">release</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">2019-05-01</span><span class="s2">"</span>
  opts<span class="p">.</span><span class="nf">release</span> <span class="c1"># =&gt; &quot;2019-05-01&quot;
</span><span class="k">end</span>
</code></pre>
</dd>


<dt class="method-heading" id="I_RELEASE--3D"><code>release=(rel)</code><span class="permalink">[<a href="../method/-option-parser/i/release=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-release-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
プログラムのリリースを文字列で指定します。
</p>
<dl>
<dt class='method-param'>[PARAM] rel:</dt>
<dd>
プログラムのリリースを文字列で指定します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-option-parser/i/ver.html">OptionParser#ver</a>
</p>
</dd>


<dt class="method-heading" id="I_SEPARATOR"><code>separator(sep) -&gt; ()</code><span class="permalink">[<a href="../method/-option-parser/i/separator.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-separator">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
サマリにオプションを区切るための文字列 sep を挿入します。オプションにいくつかの種類がある場合に、サマリがわかりやすくなります。
</p>
<p>
サマリには on メソッドを呼んだ順にオプションが表示されるので、区切りを挿入したいところでこのメソッドを呼びます。
</p>
<dl>
<dt class='method-param'>[PARAM] sep:</dt>
<dd>
サマリの区切りを文字列で指定します。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="nb">require</span> <span class="s1">'optparse'</span>
opts <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span>
opts<span class="p">.</span><span class="nf">banner</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">Usage: example.rb [options]</span><span class="s2">"</span>

opts<span class="p">.</span><span class="nf">separator</span> <span class="s2">"</span><span class="s2">"</span>
opts<span class="p">.</span><span class="nf">separator</span> <span class="s2">"</span><span class="s2">Specific options:</span><span class="s2">"</span>

opts<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s2">"</span><span class="s2">-r</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--require LIBRARY</span><span class="s2">"</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span>lib<span class="o">|</span>
        options<span class="p">.</span><span class="nf">library</span> <span class="o">&lt;&lt;</span> lib
<span class="k">end</span>

opts<span class="p">.</span><span class="nf">separator</span> <span class="s2">"</span><span class="s2">"</span>
opts<span class="p">.</span><span class="nf">separator</span> <span class="s2">"</span><span class="s2">Common options:</span><span class="s2">"</span>

opts<span class="p">.</span><span class="nf">on_tail</span><span class="p">(</span><span class="s2">"</span><span class="s2">-h</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--help</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">Show this message</span><span class="s2">"</span><span class="p">)</span> <span class="k">do</span>
  <span class="nb">puts</span> opts
  <span class="nb">exit</span>
<span class="k">end</span>
</code></pre>
</dd>


<dt class="method-heading" id="I_SUMMARIZE"><code>summarize(to = [], width = self.summary_width, max = width - 1, indent= self.summary_indent) -&gt; ()</code><span class="permalink">[<a href="../method/-option-parser/i/summarize.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-summarize">rdoc</a>]</span></dt>
<dt class="method-heading"><code>summarize(to = [], width = self.summary_width, max = width - 1, indent= self.summary_indent) {|line| ... } -&gt; ()</code></dt>
<dd class="method-description">
<p>
サマリを指定された to へと加えていきます。
</p>
<p>
ブロックが与えられた場合、サマリの各行を引数としてブロックを評価します。この場合、ブロックの中で明示的に to へと加えていかない限り、
to にサマリが加えられることはありません。
</p>
<dl>
<dt class='method-param'>[PARAM] to:</dt>
<dd>
サマリを出力するオブジェクトを指定します。to には &lt;&lt; メソッドが定義されいる必要があります。
</dd>
<dt class='method-param'>[PARAM] width:</dt>
<dd>
サマリの幅を整数で指定します。
</dd>
<dt class='method-param'>[PARAM] max:</dt>
<dd>
サマリの最大幅を整数で指定します。
</dd>
<dt class='method-param'>[PARAM] indent:</dt>
<dd>
サマリのインデントを文字列で指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>

opts <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span>opts<span class="o">|</span>
  opts<span class="p">.</span><span class="nf">on_head</span><span class="p">(</span><span class="s2">"</span><span class="s2">-i</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--init</span><span class="s2">"</span><span class="p">)</span>
  opts<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s2">"</span><span class="s2">-u</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--update</span><span class="s2">"</span><span class="p">)</span>
  opts<span class="p">.</span><span class="nf">on_tail</span><span class="p">(</span><span class="s2">"</span><span class="s2">-h</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--help</span><span class="s2">"</span><span class="p">)</span>
<span class="k">end</span>

opts<span class="p">.</span><span class="nf">summarize</span>
<span class="c1"># =&gt; [&quot;    -i, --init\n&quot;, &quot;    -u, --update\n&quot;, &quot;    -h, --help\n&quot;]
</span>opts<span class="p">.</span><span class="nf">summarize</span><span class="p">(</span><span class="p">[</span><span class="s2">"</span><span class="s2">description\n</span><span class="s2">"</span><span class="p">]</span>, <span class="mi">10</span>, <span class="mi">8</span>, <span class="s2">"</span><span class="s2">  </span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; [&quot;description\n&quot;, &quot;  -i\n&quot;, &quot;      --init\n&quot;, &quot;  -u\n&quot;, &quot;      --update\n&quot;, &quot;  -h\n&quot;, &quot;      --help\n&quot;]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_SUMMARY_INDENT"><code>summary_indent -&gt; String</code><span class="permalink">[<a href="../method/-option-parser/i/summary_indent.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-summary_indent">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
サマリを表示する時のインデントを文字列で返します。
</p>
<dl>
<dt>[RETURN]</dt>
<dd>
サマリを表示する時のインデントを文字列で返します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>

opts <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span>opts<span class="o">|</span>
  opts<span class="p">.</span><span class="nf">on_head</span><span class="p">(</span><span class="s2">"</span><span class="s2">-i</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--init</span><span class="s2">"</span><span class="p">)</span>
  opts<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s2">"</span><span class="s2">-u</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--update</span><span class="s2">"</span><span class="p">)</span>
  opts<span class="p">.</span><span class="nf">on_tail</span><span class="p">(</span><span class="s2">"</span><span class="s2">-h</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--help</span><span class="s2">"</span><span class="p">)</span>
<span class="k">end</span>

opts<span class="p">.</span><span class="nf">summary_indent</span>         <span class="c1"># =&gt; &quot;    &quot;
</span>opts<span class="p">.</span><span class="nf">summarize</span>
<span class="c1"># =&gt; [&quot;    -i, --init\n&quot;, &quot;    -u, --update\n&quot;, &quot;    -h, --help\n&quot;]
</span>opts<span class="p">.</span><span class="nf">summary_indent</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">  </span><span class="s2">"</span>
opts<span class="p">.</span><span class="nf">summary_indent</span>         <span class="c1"># =&gt; &quot;  &quot;
</span>opts<span class="p">.</span><span class="nf">summarize</span>
<span class="c1"># =&gt; [&quot;  -i, --init\n&quot;, &quot;  -u, --update\n&quot;, &quot;  -h, --help\n&quot;]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_SUMMARY_INDENT--3D"><code>summary_indent=(indent)</code><span class="permalink">[<a href="../method/-option-parser/i/summary_indent=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-summary_indent-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
サマリを表示する時のインデントを文字列で指定します。
</p>
<dl>
<dt class='method-param'>[PARAM] indent:</dt>
<dd>
サマリを表示する時に使われるインデントを文字列で指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>

opts <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span>opts<span class="o">|</span>
  opts<span class="p">.</span><span class="nf">on_head</span><span class="p">(</span><span class="s2">"</span><span class="s2">-i</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--init</span><span class="s2">"</span><span class="p">)</span>
  opts<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s2">"</span><span class="s2">-u</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--update</span><span class="s2">"</span><span class="p">)</span>
  opts<span class="p">.</span><span class="nf">on_tail</span><span class="p">(</span><span class="s2">"</span><span class="s2">-h</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--help</span><span class="s2">"</span><span class="p">)</span>
<span class="k">end</span>

opts<span class="p">.</span><span class="nf">summary_indent</span>         <span class="c1"># =&gt; &quot;    &quot;
</span>opts<span class="p">.</span><span class="nf">summarize</span>
<span class="c1"># =&gt; [&quot;    -i, --init\n&quot;, &quot;    -u, --update\n&quot;, &quot;    -h, --help\n&quot;]
</span>opts<span class="p">.</span><span class="nf">summary_indent</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">  </span><span class="s2">"</span>  <span class="c1"># =&gt; &quot;  &quot;
</span>opts<span class="p">.</span><span class="nf">summary_indent</span>         <span class="c1"># =&gt; &quot;  &quot;
</span>opts<span class="p">.</span><span class="nf">summarize</span>
<span class="c1"># =&gt; [&quot;  -i, --init\n&quot;, &quot;  -u, --update\n&quot;, &quot;  -h, --help\n&quot;]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_SUMMARY_WIDTH"><code>summary_width -&gt; Integer</code><span class="permalink">[<a href="../method/-option-parser/i/summary_width.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-summary_width">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
サマリを表示するときの幅を整数で返します。
</p>
<dl>
<dt>[RETURN]</dt>
<dd>
サマリを表示するときの幅を整数で返します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>

opts <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span>opts<span class="o">|</span>
  opts<span class="p">.</span><span class="nf">on_head</span><span class="p">(</span><span class="s2">"</span><span class="s2">-i</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--init</span><span class="s2">"</span><span class="p">)</span>
  opts<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s2">"</span><span class="s2">-u</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--update</span><span class="s2">"</span><span class="p">)</span>
  opts<span class="p">.</span><span class="nf">on_tail</span><span class="p">(</span><span class="s2">"</span><span class="s2">-h</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--help</span><span class="s2">"</span><span class="p">)</span>
<span class="k">end</span>

opts<span class="p">.</span><span class="nf">summary_width</span>     <span class="c1"># =&gt; 32
</span>opts<span class="p">.</span><span class="nf">summarize</span>
<span class="c1"># =&gt; [&quot;    -i, --init\n&quot;, &quot;    -u, --update\n&quot;, &quot;    -h, --help\n&quot;]
</span>opts<span class="p">.</span><span class="nf">summary_width</span> <span class="o">=</span> <span class="mi">8</span>
opts<span class="p">.</span><span class="nf">summary_width</span>     <span class="c1"># =&gt;8
</span>opts<span class="p">.</span><span class="nf">summarize</span>
<span class="c1"># =&gt; [&quot;    -i\n&quot;, &quot;        --init\n&quot;, &quot;    -u\n&quot;, &quot;        --update\n&quot;, &quot;    -h\n&quot;, &quot;        --help\n&quot;]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_SUMMARY_WIDTH--3D"><code>summary_width=(width)</code><span class="permalink">[<a href="../method/-option-parser/i/summary_width=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-summary_width-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
サマリを表示するときの幅を整数で指定します。
</p>
<dl>
<dt class='method-param'>[PARAM] width:</dt>
<dd>
サマリを表示するときの幅を整数で指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>

opts <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span>opts<span class="o">|</span>
  opts<span class="p">.</span><span class="nf">on_head</span><span class="p">(</span><span class="s2">"</span><span class="s2">-i</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--init</span><span class="s2">"</span><span class="p">)</span>
  opts<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s2">"</span><span class="s2">-u</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--update</span><span class="s2">"</span><span class="p">)</span>
  opts<span class="p">.</span><span class="nf">on_tail</span><span class="p">(</span><span class="s2">"</span><span class="s2">-h</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--help</span><span class="s2">"</span><span class="p">)</span>
<span class="k">end</span>

opts<span class="p">.</span><span class="nf">summary_width</span>     <span class="c1"># =&gt; 32
</span>opts<span class="p">.</span><span class="nf">summarize</span>
<span class="c1"># =&gt; [&quot;    -i, --init\n&quot;, &quot;    -u, --update\n&quot;, &quot;    -h, --help\n&quot;]
</span>opts<span class="p">.</span><span class="nf">summary_width</span> <span class="o">=</span> <span class="mi">8</span> <span class="c1"># =&gt; 8
</span>opts<span class="p">.</span><span class="nf">summary_width</span>     <span class="c1"># =&gt; 8
</span>opts<span class="p">.</span><span class="nf">summarize</span>
<span class="c1"># =&gt; [&quot;    -i\n&quot;, &quot;        --init\n&quot;, &quot;    -u\n&quot;, &quot;        --update\n&quot;, &quot;    -h\n&quot;, &quot;        --help\n&quot;]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_TO_A"><code>to_a -&gt; [String]</code><span class="permalink">[<a href="../method/-option-parser/i/to_a.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-to_a">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
サマリの各行を要素とした配列を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>

opts <span class="o">=</span> <span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span>opts<span class="o">|</span>
  opts<span class="p">.</span><span class="nf">on_head</span><span class="p">(</span><span class="s2">"</span><span class="s2">-i</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--init</span><span class="s2">"</span><span class="p">)</span>
  opts<span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="s2">"</span><span class="s2">-u</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--update</span><span class="s2">"</span><span class="p">)</span>
  opts<span class="p">.</span><span class="nf">on_tail</span><span class="p">(</span><span class="s2">"</span><span class="s2">-h</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">--help</span><span class="s2">"</span><span class="p">)</span>
<span class="k">end</span>

opts<span class="p">.</span><span class="nf">to_a</span> <span class="c1"># =&gt; [&quot;Usage: test [options]&quot;, &quot;    -i, --init\n&quot;, &quot;    -u, --update\n&quot;, &quot;    -h, --help\n&quot;]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_VER"><code>ver -&gt; String</code><span class="permalink">[<a href="../method/-option-parser/i/ver.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-ver">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
program_name、version と release から生成したバージョンを表す文字列を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">optparse</span><span class="s2">"</span>

<span class="no">OptionParser</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span>opts<span class="o">|</span>
  opts<span class="p">.</span><span class="nf">banner</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">Usage: example.rb [options]</span><span class="s2">"</span>
  opts<span class="p">.</span><span class="nf">program_name</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">Optparse Example</span><span class="s2">"</span>
  opts<span class="p">.</span><span class="nf">version</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span><span class="p">]</span>
  opts<span class="p">.</span><span class="nf">release</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">2019-05-01</span><span class="s2">"</span>

  opts<span class="p">.</span><span class="nf">on_tail</span><span class="p">(</span><span class="s2">"</span><span class="s2">--version</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">Show version</span><span class="s2">"</span><span class="p">)</span> <span class="k">do</span>
    <span class="nb">puts</span> opts<span class="p">.</span><span class="nf">ver</span> <span class="c1"># =&gt; &quot;Optparse Example 0.1 (2019-05-01)&quot;
</span>    <span class="nb">exit</span>
  <span class="k">end</span>

  opts<span class="p">.</span><span class="nf">parse!</span><span class="p">(</span><span class="no">ARGV</span><span class="p">)</span>
<span class="k">end</span>
</code></pre>
</dd>


<dt class="method-heading" id="I_VERSION"><code>version -&gt; String</code><span class="permalink">[<a href="../method/-option-parser/i/version.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-version">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
プログラムのバージョンを文字列で返します。
</p>
<dl>
<dt>[RETURN]</dt>
<dd>
プログラムのバージョンを文字列で返します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-option-parser/i/ver.html">OptionParser#ver</a>
</p>
</dd>


<dt class="method-heading" id="I_VERSION--3D"><code>version=(ver)</code><span class="permalink">[<a href="../method/-option-parser/i/version=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/OptionParser.html#method-i-version-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
プログラムのバージョンを文字列で指定します。
</p>
<dl>
<dt class='method-param'>[PARAM] ver:</dt>
<dd>
プログラムのバージョンを文字列で指定します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-option-parser/i/ver.html">OptionParser#ver</a>
</p>
</dd>


</dl>

</main>

<footer id="footer">
  <a rel="license" href="https://creativecommons.org/licenses/by/3.0/">
    <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/3.0/88x31.png" />
  </a>

  <a href="https://github.com/rurema/doctree/issues/new" id="feedback-link">フィードバックを送る</a>
  
  <script>if (window.URLSearchParams) { document.getElementById("feedback-link").search = new URLSearchParams({'body': document.location}); }</script>
</footer>
</body>
</html>
