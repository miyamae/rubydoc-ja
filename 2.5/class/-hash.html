<!DOCTYPE html>
<html lang="ja-JP">
<head>

<meta name="robots" content="noindex">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../style.css">
<link rel="stylesheet" href="../syntax-highlight.css">
<link rel="icon" type="image/png" href="../rurema.png">

<title>class Hash (Ruby 2.5.9 リファレンスマニュアル)</title>
<meta name="description" content="ハッシュテーブル(連想配列とも呼ぶ)のクラスです。ハッシュは任意の種類のオブ
ジェクト(キー)から任意の種類のオブジェクト(値)への関連づけを行うことができます。">
<script src="../script.js"></script>
</head>
<body>


<header>
  <nav>
    <ol class="inline-breadcrumb-list">
      <li>
        <a href="../doc/index.html">Ruby 2.5.9 リファレンスマニュアル</a>
      </li>
      <li>
        <a href="../library/index.html">ライブラリ一覧</a>
      </li>
      <li>
        <a href="../library/_builtin.html">組み込みライブラリ</a>
      </li>
      <li>
        Hashクラス
      </li>
    </ol>
  </nav>

<h1>class Hash</h1>
</header>

<main>



  <nav>
    クラス・モジュールの継承リスト:
    <ol class="inline-ancestors-list">
      
        <li>
          <a href="../class/-basic-object.html">BasicObject</a>
        </li>
        
      
        <li>
          <a href="../class/-kernel.html">Kernel</a>
        </li>
        
      
        <li>
          <a href="../class/-object.html">Object</a>
        </li>
        
      
        <li>
          <a href="../class/-enumerable.html">Enumerable</a>
        </li>
        
      
      <li>
        Hash
      </li>
    </ol>
  </nav>







<p>
  dynamic include:
  <a href="../class/-j-s-o-n=3a=3a-generator=3a=3a-generator-methods=3a=3a-hash.html">JSON::Generator::GeneratorMethods::Hash</a> (by <a href="../library/json.html">json</a>)
</p>





<h2>要約</h2>
<p>
ハッシュテーブル(連想配列とも呼ぶ)のクラスです。ハッシュは任意の種類のオブジェクト(キー)から任意の種類のオブジェクト(値)への関連づけを行うことができます。
</p>
<p>
ハッシュ生成は多くの場合以下のようなリテラル (<a href="../doc/spec=2fliteral.html#hash">リテラル/ハッシュ式</a>) で行われます。
</p>
<pre>
{a =&gt; b, ... }   # aはキー、bは値となる
{s: b , ... }    # { :s =&gt; b, ... } と同じ。キーがシンボルの場合の省略した書き方
{&quot;a+&quot;: b , ... } # { :&quot;a+&quot; =&gt; b, ... } と同じ。上の表現に空白や記号を含めたい場合
</pre>
<p>
キーには任意の種類のオブジェクトを用いることができますが、以下の２つのメソッドが適切に定義してある必要があります。
</p>
<ul>
<li><a href="../method/-object/i/hash.html">Object#hash</a> ハッシュの格納に用いられるハッシュ値の計算</li>
<li><a href="../method/-object/i/eql=3f.html">Object#eql?</a> キーの同一性判定</li>
</ul>
<p>
破壊的操作によってキーとして与えたオブジェクトの内容が変化し、<a href="../method/-object/i/hash.html">Object#hash</a> の返す値が変わるとハッシュから値が取り出せなくなりますから、
<a href="../class/-array.html">Array</a>、<a href="../class/-hash.html">Hash</a>
などのインスタンスはキーに向きません。<a href="../method/-hash/i/rehash.html">Hash#rehash</a> を参照。
</p>
<p>
ただし、 更新不可 (<a href="../method/-object/i/frozen=3f.html">Object#frozen?</a> が true) では無い文字列をキーとして与えた場合は、文字列をコピーし、コピーを更新不可に設定 (<a href="../method/-object/i/freeze.html">Object#freeze</a>) してキーとして使用します。この為、キーとして使われている文字列を更新しようとすると例外
<a href="../class/-frozen-error.html">FrozenError</a>
が発生するので rehash を呼ぶ必要性は生じません。
</p>
<p>
ハッシュにはデフォルト値を設定することができます。存在しないキーを探索したときに返す値で、未設定時は nil です。デフォルト値には値形式とブロック形式があります。実際にデフォルト値がどのように扱われるかは各メソッドの説明を参照してください。
</p>
<p>
ハッシュに含まれる要素の順序が保持されるようになりました。ハッシュにキーが追加された順序で列挙します。
</p>



<h2>目次</h2>
<dl>

<dt>特異メソッド</dt>
<dd>
<ul class="class-toc">

<li><a href="#S_--5B--5D">[]</a></li>

<li><a href="#S_NEW">new</a></li>

<li><a href="#S_TRY_CONVERT">try_convert</a></li>

</ul>
</dd>

<dt>インスタンスメソッド</dt>
<dd>
<ul class="class-toc">

<li><a href="#I_--3C">&lt;</a></li>

<li><a href="#I_--3C--3D">&lt;=</a></li>

<li><a href="#I_--3D--3D">==</a></li>

<li><a href="#I_--3D--3D">===</a></li>

<li><a href="#I_--3E">&gt;</a></li>

<li><a href="#I_--3E--3D">&gt;=</a></li>

<li><a href="#I_--5B--5D">[]</a></li>

<li><a href="#I_--5B--5D--3D">[]=</a></li>

<li><a href="#I_ASSOC">assoc</a></li>

<li><a href="#I_CLEAR">clear</a></li>

<li><a href="#I_CLONE">clone</a></li>

<li><a href="#I_COMPACT">compact</a></li>

<li><a href="#I_COMPACT">compact!</a></li>

<li><a href="#I_COMPARE_BY_IDENTITY">compare_by_identity</a></li>

<li><a href="#I_COMPARE_BY_IDENTITY--3F">compare_by_identity?</a></li>

<li><a href="#I_DEFAULT">default</a></li>

<li><a href="#I_DEFAULT--3D">default=</a></li>

<li><a href="#I_DEFAULT_PROC">default_proc</a></li>

<li><a href="#I_DEFAULT_PROC--3D">default_proc=</a></li>

<li><a href="#I_DELETE">delete</a></li>

<li><a href="#I_DELETE_IF">delete_if</a></li>

<li><a href="#I_DIG">dig</a></li>

<li><a href="#I_CLONE">dup</a></li>

<li><a href="#I_EACH">each</a></li>

<li><a href="#I_EACH_KEY">each_key</a></li>

<li><a href="#I_EACH">each_pair</a></li>

<li><a href="#I_EACH_VALUE">each_value</a></li>

<li><a href="#I_EMPTY--3F">empty?</a></li>

<li><a href="#I_--3D--3D">eql?</a></li>

<li><a href="#I_EQUAL--3F">equal?</a></li>

<li><a href="#I_FETCH">fetch</a></li>

<li><a href="#I_FETCH_VALUES">fetch_values</a></li>

<li><a href="#I_FLATTEN">flatten</a></li>

<li><a href="#I_HAS_KEY--3F">has_key?</a></li>

<li><a href="#I_HAS_VALUE--3F">has_value?</a></li>

<li><a href="#I_HASH">hash</a></li>

<li><a href="#I_HAS_KEY--3F">include?</a></li>

<li><a href="#I_INDEX">index</a></li>

<li><a href="#I_INSPECT">inspect</a></li>

<li><a href="#I_INVERT">invert</a></li>

<li><a href="#I_KEEP_IF">keep_if</a></li>

<li><a href="#I_INDEX">key</a></li>

<li><a href="#I_HAS_KEY--3F">key?</a></li>

<li><a href="#I_KEYS">keys</a></li>

<li><a href="#I_LENGTH">length</a></li>

<li><a href="#I_HAS_KEY--3F">member?</a></li>

<li><a href="#I_MERGE">merge</a></li>

<li><a href="#I_MERGE--21">merge!</a></li>

<li><a href="#I_RASSOC">rassoc</a></li>

<li><a href="#I_REHASH">rehash</a></li>

<li><a href="#I_REJECT">reject</a></li>

<li><a href="#I_DELETE_IF">reject!</a></li>

<li><a href="#I_REPLACE">replace</a></li>

<li><a href="#I_SELECT">select</a></li>

<li><a href="#I_KEEP_IF">select!</a></li>

<li><a href="#I_SHIFT">shift</a></li>

<li><a href="#I_LENGTH">size</a></li>

<li><a href="#I_SLICE">slice</a></li>

<li><a href="#I_--5B--5D--3D">store</a></li>

<li><a href="#I_TO_A">to_a</a></li>

<li><a href="#I_TO_H">to_h</a></li>

<li><a href="#I_TO_HASH">to_hash</a></li>

<li><a href="#I_TO_PROC">to_proc</a></li>

<li><a href="#I_INSPECT">to_s</a></li>

<li><a href="#I_TRANSFORM_KEYS">transform_keys</a></li>

<li><a href="#I_TRANSFORM_KEYS--21">transform_keys!</a></li>

<li><a href="#I_TRANSFORM_VALUES">transform_values</a></li>

<li><a href="#I_TRANSFORM_VALUES--21">transform_values!</a></li>

<li><a href="#I_MERGE--21">update</a></li>

<li><a href="#I_HAS_VALUE--3F">value?</a></li>

<li><a href="#I_VALUES">values</a></li>

<li><a href="#I_VALUES_AT">values_at</a></li>

</ul>
</dd>

</dl>




  <h2>継承しているメソッド</h2>
<dl>
  
<dt>Enumerableから継承しているメソッド</dt>
<dd>
  <ul class="class-toc">
    
      <li><a href="../method/-enumerable/i/all=3f.html">all?</a></li>
      
    
      <li><a href="../method/-enumerable/i/any=3f.html">any?</a></li>
      
    
      <li><a href="../method/-enumerable/i/chunk.html">chunk</a></li>
      
    
      <li><a href="../method/-enumerable/i/chunk_while.html">chunk_while</a></li>
      
    
      <li><a href="../method/-enumerable/i/collect.html">collect</a></li>
      
    
      <li><a href="../method/-enumerable/i/collect_concat.html">collect_concat</a></li>
      
    
      <li><a href="../method/-enumerable/i/count.html">count</a></li>
      
    
      <li><a href="../method/-enumerable/i/cycle.html">cycle</a></li>
      
    
      <li><a href="../method/-enumerable/i/detect.html">detect</a></li>
      
    
      <li><a href="../method/-enumerable/i/drop.html">drop</a></li>
      
    
      <li><a href="../method/-enumerable/i/drop_while.html">drop_while</a></li>
      
    
      <li><a href="../method/-enumerable/i/each_cons.html">each_cons</a></li>
      
    
      <li><a href="../method/-enumerable/i/each_entry.html">each_entry</a></li>
      
    
      <li><a href="../method/-enumerable/i/each_slice.html">each_slice</a></li>
      
    
      <li><a href="../method/-enumerable/i/each_with_index.html">each_with_index</a></li>
      
    
      <li><a href="../method/-enumerable/i/each_with_object.html">each_with_object</a></li>
      
    
      <li><a href="../method/-enumerable/i/entries.html">entries</a></li>
      
    
      <li><a href="../method/-enumerable/i/detect.html">find</a></li>
      
    
      <li><a href="../method/-enumerable/i/find_all.html">find_all</a></li>
      
    
      <li><a href="../method/-enumerable/i/find_index.html">find_index</a></li>
      
    
      <li><a href="../method/-enumerable/i/first.html">first</a></li>
      
    
      <li><a href="../method/-enumerable/i/collect_concat.html">flat_map</a></li>
      
    
      <li><a href="../method/-enumerable/i/grep.html">grep</a></li>
      
    
      <li><a href="../method/-enumerable/i/grep_v.html">grep_v</a></li>
      
    
      <li><a href="../method/-enumerable/i/group_by.html">group_by</a></li>
      
    
      <li><a href="../method/-enumerable/i/inject.html">inject</a></li>
      
    
      <li><a href="../method/-enumerable/i/lazy.html">lazy</a></li>
      
    
      <li><a href="../method/-enumerable/i/collect.html">map</a></li>
      
    
      <li><a href="../method/-enumerable/i/max.html">max</a></li>
      
    
      <li><a href="../method/-enumerable/i/max_by.html">max_by</a></li>
      
    
      <li><a href="../method/-enumerable/i/min.html">min</a></li>
      
    
      <li><a href="../method/-enumerable/i/min_by.html">min_by</a></li>
      
    
      <li><a href="../method/-enumerable/i/minmax.html">minmax</a></li>
      
    
      <li><a href="../method/-enumerable/i/minmax_by.html">minmax_by</a></li>
      
    
      <li><a href="../method/-enumerable/i/none=3f.html">none?</a></li>
      
    
      <li><a href="../method/-enumerable/i/one=3f.html">one?</a></li>
      
    
      <li><a href="../method/-enumerable/i/partition.html">partition</a></li>
      
    
      <li><a href="../method/-enumerable/i/inject.html">reduce</a></li>
      
    
      <li><a href="../method/-enumerable/i/reverse_each.html">reverse_each</a></li>
      
    
      <li><a href="../method/-enumerable/i/slice_after.html">slice_after</a></li>
      
    
      <li><a href="../method/-enumerable/i/slice_before.html">slice_before</a></li>
      
    
      <li><a href="../method/-enumerable/i/slice_when.html">slice_when</a></li>
      
    
      <li><a href="../method/-enumerable/i/sort.html">sort</a></li>
      
    
      <li><a href="../method/-enumerable/i/sort_by.html">sort_by</a></li>
      
    
      <li><a href="../method/-enumerable/i/sum.html">sum</a></li>
      
    
      <li><a href="../method/-enumerable/i/take.html">take</a></li>
      
    
      <li><a href="../method/-enumerable/i/take_while.html">take_while</a></li>
      
    
      <li><a href="../method/-enumerable/i/uniq.html">uniq</a></li>
      
    
      <li><a href="../method/-enumerable/i/zip.html">zip</a></li>
      
    
  </ul>
</dd>

</dl>


<h2>特異メソッド</h2>
<dl>

<dt class="method-heading" id="S_--5B--5D"><code>self[other] -&gt; Hash</code><span class="permalink">[<a href="../method/-hash/s/=5b=5d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-c-5B-5D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
新しいハッシュを生成します。引数otherと同一のキーと値を持つ新たなハッシュを生成して返します。
</p>
<p>
引数otherがハッシュではない場合、otherのメソッドto_hashを使って暗黙の変換を試みます。
</p>
<p>
デフォルト値はコピーしません。生成されたハッシュのデフォルト値は nil です。
</p>
<p>
引数otherと生成したハッシュは同じオブジェクトを参照することになるので、一方でキーや値に破壊的操作を行うともう片方にも影響します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
生成元となるハッシュまたはメソッド to_hash でハッシュに変換できるオブジェクトです。
</dd>
</dl>
<pre class="highlight ruby">
<code>
h <span class="o">=</span> <span class="p">{</span><span class="mi">1</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">value</span><span class="s2">"</span><span class="p">}</span>
h<span class="p">.</span><span class="nf">default</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">none</span><span class="s2">"</span>

g <span class="o">=</span> <span class="no">Hash</span><span class="p">[</span>h<span class="p">]</span>
<span class="nb">p</span> g <span class="c1">#=&gt; {1=&gt;&quot;value&quot;}
</span>
<span class="nb">p</span> h<span class="p">[</span><span class="ss">:no</span><span class="p">]</span> <span class="c1">#=&gt; &quot;none&quot;
</span><span class="nb">p</span> g<span class="p">[</span><span class="ss">:no</span><span class="p">]</span> <span class="c1">#=&gt; nil
</span>
h<span class="p">[</span><span class="ss">:add</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">some</span><span class="s2">"</span>
<span class="nb">p</span> h <span class="c1">#=&gt; {1=&gt;&quot;value&quot;, :add=&gt;&quot;some&quot;}
</span><span class="nb">p</span> g <span class="c1">#=&gt; {1=&gt;&quot;value&quot;}
</span>
h<span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s1">'plus'</span> <span class="c1">#破壊的操作
</span><span class="nb">p</span> h <span class="c1">#=&gt; {1=&gt;&quot;valueplus&quot;, :add=&gt;&quot;some&quot;}
</span><span class="nb">p</span> g <span class="c1">#=&gt; {1=&gt;&quot;valueplus&quot;}
</span></code></pre>
</dd>
<dt class="method-heading" id="S_--5B--5D"><code>self[*key_and_value] -&gt; Hash</code><span class="permalink">[<a href="../method/-hash/s/=5b=5d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-c-5B-5D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
新しいハッシュを生成します。引数は必ず偶数個指定しなければなりません。奇数番目がキー、偶数番目が値になります。
</p>
<p>
このメソッドでは生成するハッシュにデフォルト値を指定することはできません。
<a href="../method/-hash/s/new.html">Hash.new</a>を使うか、<a href="../method/-hash/i/default=3d.html">Hash#default=</a>で後から指定してください。
</p>
<dl>
<dt class='method-param'>[PARAM] key_and_value:</dt>
<dd>
生成するハッシュのキーと値の組です。必ず偶数個(0を含む)指定しなければいけません。
</dd>
<dt>[EXCEPTION] ArgumentError:</dt>
<dd>
奇数個の引数を与えたときに発生します。
</dd>
</dl>
<p>
以下は配列からハッシュを生成する方法の例です。
</p>
<p>
(1) [キー, 値, ...] の配列からハッシュへ
</p>
<pre class="highlight ruby">
<code>
ary <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>,<span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="mi">2</span>,<span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="mi">3</span>,<span class="p">[</span><span class="s2">"</span><span class="s2">c</span><span class="s2">"</span><span class="p">]</span><span class="p">]</span>
<span class="nb">p</span> <span class="no">Hash</span><span class="p">[</span><span class="o">*</span>ary<span class="p">]</span>  <span class="c1"># =&gt; {1=&gt;&quot;a&quot;, 2=&gt;&quot;b&quot;, 3=&gt;[&quot;c&quot;]}
</span></code></pre>
<p>
(2) キーと値のペアの配列からハッシュへ
</p>
<pre class="highlight ruby">
<code>
alist <span class="o">=</span> <span class="p">[</span><span class="p">[</span><span class="mi">1</span>,<span class="s2">"</span><span class="s2">a</span><span class="s2">"</span><span class="p">]</span>, <span class="p">[</span><span class="mi">2</span>,<span class="s2">"</span><span class="s2">b</span><span class="s2">"</span><span class="p">]</span>, <span class="p">[</span><span class="mi">3</span>,<span class="p">[</span><span class="s2">"</span><span class="s2">c</span><span class="s2">"</span><span class="p">]</span><span class="p">]</span><span class="p">]</span>
<span class="nb">p</span> alist<span class="p">.</span><span class="nf">flatten</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># =&gt; [1, &quot;a&quot;, 2, &quot;b&quot;, 3, [&quot;c&quot;]]
</span><span class="nb">p</span> <span class="no">Hash</span><span class="p">[</span><span class="o">*</span>alist<span class="p">.</span><span class="nf">flatten</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="p">]</span>  <span class="c1"># =&gt; {1=&gt;&quot;a&quot;, 2=&gt;&quot;b&quot;, 3=&gt;[&quot;c&quot;]}
</span></code></pre>
<p>
(3) キーと値の配列のペアからハッシュへ
</p>
<pre class="highlight ruby">
<code>
keys <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span>
vals <span class="o">=</span> <span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="p">[</span><span class="s2">"</span><span class="s2">c</span><span class="s2">"</span><span class="p">]</span><span class="p">]</span>
alist <span class="o">=</span> keys<span class="p">.</span><span class="nf">zip</span><span class="p">(</span>vals<span class="p">)</span>     <span class="c1"># あるいは alist = [keys,vals].transpose
</span><span class="nb">p</span> alist <span class="c1"># =&gt; [[1, &quot;a&quot;], [2, &quot;b&quot;], [3, [&quot;c&quot;]]]
</span><span class="nb">p</span> <span class="no">Hash</span><span class="p">[</span>alist<span class="p">]</span>  <span class="c1"># =&gt; {1=&gt;&quot;a&quot;, 2=&gt;&quot;b&quot;, 3=&gt;[&quot;c&quot;]}
</span></code></pre>
<p>
(4) キーや値が配列の場合
</p>
<pre class="highlight ruby">
<code>
alist <span class="o">=</span> <span class="p">[</span><span class="p">[</span><span class="mi">1</span>,<span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span><span class="p">]</span><span class="p">]</span>, <span class="p">[</span><span class="mi">2</span>,<span class="p">[</span><span class="s2">"</span><span class="s2">b</span><span class="s2">"</span><span class="p">]</span><span class="p">]</span>, <span class="p">[</span><span class="mi">3</span>,<span class="p">[</span><span class="s2">"</span><span class="s2">c</span><span class="s2">"</span><span class="p">]</span><span class="p">]</span>, <span class="p">[</span><span class="p">[</span><span class="mi">4</span>,<span class="mi">5</span><span class="p">]</span>, <span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span><span class="p">]</span><span class="p">]</span><span class="p">]</span>
<span class="nb">hash</span> <span class="o">=</span> <span class="no">Hash</span><span class="p">[</span>alist<span class="p">]</span> <span class="c1"># =&gt; {1=&gt;[&quot;a&quot;], 2=&gt;[&quot;b&quot;], 3=&gt;[&quot;c&quot;], [4, 5]=&gt;[&quot;a&quot;, &quot;b&quot;]}
</span></code></pre>
</dd>


<dt class="method-heading" id="S_NEW"><code>new(ifnone = nil) -&gt; Hash</code><span class="permalink">[<a href="../method/-hash/s/new.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-c-new">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
空の新しいハッシュを生成します。ifnone はキーに対応する値が存在しない時のデフォルト値です。設定したデフォルト値は<a href="../method/-hash/i/default.html">Hash#default</a>で参照できます。
</p>
<p>
ifnoneを省略した Hash.new は {} と同じです。
</p>
<p>
デフォルト値として、毎回同一のオブジェクトifnoneを返します。それにより、一箇所のデフォルト値の変更が他の値のデフォルト値にも影響します。
</p>
<pre class="highlight ruby">
<code>
h <span class="o">=</span> <span class="no">Hash</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="p">[</span><span class="p">]</span><span class="p">)</span>
h<span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span>
h<span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span>
<span class="nb">p</span> h<span class="p">.</span><span class="nf">default</span> <span class="c1">#=&gt; [0, 1]
</span></code></pre>
<p>
これを避けるには、破壊的でないメソッドで再代入する必要が有ります。また、このようなミスを防ぐためにもifnoneは freeze して破壊的操作を禁止しておくのが無難です。
</p>
<dl>
<dt class='method-param'>[PARAM] ifnone:</dt>
<dd>
キーに対応する値が存在しない時のデフォルト値です。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="no">Hash</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="p">[</span><span class="p">]</span><span class="p">)</span>

<span class="nb">p</span> h<span class="p">[</span><span class="mi">1</span><span class="p">]</span>                  <span class="c1">#=&gt; []
</span><span class="nb">p</span> h<span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="p">.</span><span class="nf">object_id</span>        <span class="c1">#=&gt; 6127150
</span><span class="nb">p</span> h<span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s2">"</span><span class="s2">bar</span><span class="s2">"</span>         <span class="c1">#=&gt; [&quot;bar&quot;]
</span><span class="nb">p</span> h<span class="p">[</span><span class="mi">1</span><span class="p">]</span>                  <span class="c1">#=&gt; [&quot;bar&quot;]
</span>
<span class="nb">p</span> h<span class="p">[</span><span class="mi">2</span><span class="p">]</span>                  <span class="c1">#=&gt; [&quot;bar&quot;]
</span><span class="nb">p</span> h<span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="p">.</span><span class="nf">object_id</span>        <span class="c1">#=&gt; 6127150
</span>
<span class="nb">p</span> h                     <span class="c1">#=&gt; {}
</span>

h <span class="o">=</span> <span class="no">Hash</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">freeze</span><span class="p">)</span>
h<span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1">#破壊的でないメソッドはOK
</span>h<span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span>
<span class="c1"># エラー: can't modify frozen Array (FrozenError)
</span></code></pre>
</dd>
<dt class="method-heading" id="S_NEW"><code>new {|hash, key| ... } -&gt; Hash</code><span class="permalink">[<a href="../method/-hash/s/new.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-c-new">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
空の新しいハッシュを生成します。ブロックの評価結果がデフォルト値になります。設定したデフォルト値は<a href="../method/-hash/i/default_proc.html">Hash#default_proc</a>で参照できます。
</p>
<p>
値が設定されていないハッシュ要素を参照するとその都度ブロックを実行し、その結果を返します。ブロックにはそのハッシュとハッシュを参照したときのキーが渡されます。
</p>
<dl>
<dt>[EXCEPTION] ArgumentError:</dt>
<dd>
ブロックと通常引数を同時に与えると発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="c1"># ブロックではないデフォルト値は全部同一のオブジェクトなので、
</span><span class="c1"># 破壊的変更によって他のキーに対応する値も変更されます。
</span>h <span class="o">=</span> <span class="no">Hash</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span><span class="p">)</span>

<span class="nb">p</span> h<span class="p">[</span><span class="mi">1</span><span class="p">]</span>                  <span class="c1">#=&gt; &quot;foo&quot;
</span><span class="nb">p</span> h<span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="p">.</span><span class="nf">object_id</span>        <span class="c1">#=&gt; 6127170
</span><span class="nb">p</span> h<span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s2">"</span><span class="s2">bar</span><span class="s2">"</span>         <span class="c1">#=&gt; &quot;foobar&quot;
</span><span class="nb">p</span> h<span class="p">[</span><span class="mi">1</span><span class="p">]</span>                  <span class="c1">#=&gt; &quot;foobar&quot;
</span>
<span class="nb">p</span> h<span class="p">[</span><span class="mi">2</span><span class="p">]</span>                  <span class="c1">#=&gt; &quot;foobar&quot;
</span><span class="nb">p</span> h<span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="p">.</span><span class="nf">object_id</span>        <span class="c1">#=&gt; 6127170
</span>
<span class="nb">p</span> h                     <span class="c1">#=&gt; {}
</span>
<span class="c1"># ブロックを与えると、対応する値がまだ無いキーが呼び出される度に
</span><span class="c1"># ブロックを評価するので、全て別のオブジェクトになります。
</span>h <span class="o">=</span> <span class="no">Hash</span><span class="p">.</span><span class="nf">new</span> <span class="p">{</span><span class="o">|</span><span class="nb">hash</span>, key<span class="o">|</span> <span class="nb">hash</span><span class="p">[</span>key<span class="p">]</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span><span class="p">}</span>

<span class="nb">p</span> h<span class="p">[</span><span class="mi">1</span><span class="p">]</span>                  <span class="c1">#=&gt; &quot;foo&quot;
</span><span class="nb">p</span> h<span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="p">.</span><span class="nf">object_id</span>        <span class="c1">#=&gt; 6126900
</span><span class="nb">p</span> h<span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s2">"</span><span class="s2">bar</span><span class="s2">"</span>         <span class="c1">#=&gt; &quot;foobar&quot;
</span><span class="nb">p</span> h<span class="p">[</span><span class="mi">1</span><span class="p">]</span>                  <span class="c1">#=&gt; &quot;foobar&quot;
</span>
<span class="nb">p</span> h<span class="p">[</span><span class="mi">2</span><span class="p">]</span>                  <span class="c1">#=&gt; &quot;foo&quot;
</span><span class="nb">p</span> h<span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="p">.</span><span class="nf">object_id</span>        <span class="c1">#=&gt; 6126840
</span>
<span class="nb">p</span> h                     <span class="c1">#=&gt; {1=&gt;&quot;foobar&quot;, 2=&gt;&quot;foo&quot;}
</span>
<span class="c1"># 値が設定されていないときに(fetchのように)例外をあげるようにもできる
</span>h <span class="o">=</span> <span class="no">Hash</span><span class="p">.</span><span class="nf">new</span> <span class="p">{</span><span class="o">|</span><span class="nb">hash</span>, key<span class="o">|</span>
                <span class="nb">raise</span><span class="p">(</span><span class="no">IndexError</span>, <span class="s2">"</span><span class="s2">hash[</span><span class="si">#{</span><span class="n">key</span><span class="si">}</span><span class="s2">] has no value</span><span class="s2">"</span><span class="p">)</span>
             <span class="p">}</span>
h<span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="c1"># エラー hash[1] has no value (IndexError)
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/default=3d.html">Hash#default=</a>,<a href="../method/-hash/i/default.html">Hash#default</a>,<a href="../method/-hash/i/default_proc.html">Hash#default_proc</a>
</p>
</dd>


<dt class="method-heading" id="S_TRY_CONVERT"><code>try_convert(obj) -&gt; Hash | nil</code><span class="permalink">[<a href="../method/-hash/s/try_convert.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-c-try_convert">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
to_hash メソッドを用いて obj をハッシュに変換しようとします。
</p>
<p>
何らかの理由で変換できないときには nil を返します。このメソッドは引数がハッシュであるかどうかを調べるために使えます。
</p>
<pre class="highlight ruby">
<code>
<span class="no">Hash</span><span class="p">.</span><span class="nf">try_convert</span><span class="p">(</span><span class="p">{</span><span class="mi">1</span><span class="o">=&gt;</span><span class="mi">2</span><span class="p">}</span><span class="p">)</span>   <span class="c1"># =&gt; {1=&gt;2}
</span><span class="no">Hash</span><span class="p">.</span><span class="nf">try_convert</span><span class="p">(</span><span class="s2">"</span><span class="s2">1=&gt;2</span><span class="s2">"</span><span class="p">)</span>   <span class="c1"># =&gt; nil
</span></code></pre>
</dd>


</dl>

<h2>インスタンスメソッド</h2>
<dl>

<dt class="method-heading" id="I_--3C"><code>self &lt; other -&gt; bool</code><span class="permalink">[<a href="../method/-hash/i/=3c.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-3C">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self が other のサブセットである場合に真を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身と比較したい Hash オブジェクトを指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h1 <span class="o">=</span> <span class="p">{</span><span class="ss">a:</span><span class="mi">1</span>, <span class="ss">b:</span><span class="mi">2</span><span class="p">}</span>
h2 <span class="o">=</span> <span class="p">{</span><span class="ss">a:</span><span class="mi">1</span>, <span class="ss">b:</span><span class="mi">2</span>, <span class="ss">c:</span><span class="mi">3</span><span class="p">}</span>
h1 <span class="o">&lt;</span> h2    <span class="c1"># =&gt; true
</span>h2 <span class="o">&lt;</span> h1    <span class="c1"># =&gt; false
</span>h1 <span class="o">&lt;</span> h1    <span class="c1"># =&gt; false
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/=3c=3d.html">Hash#&lt;=</a>, <a href="../method/-hash/i/=3e=3d.html">Hash#&gt;=</a>, <a href="../method/-hash/i/=3e.html">Hash#&gt;</a>
</p>
</dd>


<dt class="method-heading" id="I_--3C--3D"><code>self &lt;= other -&gt; bool</code><span class="permalink">[<a href="../method/-hash/i/=3c=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-3C-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self が other のサブセットか同じである場合に真を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身と比較したい Hash オブジェクトを指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h1 <span class="o">=</span> <span class="p">{</span><span class="ss">a:</span><span class="mi">1</span>, <span class="ss">b:</span><span class="mi">2</span><span class="p">}</span>
h2 <span class="o">=</span> <span class="p">{</span><span class="ss">a:</span><span class="mi">1</span>, <span class="ss">b:</span><span class="mi">2</span>, <span class="ss">c:</span><span class="mi">3</span><span class="p">}</span>
h1 <span class="o">&lt;=</span> h2   <span class="c1"># =&gt; true
</span>h2 <span class="o">&lt;=</span> h1   <span class="c1"># =&gt; false
</span>h1 <span class="o">&lt;=</span> h1   <span class="c1"># =&gt; true
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/=3c.html">Hash#&lt;</a>, <a href="../method/-hash/i/=3e=3d.html">Hash#&gt;=</a>, <a href="../method/-hash/i/=3e.html">Hash#&gt;</a>
</p>
</dd>


<dt class="method-heading" id="I_--3D--3D"><code>self == other -&gt; bool</code><span class="permalink">[<a href="../method/-hash/i/=3d=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-3D-3D">rdoc</a>]</span></dt>
<dt class="method-heading"><code>self === other -&gt; bool</code></dt>
<dt class="method-heading"><code>eql?(other) -&gt; bool</code></dt>
<dd class="method-description">
<p>
自身と other が同じ数のキーを保持し、キーが eql? メソッドで比較して全て等しく、値が == メソッドで比較して全て等しい場合に真を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身と比較したい Hash オブジェクトを指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="c1">#(出力関数は省略)
</span><span class="p">{</span> <span class="mi">1</span> <span class="o">=&gt;</span> <span class="ss">:a</span> <span class="p">}</span> <span class="o">==</span> <span class="p">{</span> <span class="mi">1</span> <span class="o">=&gt;</span> <span class="ss">:a</span> <span class="p">}</span>               <span class="c1">#=&gt; true
</span><span class="p">{</span> <span class="mi">1</span> <span class="o">=&gt;</span> <span class="ss">:a</span> <span class="p">}</span> <span class="o">==</span> <span class="p">{</span> <span class="mi">1</span> <span class="o">=&gt;</span> <span class="ss">:a</span>, <span class="mi">2</span> <span class="o">=&gt;</span> <span class="ss">:b</span> <span class="p">}</span>      <span class="c1">#=&gt; false
</span><span class="p">{</span> <span class="mi">1</span> <span class="o">=&gt;</span> <span class="ss">:a</span> <span class="p">}</span> <span class="o">==</span> <span class="p">{</span> <span class="mf">1.0</span> <span class="o">=&gt;</span> <span class="ss">:a</span> <span class="p">}</span>             <span class="c1">#=&gt; false  ( 1.eql?(1.0) は false なので)
</span>
<span class="p">{</span> <span class="ss">:x</span> <span class="o">=&gt;</span> <span class="mi">1</span> <span class="p">}</span> <span class="o">==</span> <span class="p">{</span> <span class="ss">:x</span> <span class="o">=&gt;</span> <span class="mf">1.0</span> <span class="p">}</span>             <span class="c1">#=&gt; true   ( 1 == 1.0 は true なので)
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/equal=3f.html">Hash#equal?</a>
</p>
</dd>


<dt class="method-heading" id="I_--3E"><code>self &gt; other -&gt; bool</code><span class="permalink">[<a href="../method/-hash/i/=3e.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-3E">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
other が self のサブセットである場合に真を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身と比較したい Hash オブジェクトを指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h1 <span class="o">=</span> <span class="p">{</span><span class="ss">a:</span><span class="mi">1</span>, <span class="ss">b:</span><span class="mi">2</span><span class="p">}</span>
h2 <span class="o">=</span> <span class="p">{</span><span class="ss">a:</span><span class="mi">1</span>, <span class="ss">b:</span><span class="mi">2</span>, <span class="ss">c:</span><span class="mi">3</span><span class="p">}</span>
h1 <span class="o">&gt;</span> h2    <span class="c1"># =&gt; false
</span>h2 <span class="o">&gt;</span> h1    <span class="c1"># =&gt; true
</span>h1 <span class="o">&gt;</span> h1    <span class="c1"># =&gt; false
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/=3c=3d.html">Hash#&lt;=</a>, <a href="../method/-hash/i/=3c.html">Hash#&lt;</a>, <a href="../method/-hash/i/=3e=3d.html">Hash#&gt;=</a>
</p>
</dd>


<dt class="method-heading" id="I_--3E--3D"><code>self &gt;= other -&gt; bool</code><span class="permalink">[<a href="../method/-hash/i/=3e=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-3E-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
other が self のサブセットか同じである場合に真を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身と比較したい Hash オブジェクトを指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h1 <span class="o">=</span> <span class="p">{</span><span class="ss">a:</span><span class="mi">1</span>, <span class="ss">b:</span><span class="mi">2</span><span class="p">}</span>
h2 <span class="o">=</span> <span class="p">{</span><span class="ss">a:</span><span class="mi">1</span>, <span class="ss">b:</span><span class="mi">2</span>, <span class="ss">c:</span><span class="mi">3</span><span class="p">}</span>
h1 <span class="o">&gt;=</span> h2   <span class="c1"># =&gt; false
</span>h2 <span class="o">&gt;=</span> h1   <span class="c1"># =&gt; true
</span>h1 <span class="o">&gt;=</span> h1   <span class="c1"># =&gt; true
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/=3c=3d.html">Hash#&lt;=</a>, <a href="../method/-hash/i/=3c.html">Hash#&lt;</a>, <a href="../method/-hash/i/=3e.html">Hash#&gt;</a>
</p>
</dd>


<dt class="method-heading" id="I_--5B--5D"><code>self[key] -&gt; object | nil</code><span class="permalink">[<a href="../method/-hash/i/=5b=5d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-5B-5D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
key に関連づけられた値を返します。
</p>
<p>
該当するキーが登録されていない時には、デフォルト値を返します。
</p>
<p>
デフォルト値と値としての nil を区別する必要がある場合は <a href="../method/-hash/i/fetch.html">Hash#fetch</a> または <a href="../method/-hash/i/key=3f.html">Hash#key?</a> を使ってください。
</p>
<dl>
<dt class='method-param'>[PARAM] key:</dt>
<dd>
探索するキーを指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="p">{</span><span class="ss">:ab</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">some</span><span class="s2">"</span> , <span class="ss">:cd</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">all</span><span class="s2">"</span><span class="p">}</span>
<span class="nb">p</span> h<span class="p">[</span><span class="ss">:ab</span><span class="p">]</span>             <span class="c1">#=&gt; &quot;some&quot;
</span><span class="nb">p</span> h<span class="p">[</span><span class="ss">:ef</span><span class="p">]</span>             <span class="c1">#=&gt; nil
</span>
h1 <span class="o">=</span> <span class="no">Hash</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"</span><span class="s2">default value</span><span class="s2">"</span><span class="p">)</span>
<span class="nb">p</span> h1<span class="p">[</span><span class="ss">:non</span><span class="p">]</span>             <span class="c1">#=&gt; &quot;default value&quot;
</span>
h2 <span class="o">=</span> <span class="no">Hash</span><span class="p">.</span><span class="nf">new</span> <span class="p">{</span><span class="o">|</span><span class="o">*</span>arg<span class="o">|</span> arg<span class="p">}</span>
<span class="nb">p</span> h2<span class="p">[</span><span class="ss">:non</span><span class="p">]</span>             <span class="c1">#=&gt; [{}, :non]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/s/new.html">Hash.new</a>, <a href="../method/-hash/i/fetch.html">Hash#fetch</a>,<a href="../method/-hash/i/values_at.html">Hash#values_at</a>,<a href="../method/-hash/i/key=3f.html">Hash#key?</a>, <a href="../method/-hash/i/default.html">Hash#default</a>, <a href="../method/-hash/i/default_proc.html">Hash#default_proc</a>
</p>
</dd>


<dt class="method-heading" id="I_--5B--5D--3D"><code>self[key] = value</code><span class="permalink">[<a href="../method/-hash/i/=5b=5d=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-5B-5D-3D">rdoc</a>]</span></dt>
<dt class="method-heading"><code>store(key, value) -&gt; object</code></dt>
<dd class="method-description">
<p>
key に対して value を関連づけます。value を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] key:</dt>
<dd>
キーを指定します。
</dd>
<dt class='method-param'>[PARAM] value:</dt>
<dd>
値を指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="p">{</span><span class="p">}</span>

h<span class="p">[</span><span class="ss">:key</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">value</span><span class="s2">"</span>
<span class="nb">p</span> h <span class="c1">#=&gt;{:key =&gt; &quot;value&quot;}
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/=5b=5d.html">Hash#[]</a>
</p>
</dd>


<dt class="method-heading" id="I_ASSOC"><code>assoc(key) -&gt; Array | nil</code><span class="permalink">[<a href="../method/-hash/i/assoc.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-assoc">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
ハッシュが key をキーとして持つとき、見つかった要素のキーと値のペアを配列として返します。
</p>
<p>
キーの同一性判定には eql? メソッドではなく == メソッドを使います。
key が見つからなかった場合は、nil を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] key:</dt>
<dd>
検索するキー
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="p">{</span><span class="s2">"</span><span class="s2">colors</span><span class="s2">"</span>  <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"</span><span class="s2">red</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">blue</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">green</span><span class="s2">"</span><span class="p">]</span>,
     <span class="s2">"</span><span class="s2">letters</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span> <span class="p">]</span><span class="p">}</span>
h<span class="p">.</span><span class="nf">assoc</span><span class="p">(</span><span class="s2">"</span><span class="s2">letters</span><span class="s2">"</span><span class="p">)</span>  <span class="c1">#=&gt; [&quot;letters&quot;, [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]]
</span>h<span class="p">.</span><span class="nf">assoc</span><span class="p">(</span><span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span><span class="p">)</span>      <span class="c1">#=&gt; nil
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/assoc.html">Array#assoc</a>
</p>
</dd>


<dt class="method-heading" id="I_CLEAR"><code>clear -&gt; self</code><span class="permalink">[<a href="../method/-hash/i/clear.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-clear">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
ハッシュの中身を空にします。
</p>
<p>
空にした後のselfを返します。デフォルト値の設定はクリアされません。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="no">Hash</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"</span><span class="s2">default value</span><span class="s2">"</span><span class="p">)</span>
h<span class="p">[</span><span class="ss">:some</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">some</span><span class="s2">"</span>
<span class="nb">p</span> h <span class="c1">#=&gt; {:some=&gt;&quot;some&quot;}
</span>
h<span class="p">.</span><span class="nf">clear</span>

<span class="nb">p</span> h <span class="c1">#=&gt; {}
</span><span class="nb">p</span> h<span class="p">.</span><span class="nf">default</span> <span class="c1">#=&gt; &quot;default value&quot;
</span></code></pre>
</dd>


<dt class="method-heading" id="I_CLONE"><code>clone -&gt; Hash</code><span class="permalink">[<a href="../method/-hash/i/clone.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-clone">rdoc</a>]</span></dt>
<dt class="method-heading"><code>dup -&gt; Hash</code></dt>
<dd class="method-description">
<p>
selfと同じ内容を持つ新しいハッシュを返します。
</p>
<p>
clone は frozen singleton-class の情報も含めてコピーしますが、
dup は内容と tainted だけをコピーします。またどちらのメソッドも要素それ自体のコピーはしません。つまり参照しているオブジェクトが変わらない「浅い(shallow)」コピーを行います。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h1 <span class="o">=</span> <span class="p">{</span><span class="s2">"</span><span class="s2">have</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">have a</span><span class="s2">"</span>,<span class="s2">"</span><span class="s2">as</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">as a</span><span class="s2">"</span> <span class="p">}</span>
h2 <span class="o">=</span> h1<span class="p">.</span><span class="nf">dup</span>

h2<span class="p">[</span><span class="s2">"</span><span class="s2">have</span><span class="s2">"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">has</span><span class="s2">"</span>
<span class="nb">p</span> h2 <span class="c1">#=&gt; {&quot;have&quot;=&gt;&quot;has&quot;, &quot;as&quot;=&gt;&quot;as a&quot;}
</span><span class="nb">p</span> h1 <span class="c1">#=&gt; {&quot;have&quot;=&gt;&quot;have a&quot;, &quot;as&quot;=&gt;&quot;as a&quot;}
</span>
h2<span class="p">[</span><span class="s2">"</span><span class="s2">as</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">upcase!</span>
<span class="nb">p</span> h2 <span class="c1">#=&gt; {&quot;have&quot;=&gt;&quot;has&quot;, &quot;as&quot;=&gt;&quot;AS A&quot;}
</span><span class="nb">p</span> h1 <span class="c1">#=&gt; {&quot;have&quot;=&gt;&quot;have a&quot;, &quot;as&quot;=&gt;&quot;AS A&quot;}
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/clone.html">Object#clone</a>
</p>
</dd>


<dt class="method-heading" id="I_COMPACT"><code>compact -&gt; Hash</code><span class="permalink">[<a href="../method/-hash/i/compact.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-compact">rdoc</a>]</span></dt>
<dt class="method-heading"><code>compact! -&gt; self | nil</code></dt>
<dd class="method-description">
<p>
compact は自身から value が nil のもの取り除いた Hash を生成して返します。 compact! は自身から破壊的に value が nil のものを取り除き、変更が行われた場合は self を、そうでなければ nil を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">hash</span> <span class="o">=</span> <span class="p">{</span><span class="ss">a:</span> <span class="mi">1</span>, <span class="ss">b:</span> <span class="k">nil</span>, <span class="ss">c:</span> <span class="mi">3</span><span class="p">}</span>
<span class="nb">p</span> <span class="nb">hash</span><span class="p">.</span><span class="nf">compact</span>  <span class="c1">#=&gt; {:a=&gt;1, :c=&gt;3}
</span><span class="nb">p</span> <span class="nb">hash</span>          <span class="c1">#=&gt; {:a=&gt;1, :b=&gt;nil, :c=&gt;3}
</span><span class="nb">hash</span><span class="p">.</span><span class="nf">compact!</span>
<span class="nb">hash</span>            <span class="c1">#=&gt; {:a=&gt;1, :c=&gt;3}
</span><span class="nb">p</span> <span class="nb">hash</span><span class="p">.</span><span class="nf">compact!</span> <span class="c1">#=&gt;  nil
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/compact.html">Array#compact</a>
</p>
</dd>


<dt class="method-heading" id="I_COMPARE_BY_IDENTITY"><code>compare_by_identity -&gt; self</code><span class="permalink">[<a href="../method/-hash/i/compare_by_identity.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-compare_by_identity">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
ハッシュのキーの一致判定をオブジェクトの同一性で判定するように変更します。
</p>
<p>
デフォルトでは、キーのオブジェクトによっては内容が同じならキーが一致しているとみなされますが、より厳密に
<a href="../method/-object/i/object_id.html">Object#object_id</a>が一致しているかどうかを条件とするようにselfを変更します。
</p>
<p>
selfが変化する破壊的メソッドです。
</p>
<dl>
<dt>[RETURN]</dt>
<dd>
selfを返します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h1 <span class="o">=</span> <span class="p">{</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">100</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">200</span>, <span class="ss">:c</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span> <span class="p">}</span>
<span class="nb">p</span> h1<span class="p">.</span><span class="nf">compare_by_identity?</span> <span class="c1">#=&gt; false
</span><span class="nb">p</span> h1<span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span><span class="p">]</span>        <span class="c1">#=&gt; 100
</span>
h1<span class="p">.</span><span class="nf">compare_by_identity</span>

<span class="nb">p</span> h1<span class="p">.</span><span class="nf">compare_by_identity?</span> <span class="c1">#=&gt; true
</span><span class="nb">p</span> h1<span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span><span class="p">]</span>        <span class="c1">#=&gt; nil  # この&quot;a&quot;と最初の&quot;a&quot;とは違うオブジェクト
</span><span class="nb">p</span> h1<span class="p">[</span><span class="ss">:c</span><span class="p">]</span>         <span class="c1">#=&gt; &quot;c&quot;  # 同じ内容のシンボルはすべて同一
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/compare_by_identity=3f.html">Hash#compare_by_identity?</a>
</p>
</dd>


<dt class="method-heading" id="I_COMPARE_BY_IDENTITY--3F"><code>compare_by_identity? -&gt; bool</code><span class="permalink">[<a href="../method/-hash/i/compare_by_identity=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-compare_by_identity-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
ハッシュがキーの一致判定をオブジェクトの同一性を用いて行っているならば真を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h1 <span class="o">=</span> <span class="p">{</span><span class="p">}</span>
<span class="nb">p</span> h1<span class="p">.</span><span class="nf">compare_by_identity?</span> <span class="c1">#=&gt; false
</span>
h1<span class="p">.</span><span class="nf">compare_by_identity</span>

<span class="nb">p</span> h1<span class="p">.</span><span class="nf">compare_by_identity?</span> <span class="c1">#=&gt; true
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/compare_by_identity.html">Hash#compare_by_identity</a>
</p>
</dd>


<dt class="method-heading" id="I_DEFAULT"><code>default -&gt; object | nil</code><span class="permalink">[<a href="../method/-hash/i/default.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-default">rdoc</a>]</span></dt>
<dt class="method-heading"><code>default(key) -&gt; object | nil</code></dt>
<dd class="method-description">
<p>
ハッシュのデフォルト値を返します。
</p>
<p>
ハッシュのデフォルト値がブロックで与えられている場合、 1 番目の形式だと返り値が nil になることに注意してください。この場合、ハッシュのデフォルト値について調べるには 2 番目の形式か <a href="../method/-hash/i/default_proc.html">Hash#default_proc</a> を使ってください。
</p>
<p>
2 番目の形式はハッシュがデフォルト値としてブロックを持つ場合に、
self と引数 key をブロックに渡して評価し、その結果を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] key:</dt>
<dd>
デフォルトのブロックにキーとして渡されます。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="no">Hash</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"</span><span class="s2">default</span><span class="s2">"</span><span class="p">)</span>
<span class="nb">p</span> h<span class="p">.</span><span class="nf">default</span>        <span class="c1">#=&gt; &quot;default&quot;
</span><span class="nb">p</span> h<span class="p">.</span><span class="nf">default</span><span class="p">(</span><span class="ss">:some</span><span class="p">)</span> <span class="c1">#=&gt; &quot;default&quot;
</span><span class="nb">p</span> h <span class="c1">#=&gt;{}
</span>
h <span class="o">=</span> <span class="no">Hash</span><span class="p">.</span><span class="nf">new</span><span class="p">{</span><span class="o">|</span><span class="nb">hash</span>, key<span class="o">|</span> <span class="nb">hash</span><span class="p">[</span>key<span class="p">]</span> <span class="o">=</span><span class="s2">"</span><span class="s2">default</span><span class="s2">"</span> <span class="p">}</span>
<span class="nb">p</span> h<span class="p">.</span><span class="nf">default</span>        <span class="c1">#=&gt; nil
</span><span class="nb">p</span> h<span class="p">.</span><span class="nf">default</span><span class="p">(</span><span class="ss">:some</span><span class="p">)</span> <span class="c1">#=&gt; &quot;default&quot;
</span><span class="nb">p</span> h                <span class="c1">#=&gt; {:some=&gt;&quot;default&quot;}
</span>
h <span class="o">=</span> <span class="no">Hash</span><span class="p">.</span><span class="nf">new</span>
<span class="nb">p</span> h<span class="p">.</span><span class="nf">default</span>        <span class="c1">#=&gt; nil
</span><span class="nb">p</span> h<span class="p">.</span><span class="nf">default</span><span class="p">(</span><span class="ss">:some</span><span class="p">)</span> <span class="c1">#=&gt; nil
</span><span class="nb">p</span> h                <span class="c1">#=&gt; {}
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/default=3d.html">Hash#default=</a>, <a href="../method/-hash/i/default_proc.html">Hash#default_proc</a>
</p>
</dd>


<dt class="method-heading" id="I_DEFAULT--3D"><code>default=(value)</code><span class="permalink">[<a href="../method/-hash/i/default=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-default-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
ハッシュのデフォルト値を value に変更します。対応する値が存在しないキーで検索した時にはこの値を返すようになります。
</p>
<p>
デフォルト値（ブロックを含む）が既に設定してあった場合も value で上書きします。
</p>
<dl>
<dt class='method-param'>[PARAM] value:</dt>
<dd>
設定するデフォルト値です。
</dd>
<dt>[RETURN]</dt>
<dd>
value を返します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="p">{</span><span class="p">}</span>
<span class="nb">p</span> h<span class="p">.</span><span class="nf">default</span> <span class="c1">#=&gt;nil
</span>
h<span class="p">.</span><span class="nf">default</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">default</span><span class="s2">"</span>
<span class="nb">p</span> h<span class="p">.</span><span class="nf">default</span> <span class="c1">#=&gt;&quot;default&quot;
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/default.html">Hash#default</a>
</p>
</dd>


<dt class="method-heading" id="I_DEFAULT_PROC"><code>default_proc -&gt; Proc | nil</code><span class="permalink">[<a href="../method/-hash/i/default_proc.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-default_proc">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
ハッシュのデフォルト値を返す <a href="../class/-proc.html">Proc</a> オブジェクトを返します。ハッシュがブロック形式のデフォルト値を持たない場合 nil を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="no">Hash</span><span class="p">.</span><span class="nf">new</span> <span class="p">{</span><span class="o">|</span><span class="nb">hash</span>, key<span class="o">|</span> <span class="s2">"</span><span class="s2">The </span><span class="si">#{</span><span class="n">key</span><span class="si">}</span><span class="s2"> not exist in </span><span class="si">#{</span><span class="n">hash</span><span class="p">.</span><span class="nf">inspect</span><span class="si">}</span><span class="s2">"</span><span class="p">}</span>
<span class="nb">p</span> h<span class="p">.</span><span class="nf">default</span>              <span class="c1">#=&gt; nil
</span><span class="nb">p</span> block <span class="o">=</span> h<span class="p">.</span><span class="nf">default_proc</span> <span class="c1">#=&gt; #&lt;Proc:0x0x401a9ff4&gt;
</span><span class="nb">p</span> block<span class="p">.</span><span class="nf">call</span><span class="p">(</span><span class="p">{</span><span class="p">}</span>,<span class="ss">:foo</span><span class="p">)</span>    <span class="c1">#=&gt; &quot;The foo not exist in {}&quot;
</span>
h <span class="o">=</span> <span class="no">Hash</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"</span><span class="s2">default</span><span class="s2">"</span><span class="p">)</span>
<span class="nb">p</span> h<span class="p">.</span><span class="nf">default</span>              <span class="c1">#=&gt; &quot;default&quot;
</span><span class="nb">p</span> h<span class="p">.</span><span class="nf">default_proc</span>         <span class="c1">#=&gt; nil
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/default.html">Hash#default</a>
</p>
</dd>


<dt class="method-heading" id="I_DEFAULT_PROC--3D"><code>default_proc=(pr)</code><span class="permalink">[<a href="../method/-hash/i/default_proc=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-default_proc-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
ハッシュのデフォルト値を返す <a href="../class/-proc.html">Proc</a> オブジェクトを変更します。
</p>
<p>
以前のデフォルトは値(<a href="../method/-hash/i/default.html">Hash#default</a>)の場合も
Proc の場合(<a href="../method/-hash/i/default_proc.html">Hash#default_proc</a>)でも上書きされます。
</p>
<p>
引数には to_proc で <a href="../class/-proc.html">Proc</a> オブジェクトに変換できるオブジェクトも受け付けます。
</p>
<p>
nil を指定した場合は現在の <a href="../method/-hash/i/default_proc.html">Hash#default_proc</a> をクリアします。
</p>
<dl>
<dt class='method-param'>[PARAM] pr:</dt>
<dd>
デフォルト値を返す手続きオブジェクト
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="p">{</span><span class="p">}</span>
h<span class="p">.</span><span class="nf">default_proc</span> <span class="o">=</span> <span class="nb">proc</span> <span class="k">do</span> <span class="o">|</span><span class="nb">hash</span>, key<span class="o">|</span>
  <span class="nb">hash</span><span class="p">[</span>key<span class="p">]</span> <span class="o">=</span> <span class="k">case</span>
              <span class="k">when</span> <span class="p">(</span>key <span class="o">%</span> <span class="mi">15</span><span class="p">)</span><span class="p">.</span><span class="nf">zero?</span>
                <span class="s2">"</span><span class="s2">FizzBuzz</span><span class="s2">"</span>
              <span class="k">when</span> <span class="p">(</span>key <span class="o">%</span> <span class="mi">5</span><span class="p">)</span><span class="p">.</span><span class="nf">zero?</span>
                 <span class="s2">"</span><span class="s2">Buzz</span><span class="s2">"</span>
              <span class="k">when</span> <span class="p">(</span>key <span class="o">%</span> <span class="mi">3</span><span class="p">)</span><span class="p">.</span><span class="nf">zero?</span>
                 <span class="s2">"</span><span class="s2">Fizz</span><span class="s2">"</span>
              <span class="k">else</span>
                 key
              <span class="k">end</span>
<span class="k">end</span>
<span class="nb">p</span> h<span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># =&gt; 1
</span><span class="nb">p</span> h<span class="p">[</span><span class="mi">2</span><span class="p">]</span>  <span class="c1"># =&gt; 2
</span><span class="nb">p</span> h<span class="p">[</span><span class="mi">3</span><span class="p">]</span>  <span class="c1"># =&gt; &quot;Fizz&quot;
</span><span class="nb">p</span> h<span class="p">[</span><span class="mi">5</span><span class="p">]</span>  <span class="c1"># =&gt; &quot;Buzz&quot;
</span><span class="nb">p</span> h<span class="p">[</span><span class="mi">15</span><span class="p">]</span> <span class="c1"># =&gt; &quot;FizzBuzz&quot;
</span>
h<span class="p">.</span><span class="nf">default_proc</span> <span class="o">=</span> <span class="k">nil</span>
<span class="nb">p</span> h<span class="p">[</span><span class="mi">16</span><span class="p">]</span> <span class="c1"># =&gt; nil
</span><span class="c1"># default_proc が nil になったので `16=&gt;16 が追加されていない`
</span><span class="nb">p</span> h     <span class="c1"># =&gt; {1=&gt;1, 2=&gt;2, 3=&gt;&quot;Fizz&quot;, 5=&gt;&quot;Buzz&quot;, 15=&gt;&quot;FizzBuzz&quot;}
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/default_proc.html">Hash#default_proc</a>, <a href="../method/-hash/i/default.html">Hash#default</a>
</p>
</dd>


<dt class="method-heading" id="I_DELETE"><code>delete(key) -&gt; object | nil</code><span class="permalink">[<a href="../method/-hash/i/delete.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-delete">rdoc</a>]</span></dt>
<dt class="method-heading"><code>delete(key) {|key| ... } -&gt; object</code></dt>
<dd class="method-description">
<p>
key に対応する要素を取り除きます。
</p>
<dl>
<dt class='method-param'>[PARAM] key:</dt>
<dd>
取り除くキーを指定します。
</dd>
<dt>[RETURN]</dt>
<dd>
取り除かれた要素の値を返します。
key に対応する要素が存在しない時には nil を返します。
</dd>
</dl>
<pre>
与えられたブロックは key にマッチする要素がなかった時に評価され、その結果を返します。
</pre>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="p">{</span><span class="ss">:ab</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">some</span><span class="s2">"</span> , <span class="ss">:cd</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">all</span><span class="s2">"</span><span class="p">}</span>

<span class="nb">p</span> h<span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="ss">:ab</span><span class="p">)</span> <span class="c1">#=&gt; &quot;some&quot;
</span><span class="nb">p</span> h<span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="ss">:ef</span><span class="p">)</span> <span class="c1">#=&gt; nil
</span><span class="nb">p</span> h<span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="ss">:ef</span><span class="p">)</span><span class="p">{</span><span class="o">|</span>key<span class="o">|</span><span class="s2">"</span><span class="si">#{</span><span class="n">key</span><span class="si">}</span><span class="s2"> Nothing</span><span class="s2">"</span><span class="p">}</span> <span class="c1">#=&gt; &quot;ef Nothing&quot;
</span>
<span class="nb">p</span> h <span class="c1">#=&gt; {:cd=&gt;&quot;all&quot;}
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/delete_if.html">Hash#delete_if</a>
</p>
</dd>


<dt class="method-heading" id="I_DELETE_IF"><code>delete_if -&gt; Enumerator</code><span class="permalink">[<a href="../method/-hash/i/delete_if.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-delete_if">rdoc</a>]</span></dt>
<dt class="method-heading"><code>reject! -&gt; Enumerator</code></dt>
<dt class="method-heading"><code>delete_if {|key, value| ... } -&gt; self</code></dt>
<dt class="method-heading"><code>reject! {|key, value| ... } -&gt; self|nil</code></dt>
<dd class="method-description">
<p>
キーと値を引数としてブロックを評価した結果が真であるような要素を self から削除します。
</p>
<p>
delete_if は常に self を返します。
reject! は、要素を削除しなかった場合には nil を返し、そうでなければ self を返します。
</p>
<p>
ブロックを省略した場合は <a href="../class/-enumerator.html">Enumerator</a> を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="p">{</span> <span class="mi">2</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">8</span><span class="s2">"</span> ,<span class="mi">4</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">6</span><span class="s2">"</span> ,<span class="mi">6</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">4</span><span class="s2">"</span> ,<span class="mi">8</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">2</span><span class="s2">"</span> <span class="p">}</span>

<span class="nb">p</span> h<span class="p">.</span><span class="nf">reject!</span><span class="p">{</span><span class="o">|</span>key, value<span class="o">|</span> key<span class="p">.</span><span class="nf">to_i</span> <span class="o">&lt;</span> value<span class="p">.</span><span class="nf">to_i</span> <span class="p">}</span>   <span class="c1">#=&gt; { 6 =&gt; &quot;4&quot;, 8 =&gt; &quot;2&quot; }
</span><span class="nb">p</span> h                                                <span class="c1">#=&gt; { 6 =&gt; &quot;4&quot;, 8 =&gt; &quot;2&quot; }
</span>
<span class="nb">p</span> h<span class="p">.</span><span class="nf">delete_if</span><span class="p">{</span><span class="o">|</span>key, value<span class="o">|</span> key<span class="p">.</span><span class="nf">to_i</span> <span class="o">&lt;</span> value<span class="p">.</span><span class="nf">to_i</span> <span class="p">}</span> <span class="c1">#=&gt; { 6 =&gt; &quot;4&quot;, 8 =&gt; &quot;2&quot; }
</span><span class="nb">p</span> h<span class="p">.</span><span class="nf">reject!</span><span class="p">{</span><span class="o">|</span>key, value<span class="o">|</span> key<span class="p">.</span><span class="nf">to_i</span> <span class="o">&lt;</span> value<span class="p">.</span><span class="nf">to_i</span> <span class="p">}</span>   <span class="c1">#=&gt; nil
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/reject.html">Hash#reject</a>,<a href="../method/-hash/i/delete.html">Hash#delete</a>
</p>
<p>
[SEE_ALSO] <a href="../method/-hash/i/keep_if.html">Hash#keep_if</a>,<a href="../method/-hash/i/select=21.html">Hash#select!</a>
</p>
</dd>


<dt class="method-heading" id="I_DIG"><code>dig(key, ...) -&gt; object | nil</code><span class="permalink">[<a href="../method/-hash/i/dig.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-dig">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self 以下のネストしたオブジェクトを dig メソッドで再帰的に参照して返します。途中のオブジェクトが nil であった場合は nil を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] key:</dt>
<dd>
キーを任意個指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="p">{</span> <span class="ss">foo:</span> <span class="p">{</span><span class="ss">bar:</span> <span class="p">{</span><span class="ss">baz:</span> <span class="mi">1</span><span class="p">}</span><span class="p">}</span><span class="p">}</span>

h<span class="p">.</span><span class="nf">dig</span><span class="p">(</span><span class="ss">:foo</span>, <span class="ss">:bar</span>, <span class="ss">:baz</span><span class="p">)</span>      <span class="c1"># =&gt; 1
</span>h<span class="p">.</span><span class="nf">dig</span><span class="p">(</span><span class="ss">:foo</span>, <span class="ss">:zot</span>, <span class="ss">:xyz</span><span class="p">)</span>      <span class="c1"># =&gt; nil
</span>
g <span class="o">=</span> <span class="p">{</span> <span class="ss">foo:</span> <span class="p">[</span><span class="mi">10</span>, <span class="mi">11</span>, <span class="mi">12</span><span class="p">]</span> <span class="p">}</span>
g<span class="p">.</span><span class="nf">dig</span><span class="p">(</span><span class="ss">:foo</span>, <span class="mi">1</span><span class="p">)</span>               <span class="c1"># =&gt; 11
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/dig.html">Array#dig</a>, <a href="../method/-struct/i/dig.html">Struct#dig</a>, <a href="../method/-open-struct/i/dig.html">OpenStruct#dig</a>
</p>
</dd>


<dt class="method-heading" id="I_EACH"><code>each {|key, value| ... } -&gt; self</code><span class="permalink">[<a href="../method/-hash/i/each.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-each">rdoc</a>]</span></dt>
<dt class="method-heading"><code>each_pair {|key, value| ... } -&gt; self</code></dt>
<dt class="method-heading"><code>each -&gt; Enumerator</code></dt>
<dt class="method-heading"><code>each_pair -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
ハッシュのキーと値を引数としてブロックを評価します。
</p>
<p>
反復の際の評価順序はキーが追加された順です。ブロック付きの場合 self を、無しで呼ばれた場合 <a href="../class/-enumerator.html">Enumerator</a> を返します。
</p>
<p>
each_pair は each のエイリアスです。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">{</span><span class="ss">:a</span><span class="o">=&gt;</span><span class="mi">1</span>, <span class="ss">:b</span><span class="o">=&gt;</span><span class="mi">2</span><span class="p">}</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span><span class="o">|</span>a<span class="o">|</span> <span class="nb">p</span> a<span class="p">}</span>
<span class="c1">#=&gt; [:a, 1]
</span><span class="c1">#   [:b, 2]
</span>
<span class="p">{</span><span class="ss">:a</span><span class="o">=&gt;</span><span class="mi">1</span>, <span class="ss">:b</span><span class="o">=&gt;</span><span class="mi">2</span><span class="p">}</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span><span class="o">|</span>k, v<span class="o">|</span> <span class="nb">p</span> <span class="p">[</span>k, v<span class="p">]</span><span class="p">}</span>
<span class="c1">#=&gt; [:a, 1]
</span><span class="c1">#   [:b, 2]
</span>
<span class="nb">p</span><span class="p">(</span><span class="p">{</span><span class="ss">:a</span><span class="o">=&gt;</span><span class="mi">1</span>, <span class="ss">:b</span><span class="o">=&gt;</span><span class="mi">2</span><span class="p">}</span><span class="p">.</span><span class="nf">each_pair</span><span class="p">)</span>  <span class="c1"># =&gt; #&lt;Enumerator: {:a=&gt;1, :b=&gt;2}:each_pair&gt;
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/each_key.html">Hash#each_key</a>,<a href="../method/-hash/i/each_value.html">Hash#each_value</a>
</p>
</dd>


<dt class="method-heading" id="I_EACH_KEY"><code>each_key {|key| ... } -&gt; self</code><span class="permalink">[<a href="../method/-hash/i/each_key.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-each_key">rdoc</a>]</span></dt>
<dt class="method-heading"><code>each_key -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
ハッシュのキーを引数としてブロックを評価します。
</p>
<p>
反復の際の評価順序はキーが追加された順です。ブロック付きの場合selfを、無しで呼ばれた場合<a href="../class/-enumerator.html">Enumerator</a>を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">{</span><span class="ss">:a</span><span class="o">=&gt;</span><span class="mi">1</span>, <span class="ss">:b</span><span class="o">=&gt;</span><span class="mi">2</span><span class="p">}</span><span class="p">.</span><span class="nf">each_key</span> <span class="p">{</span><span class="o">|</span>k<span class="o">|</span> <span class="nb">p</span> k<span class="p">}</span>
<span class="c1">#=&gt; :a
</span><span class="c1">#   :b
</span>
<span class="nb">p</span><span class="p">(</span><span class="p">{</span><span class="ss">:a</span><span class="o">=&gt;</span><span class="mi">1</span>, <span class="ss">:b</span><span class="o">=&gt;</span><span class="mi">2</span><span class="p">}</span><span class="p">.</span><span class="nf">each_key</span><span class="p">)</span>  <span class="c1"># =&gt; #&lt;Enumerator: {:a=&gt;1, :b=&gt;2}:each_key&gt;
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/each_pair.html">Hash#each_pair</a>,<a href="../method/-hash/i/each_value.html">Hash#each_value</a>
</p>
</dd>


<dt class="method-heading" id="I_EACH_VALUE"><code>each_value {|value| ... } -&gt; self</code><span class="permalink">[<a href="../method/-hash/i/each_value.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-each_value">rdoc</a>]</span></dt>
<dt class="method-heading"><code>each_value -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
ハッシュの値を引数としてブロックを評価します。
</p>
<p>
反復の際の評価順序はキーが追加された順です。ブロック付きの場合selfを、無しで呼ばれた場合 <a href="../class/-enumerator.html">Enumerator</a> を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">{</span><span class="ss">:a</span><span class="o">=&gt;</span><span class="mi">1</span>, <span class="ss">:b</span><span class="o">=&gt;</span><span class="mi">2</span><span class="p">}</span><span class="p">.</span><span class="nf">each_value</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> <span class="nb">p</span> v<span class="p">}</span>
<span class="c1">#=&gt; 1
</span><span class="c1">#   2
</span>
<span class="nb">p</span><span class="p">(</span><span class="p">{</span><span class="ss">:a</span><span class="o">=&gt;</span><span class="mi">1</span>, <span class="ss">:b</span><span class="o">=&gt;</span><span class="mi">2</span><span class="p">}</span><span class="p">.</span><span class="nf">each_value</span><span class="p">)</span>  <span class="c1"># =&gt; #&lt;Enumerator: {:a=&gt;1, :b=&gt;2}:each_value&gt;
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/each_pair.html">Hash#each_pair</a>,<a href="../method/-hash/i/each_key.html">Hash#each_key</a>
</p>
</dd>


<dt class="method-heading" id="I_EMPTY--3F"><code>empty? -&gt; bool</code><span class="permalink">[<a href="../method/-hash/i/empty=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-empty-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
ハッシュが空の時、真を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">puts</span><span class="p">(</span><span class="p">{</span><span class="p">}</span><span class="p">.</span><span class="nf">empty?</span><span class="p">)</span> <span class="c1">#=&gt; true
</span></code></pre>
</dd>


<dt class="method-heading" id="I_EQUAL--3F"><code>equal?(other) -&gt; bool</code><span class="permalink">[<a href="../method/-hash/i/equal=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-equal-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
指定された other が self 自身である場合のみ真を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身と比較したい Hash オブジェクトを指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">p</span><span class="p">(</span><span class="p">{</span><span class="p">}</span><span class="p">.</span><span class="nf">equal?</span><span class="p">(</span><span class="p">{</span><span class="p">}</span><span class="p">)</span><span class="p">)</span>     <span class="c1">#=&gt; false
</span>a <span class="o">=</span> <span class="p">{</span><span class="p">}</span>
<span class="nb">p</span> a<span class="p">.</span><span class="nf">equal?</span><span class="p">(</span>a<span class="p">)</span>        <span class="c1">#=&gt; true
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/=3d=3d.html">Hash#==</a>
</p>
</dd>


<dt class="method-heading" id="I_FETCH"><code>fetch(key, default = nil) {|key| ... } -&gt; object</code><span class="permalink">[<a href="../method/-hash/i/fetch.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-fetch">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
key に関連づけられた値を返します。該当するキーが登録されていない時には、引数 default が与えられていればその値を、ブロックが与えられていればそのブロックを評価した値を返します。
</p>
<p>
fetchはハッシュ自身にデフォルト値が設定されていても単に無視します（挙動に変化がありません）。
</p>
<dl>
<dt class='method-param'>[PARAM] key:</dt>
<dd>
探索するキーを指定します。
</dd>
<dt class='method-param'>[PARAM] default:</dt>
<dd>
該当するキーが登録されていない時の返り値を指定します。
</dd>
<dt>[EXCEPTION] KeyError:</dt>
<dd>
引数defaultもブロックも与えられてない時、キーの探索に失敗すると発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="p">{</span><span class="ss">one:</span> <span class="k">nil</span><span class="p">}</span>
<span class="nb">p</span> h<span class="p">[</span><span class="ss">:one</span><span class="p">]</span>,h<span class="p">[</span><span class="ss">:two</span><span class="p">]</span>                        <span class="c1">#=&gt; nil,nil これではキーが存在するのか判別できない。
</span><span class="nb">p</span> h<span class="p">.</span><span class="nf">fetch</span><span class="p">(</span><span class="ss">:one</span><span class="p">)</span>                          <span class="c1">#=&gt; nil
</span><span class="nb">p</span> h<span class="p">.</span><span class="nf">fetch</span><span class="p">(</span><span class="ss">:two</span><span class="p">)</span>                          <span class="c1"># エラー key not found (KeyError)
</span><span class="nb">p</span> h<span class="p">.</span><span class="nf">fetch</span><span class="p">(</span><span class="ss">:two</span>,<span class="s2">"</span><span class="s2">error</span><span class="s2">"</span><span class="p">)</span>                  <span class="c1">#=&gt; &quot;error&quot;
</span><span class="nb">p</span> h<span class="p">.</span><span class="nf">fetch</span><span class="p">(</span><span class="ss">:two</span><span class="p">)</span><span class="p">{</span><span class="o">|</span>key<span class="o">|</span><span class="s2">"</span><span class="si">#{</span><span class="n">key</span><span class="si">}</span><span class="s2"> not exist</span><span class="s2">"</span><span class="p">}</span> <span class="c1">#=&gt; &quot;two not exist&quot;
</span><span class="nb">p</span> h<span class="p">.</span><span class="nf">fetch</span><span class="p">(</span><span class="ss">:two</span>, <span class="s2">"</span><span class="s2">error</span><span class="s2">"</span><span class="p">)</span><span class="p">{</span><span class="o">|</span>key<span class="o">|</span>           <span class="c1">#=&gt; &quot;two not exist&quot;
</span>    <span class="s2">"</span><span class="si">#{</span><span class="n">key</span><span class="si">}</span><span class="s2"> not exist</span><span class="s2">"</span>                   <span class="c1">#  warning: block supersedes default value argument
</span>  <span class="p">}</span>                                      <span class="c1">#  警告が表示される。
</span>
h<span class="p">.</span><span class="nf">default</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">default</span><span class="s2">"</span>
<span class="nb">p</span> h<span class="p">.</span><span class="nf">fetch</span><span class="p">(</span><span class="ss">:two</span><span class="p">)</span>                          <span class="c1"># エラー key not found (KeyError)
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/=5b=5d.html">Hash#[]</a>
</p>
</dd>


<dt class="method-heading" id="I_FETCH_VALUES"><code>fetch_values(key, ...) -&gt; [object]</code><span class="permalink">[<a href="../method/-hash/i/fetch_values.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-fetch_values">rdoc</a>]</span></dt>
<dt class="method-heading"><code>fetch_values(key, ...) { |key| ... } -&gt; [object]</code></dt>
<dd class="method-description">
<p>
引数で指定されたキーに関連づけられた値の配列を返します。
</p>
<p>
該当するキーが登録されていない時には、ブロックが与えられていればそのブロックを評価した値を返します。ブロックが与えられていない時は
<a href="../class/-key-error.html">KeyError</a> が発生します。
</p>
<p>
self にデフォルト値が設定されていても無視されます（挙動に変化がありません）。
</p>
<dl>
<dt class='method-param'>[PARAM] key:</dt>
<dd>
探索するキーを任意個指定します。
</dd>
<dt>[EXCEPTION] KeyError:</dt>
<dd>
ブロックが与えられてない時にキーの探索に失敗すると発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="p">{</span> <span class="s2">"</span><span class="s2">cat</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">feline</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">dog</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">canine</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">cow</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">bovine</span><span class="s2">"</span> <span class="p">}</span>

h<span class="p">.</span><span class="nf">fetch_values</span><span class="p">(</span><span class="s2">"</span><span class="s2">cow</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">cat</span><span class="s2">"</span><span class="p">)</span>                   <span class="c1"># =&gt; [&quot;bovine&quot;, &quot;feline&quot;]
</span>h<span class="p">.</span><span class="nf">fetch_values</span><span class="p">(</span><span class="s2">"</span><span class="s2">cow</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">bird</span><span class="s2">"</span><span class="p">)</span>                  <span class="c1"># raises KeyError
</span>h<span class="p">.</span><span class="nf">fetch_values</span><span class="p">(</span><span class="s2">"</span><span class="s2">cow</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">bird</span><span class="s2">"</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span>k<span class="o">|</span> k<span class="p">.</span><span class="nf">upcase</span> <span class="p">}</span> <span class="c1"># =&gt; [&quot;bovine&quot;, &quot;BIRD&quot;]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/values_at.html">Hash#values_at</a>, <a href="../method/-hash/i/fetch.html">Hash#fetch</a>
</p>
</dd>


<dt class="method-heading" id="I_FLATTEN"><code>flatten(level = 1) -&gt; Array</code><span class="permalink">[<a href="../method/-hash/i/flatten.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-flatten">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身を平坦化した配列を生成して返します。
</p>
<p>
全てのキーと値を新しい配列の要素として展開します。
<a href="../method/-array/i/flatten.html">Array#flatten</a> と違って、デフォルトではこのメソッドは自身を再帰的に平坦化しません。level を指定すると指定されたレベルまで再帰的に平坦化します。
</p>
<dl>
<dt class='method-param'>[PARAM] level:</dt>
<dd>
展開するレベル
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span>  <span class="p">{</span><span class="mi">1</span><span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">one</span><span class="s2">"</span>, <span class="mi">2</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">2</span>,<span class="s2">"</span><span class="s2">two</span><span class="s2">"</span><span class="p">]</span>, <span class="mi">3</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">three</span><span class="s2">"</span><span class="p">}</span>
a<span class="p">.</span><span class="nf">flatten</span>     <span class="c1">#=&gt; [1, &quot;one&quot;, 2, [2, &quot;two&quot;], 3, &quot;three&quot;]
</span>a<span class="p">.</span><span class="nf">flatten</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1">#=&gt; [1, &quot;one&quot;, 2, [2, &quot;two&quot;], 3, &quot;three&quot;]
</span>a<span class="p">.</span><span class="nf">flatten</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1">#=&gt; [1, &quot;one&quot;, 2, 2, &quot;two&quot;, 3, &quot;three&quot;]
</span>a<span class="p">.</span><span class="nf">flatten</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1">#=&gt; [[1, &quot;one&quot;], [2, [2, &quot;two&quot;]], [3, &quot;three&quot;]]
</span>a<span class="p">.</span><span class="nf">flatten</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="c1">#=&gt; [1, &quot;one&quot;, 2, 2, &quot;two&quot;, 3, &quot;three&quot;]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/flatten.html">Array#flatten</a>
</p>
</dd>


<dt class="method-heading" id="I_HAS_KEY--3F"><code>has_key?(key) -&gt; bool</code><span class="permalink">[<a href="../method/-hash/i/has_key=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-has_key-3F">rdoc</a>]</span></dt>
<dt class="method-heading"><code>include?(key) -&gt; bool</code></dt>
<dt class="method-heading"><code>key?(key) -&gt; bool</code></dt>
<dt class="method-heading"><code>member?(key) -&gt; bool</code></dt>
<dd class="method-description">
<p>
ハッシュが key をキーとして持つ時真を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] key:</dt>
<dd>
探索するキーを指定します。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="nb">p</span><span class="p">(</span><span class="p">{</span><span class="mi">1</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">one</span><span class="s2">"</span><span class="p">}</span><span class="p">.</span><span class="nf">key?</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="p">)</span> <span class="c1"># =&gt; true
</span><span class="nb">p</span><span class="p">(</span><span class="p">{</span><span class="mi">1</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">one</span><span class="s2">"</span><span class="p">}</span><span class="p">.</span><span class="nf">key?</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="p">)</span> <span class="c1"># =&gt; false
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/value=3f.html">Hash#value?</a>
</p>
</dd>


<dt class="method-heading" id="I_HAS_VALUE--3F"><code>has_value?(value) -&gt; bool</code><span class="permalink">[<a href="../method/-hash/i/has_value=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-has_value-3F">rdoc</a>]</span></dt>
<dt class="method-heading"><code>value?(value) -&gt; bool</code></dt>
<dd class="method-description">
<p>
ハッシュが value を値として持つ時真を返します。値の一致判定は == で行われます。
</p>
<dl>
<dt class='method-param'>[PARAM] value:</dt>
<dd>
探索する値を指定します。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="nb">p</span><span class="p">(</span><span class="p">{</span><span class="mi">1</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">one</span><span class="s2">"</span><span class="p">}</span><span class="p">.</span><span class="nf">value?</span><span class="p">(</span><span class="s2">"</span><span class="s2">one</span><span class="s2">"</span><span class="p">)</span><span class="p">)</span> <span class="c1">#=&gt; true
</span><span class="nb">p</span><span class="p">(</span><span class="p">{</span><span class="mi">1</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">one</span><span class="s2">"</span><span class="p">}</span><span class="p">.</span><span class="nf">value?</span><span class="p">(</span><span class="s2">"</span><span class="s2">two</span><span class="s2">"</span><span class="p">)</span><span class="p">)</span> <span class="c1">#=&gt; false
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/key=3f.html">Hash#key?</a>
</p>
</dd>


<dt class="method-heading" id="I_HASH"><code>hash -&gt; Integer</code><span class="permalink">[<a href="../method/-hash/i/hash.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-hash">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身が保持するキーと値のハッシュ値を元にして算出した整数を返します。自身が保持するキーや値が変化すればこのメソッドが返す値も変化します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">{</span><span class="p">}</span>
<span class="nb">p</span> a<span class="p">.</span><span class="nf">hash</span>     <span class="c1">#=&gt; 0
</span>a<span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="ss">:x</span>
<span class="nb">p</span> a<span class="p">.</span><span class="nf">hash</span>     <span class="c1">#=&gt; 329543
</span></code></pre>
</dd>


<dt class="method-heading" id="I_INDEX"><code>key(val) -&gt; object</code><span class="permalink">[<a href="../method/-hash/i/index.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-index">rdoc</a>]</span></dt>
<dt class="method-heading"><code>index(val) -&gt; object</code></dt>
<dd class="method-description">
<p>
値 val に対応するキーを返します。対応する要素が存在しない時には
nil を返します。
</p>
<p>
該当するキーが複数存在する場合、どのキーを返すかは不定です。
</p>
<p>
Hash#index は obsolete です。使用すると警告メッセージが表示されます。
</p>
<dl>
<dt class='method-param'>[PARAM] val:</dt>
<dd>
探索に用いる値を指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="p">{</span><span class="ss">:ab</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">some</span><span class="s2">"</span> , <span class="ss">:cd</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">all</span><span class="s2">"</span> , <span class="ss">:ef</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">all</span><span class="s2">"</span><span class="p">}</span>

<span class="nb">p</span> h<span class="p">.</span><span class="nf">key</span><span class="p">(</span><span class="s2">"</span><span class="s2">some</span><span class="s2">"</span><span class="p">)</span> <span class="c1">#=&gt; :ab
</span><span class="nb">p</span> h<span class="p">.</span><span class="nf">key</span><span class="p">(</span><span class="s2">"</span><span class="s2">all</span><span class="s2">"</span><span class="p">)</span> <span class="c1">#=&gt; :cd
</span><span class="nb">p</span> h<span class="p">.</span><span class="nf">key</span><span class="p">(</span><span class="s2">"</span><span class="s2">at</span><span class="s2">"</span><span class="p">)</span> <span class="c1">#=&gt; nil
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/invert.html">Hash#invert</a>
</p>
</dd>


<dt class="method-heading" id="I_INSPECT"><code>to_s -&gt; String</code><span class="permalink">[<a href="../method/-hash/i/inspect.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-inspect">rdoc</a>]</span></dt>
<dt class="method-heading"><code>inspect -&gt; String</code></dt>
<dd class="method-description">
<p>
ハッシュの内容を人間に読みやすい文字列にして返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="p">{</span> <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">300</span>, <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">100</span>, <span class="s2">"</span><span class="s2">d</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">400</span>  <span class="p">}</span>
h<span class="p">.</span><span class="nf">inspect</span>   <span class="c1"># =&gt; &quot;{\&quot;c\&quot;=&gt;300, \&quot;a\&quot;=&gt;100, \&quot;d\&quot;=&gt;400}&quot;
</span></code></pre>
</dd>


<dt class="method-heading" id="I_INVERT"><code>invert -&gt; Hash</code><span class="permalink">[<a href="../method/-hash/i/invert.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-invert">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
値からキーへのハッシュを作成して返します。
</p>
<p>
異なるキーに対して等しい値が登録されている場合、最後に定義されている値が使用されます。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="p">{</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">0</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">100</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">200</span>, <span class="s2">"</span><span class="s2">d</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">300</span>, <span class="s2">"</span><span class="s2">e</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">300</span> <span class="p">}</span>
<span class="nb">p</span> h<span class="p">.</span><span class="nf">invert</span>   <span class="c1">#=&gt; {0=&gt;&quot;a&quot;, 100=&gt;&quot;b&quot;, 200=&gt;&quot;c&quot;, 300=&gt;&quot;e&quot;}
</span></code></pre>
<h3 >参考</h3>
<p>
値が重複していたときに備えて、変換後の値を配列として保持するには、次のようにします。
</p>
<pre class="highlight ruby">
<code>
<span class="k">def</span> <span class="nf">safe_invert</span><span class="p">(</span>orig_hash<span class="p">)</span>
  orig_hash<span class="p">.</span><span class="nf">each_key</span><span class="p">.</span><span class="nf">group_by</span> <span class="k">do</span> <span class="o">|</span>key<span class="o">|</span>
    orig_hash<span class="p">[</span>key<span class="p">]</span>
  <span class="k">end</span>
<span class="k">end</span>
<span class="nb">p</span> safe_invert<span class="p">(</span><span class="p">{</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span><span class="o">=&gt;</span><span class="mi">1</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span><span class="o">=&gt;</span><span class="mi">1</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span><span class="o">=&gt;</span><span class="mi">3</span><span class="p">}</span><span class="p">)</span> <span class="c1"># =&gt; {1=&gt;[&quot;a&quot;, &quot;b&quot;], 3=&gt;[&quot;c&quot;]}
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/key.html">Hash#key</a>
</p>
</dd>


<dt class="method-heading" id="I_KEEP_IF"><code>keep_if -&gt; Enumerator</code><span class="permalink">[<a href="../method/-hash/i/keep_if.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-keep_if">rdoc</a>]</span></dt>
<dt class="method-heading"><code>keep_if {|key, value| ... } -&gt; self</code></dt>
<dt class="method-heading"><code>select! -&gt; Enumerator</code></dt>
<dt class="method-heading"><code>select! {|key, value| ... } -&gt; self | nil</code></dt>
<dd class="method-description">
<p>
キーと値を引数としてブロックを評価した結果が真であるような要素を self
に残します。
</p>
<p>
keep_if は常に self を返します。
select! はオブジェクトが変更された場合に self を、されていない場合に nil を返します。
</p>
<p>
ブロックが与えられなかった場合は、自身と keep_if から生成した
<a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h1 <span class="o">=</span> <span class="p">{</span><span class="p">}</span>
c <span class="o">=</span> <span class="p">(</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span><span class="o">..</span><span class="s2">"</span><span class="s2">g</span><span class="s2">"</span><span class="p">)</span>
c<span class="p">.</span><span class="nf">each_with_index</span> <span class="p">{</span><span class="o">|</span>e, i<span class="o">|</span> h1<span class="p">[</span>i<span class="p">]</span> <span class="o">=</span> e <span class="p">}</span>

h2 <span class="o">=</span> h1<span class="p">.</span><span class="nf">dup</span>
h1<span class="p">.</span><span class="nf">select!</span>  <span class="c1"># =&gt; #&lt;Enumerator: {0=&gt;&quot;a&quot;, 1=&gt;&quot;b&quot;, 2=&gt;&quot;c&quot;, 3=&gt;&quot;d&quot;, 4=&gt;&quot;e&quot;, 5=&gt;&quot;f&quot;, 6=&gt;&quot;g&quot;}:select!&gt;
</span>
h1<span class="p">.</span><span class="nf">select!</span> <span class="p">{</span> <span class="o">|</span>k, v<span class="o">|</span> k <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">}</span>  <span class="c1"># =&gt; {0=&gt;&quot;a&quot;, 3=&gt;&quot;d&quot;, 6=&gt;&quot;g&quot;}
</span>h1<span class="p">.</span><span class="nf">select!</span> <span class="p">{</span> <span class="o">|</span>k, v<span class="o">|</span> <span class="k">true</span> <span class="p">}</span>        <span class="c1"># =&gt; nil
</span>h2<span class="p">.</span><span class="nf">keep_if</span> <span class="p">{</span> <span class="o">|</span>k, v<span class="o">|</span> k <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">}</span>  <span class="c1"># =&gt; {0=&gt;&quot;a&quot;, 3=&gt;&quot;d&quot;, 6=&gt;&quot;g&quot;}
</span>h2<span class="p">.</span><span class="nf">keep_if</span> <span class="p">{</span> <span class="o">|</span>k, v<span class="o">|</span> <span class="k">true</span> <span class="p">}</span>        <span class="c1"># =&gt; {0=&gt;&quot;a&quot;, 3=&gt;&quot;d&quot;, 6=&gt;&quot;g&quot;}
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/select.html">Hash#select</a>, <a href="../method/-hash/i/delete_if.html">Hash#delete_if</a>, <a href="../method/-hash/i/reject=21.html">Hash#reject!</a>
</p>
</dd>


<dt class="method-heading" id="I_KEYS"><code>keys -&gt; [object]</code><span class="permalink">[<a href="../method/-hash/i/keys.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-keys">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
全キーの配列を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h1 <span class="o">=</span> <span class="p">{</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">100</span>, <span class="mi">2</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"</span><span class="s2">some</span><span class="s2">"</span><span class="p">]</span>, <span class="ss">:c</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span> <span class="p">}</span>
<span class="nb">p</span> h1<span class="p">.</span><span class="nf">keys</span>           <span class="c1">#=&gt; [&quot;a&quot;, 2, :c]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/values.html">Hash#values</a>,<a href="../method/-hash/i/to_a.html">Hash#to_a</a>
</p>
</dd>


<dt class="method-heading" id="I_LENGTH"><code>length -&gt; Integer</code><span class="permalink">[<a href="../method/-hash/i/length.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-length">rdoc</a>]</span></dt>
<dt class="method-heading"><code>size -&gt; Integer</code></dt>
<dd class="method-description">
<p>
ハッシュの要素の数を返します。
</p>
<pre class="highlight ruby">
<code>
h <span class="o">=</span> <span class="p">{</span> <span class="s2">"</span><span class="s2">d</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">100</span>, <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">200</span>, <span class="s2">"</span><span class="s2">v</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">300</span>, <span class="s2">"</span><span class="s2">e</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">400</span> <span class="p">}</span>
h<span class="p">.</span><span class="nf">length</span>        <span class="c1">#=&gt; 4
</span>h<span class="p">.</span><span class="nf">size</span>          <span class="c1">#=&gt; 4
</span>h<span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span><span class="p">)</span>   <span class="c1">#=&gt; 200
</span>h<span class="p">.</span><span class="nf">length</span>        <span class="c1">#=&gt; 3
</span>h<span class="p">.</span><span class="nf">size</span>          <span class="c1">#=&gt; 3
</span></code></pre>
</dd>


<dt class="method-heading" id="I_MERGE"><code>merge(other) -&gt; Hash</code><span class="permalink">[<a href="../method/-hash/i/merge.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-merge">rdoc</a>]</span></dt>
<dt class="method-heading"><code>merge(other) {|key, self_val, other_val| ... } -&gt; Hash</code></dt>
<dd class="method-description">
<p>
selfとotherのハッシュの内容をマージ(統合)した結果を返します。デフォルト値はselfの設定のままです。
</p>
<p>
self と other に同じキーがあった場合はブロック付きか否かで判定方法が違います。ブロック付きのときはブロックを呼び出してその返す値を重複キーに対応する値にします。ブロック付きでない場合は常に other の値を使います。
</p>
<p>
otherがハッシュではない場合、otherのメソッドto_hashを使って暗黙の変換を試みます。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
マージ用のハッシュまたはメソッド to_hash でハッシュに変換できるオブジェクトです。
</dd>
<dt>[RETURN]</dt>
<dd>
マージした結果を返します
</dd>
</dl>
<pre class="highlight ruby">
<code>
h1 <span class="o">=</span> <span class="p">{</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">100</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">200</span> <span class="p">}</span>
h2 <span class="o">=</span> <span class="p">{</span> <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">254</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">300</span> <span class="p">}</span>
h1<span class="p">.</span><span class="nf">merge</span><span class="p">(</span><span class="p">)</span>     <span class="c1"># =&gt; {&quot;a&quot;=&gt;100, &quot;b&quot;=&gt;200}
</span>h1<span class="p">.</span><span class="nf">merge</span><span class="p">(</span>h2<span class="p">)</span>   <span class="c1"># =&gt; {&quot;a&quot;=&gt;100, &quot;b&quot;=&gt;254, &quot;c&quot;=&gt;300}
</span>h1<span class="p">.</span><span class="nf">merge</span><span class="p">(</span>h2<span class="p">)</span><span class="p">{</span><span class="o">|</span>key, oldval, newval<span class="o">|</span> newval <span class="o">-</span> oldval<span class="p">}</span>
               <span class="c1"># =&gt; {&quot;a&quot;=&gt;100, &quot;b&quot;=&gt;54,  &quot;c&quot;=&gt;300}
</span>h1             <span class="c1"># =&gt; {&quot;a&quot;=&gt;100, &quot;b&quot;=&gt;200}
</span></code></pre>
<pre class="highlight ruby">
<code>
foo <span class="o">=</span> <span class="p">{</span><span class="mi">1</span> <span class="o">=&gt;</span> <span class="s1">'a'</span>, <span class="mi">2</span> <span class="o">=&gt;</span> <span class="s1">'b'</span>, <span class="mi">3</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">}</span>
bar <span class="o">=</span> <span class="p">{</span><span class="mi">2</span> <span class="o">=&gt;</span> <span class="s1">'B'</span>, <span class="mi">3</span> <span class="o">=&gt;</span> <span class="s1">'C'</span>, <span class="mi">4</span> <span class="o">=&gt;</span> <span class="s1">'D'</span><span class="p">}</span>

<span class="nb">p</span> foo<span class="p">.</span><span class="nf">merge</span><span class="p">(</span>bar<span class="p">)</span>
       <span class="c1"># =&gt; {1=&gt;&quot;a&quot;, 2=&gt;&quot;B&quot;, 3=&gt;&quot;C&quot;, 4=&gt;&quot;D&quot;}
</span><span class="nb">p</span> foo  <span class="c1"># =&gt; {1=&gt;&quot;a&quot;, 2=&gt;&quot;b&quot;, 3=&gt;&quot;c&quot;}
</span>
<span class="nb">p</span> foo<span class="p">.</span><span class="nf">merge!</span><span class="p">(</span>bar<span class="p">)</span> <span class="p">{</span><span class="o">|</span>key, foo_val, bar_val<span class="o">|</span> foo_val <span class="o">+</span> bar_val <span class="p">}</span>
       <span class="c1"># =&gt; {1=&gt;&quot;a&quot;, 2=&gt;&quot;bB&quot;, 3=&gt;&quot;cC&quot;, 4=&gt;&quot;D&quot;}
</span><span class="nb">p</span> foo  <span class="c1"># =&gt; {1=&gt;&quot;a&quot;, 2=&gt;&quot;bB&quot;, 3=&gt;&quot;cC&quot;, 4=&gt;&quot;D&quot;}
</span></code></pre>
<pre class="highlight ruby">
<code>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Foo</span>
  <span class="k">def</span> <span class="nf">to_hash</span>
    <span class="p">{</span><span class="ss">:Australia</span> <span class="o">=&gt;</span> <span class="s1">'Sydney'</span>,
     <span class="ss">:France</span> <span class="o">=&gt;</span> <span class="s1">'Paris'</span>
     <span class="p">}</span>
  <span class="k">end</span>
<span class="k">end</span>

h <span class="o">=</span> <span class="p">{</span><span class="ss">:Germany</span> <span class="o">=&gt;</span> <span class="s1">'Berlin'</span>,
     <span class="ss">:Australia</span> <span class="o">=&gt;</span> <span class="s1">'Canberra'</span>,
     <span class="ss">:France</span> <span class="o">=&gt;</span> <span class="s1">'Paris'</span>
     <span class="p">}</span>

<span class="c1"># 暗黙の変換
</span><span class="nb">p</span> h<span class="p">.</span><span class="nf">merge</span><span class="p">(</span><span class="no">Foo</span><span class="p">.</span><span class="nf">new</span><span class="p">)</span> <span class="c1"># =&gt; {:Germany=&gt;&quot;Berlin&quot;, :Australia=&gt;&quot;Sydney&quot;, :France=&gt;&quot;Paris&quot;}
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/update.html">Hash#update</a>,<a href="../method/-hash/i/replace.html">Hash#replace</a>
</p>
</dd>


<dt class="method-heading" id="I_MERGE--21"><code>merge!(other) -&gt; self</code><span class="permalink">[<a href="../method/-hash/i/merge=21.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-merge-21">rdoc</a>]</span></dt>
<dt class="method-heading"><code>merge!(other) {|key, self_val, other_val| ... } -&gt; self</code></dt>
<dt class="method-heading"><code>update(other) -&gt; self</code></dt>
<dt class="method-heading"><code>update(other) {|key, self_val, other_val| ... } -&gt; self</code></dt>
<dd class="method-description">
<p>
selfとotherのハッシュの内容をマージ(統合)します。
</p>
<p>
デフォルト値はselfの設定のままです。
</p>
<p>
self と other に同じキーがあった場合はブロック付きか否かで判定方法が違います。ブロック付きのときはブロックを呼び出してその返す値を重複キーに対応する値にします。ブロック付きでない場合は常に other の値を使います。
</p>
<p>
otherがハッシュではない場合、otherのメソッドto_hashを使って暗黙の変換を試みます。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
マージ用のハッシュまたはメソッド to_hash でハッシュに変換できるオブジェクトです。
</dd>
<dt>[RETURN]</dt>
<dd>
マージ後のselfを返します。
</dd>
</dl>
<pre class="highlight ruby">
<code>
h1 <span class="o">=</span> <span class="p">{</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">100</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">200</span> <span class="p">}</span>
h2 <span class="o">=</span> <span class="p">{</span> <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">254</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">300</span> <span class="p">}</span>
h1<span class="p">.</span><span class="nf">merge!</span><span class="p">(</span>h2<span class="p">)</span>   <span class="c1"># =&gt; {&quot;a&quot;=&gt;100, &quot;b&quot;=&gt;254, &quot;c&quot;=&gt;300}
</span>h1              <span class="c1"># =&gt; {&quot;a&quot;=&gt;100, &quot;b&quot;=&gt;254, &quot;c&quot;=&gt;300}
</span></code></pre>
<pre class="highlight ruby">
<code>
foo <span class="o">=</span> <span class="p">{</span><span class="mi">1</span> <span class="o">=&gt;</span> <span class="s1">'a'</span>, <span class="mi">2</span> <span class="o">=&gt;</span> <span class="s1">'b'</span>, <span class="mi">3</span> <span class="o">=&gt;</span> <span class="s1">'c'</span><span class="p">}</span>
bar <span class="o">=</span> <span class="p">{</span><span class="mi">2</span> <span class="o">=&gt;</span> <span class="s1">'B'</span>, <span class="mi">3</span> <span class="o">=&gt;</span> <span class="s1">'C'</span>, <span class="mi">4</span> <span class="o">=&gt;</span> <span class="s1">'D'</span><span class="p">}</span>

<span class="nb">p</span> foo<span class="p">.</span><span class="nf">update</span><span class="p">(</span>bar<span class="p">)</span> <span class="c1">#=&gt; {1=&gt;&quot;a&quot;, 2=&gt;&quot;B&quot;, 3=&gt;&quot;C&quot;, 4=&gt;&quot;D&quot;}
</span><span class="nb">p</span> foo  <span class="c1">#=&gt; {1=&gt;&quot;a&quot;, 2=&gt;&quot;B&quot;, 3=&gt;&quot;C&quot;, 4=&gt;&quot;D&quot;}
</span>
<span class="nb">p</span> foo<span class="p">.</span><span class="nf">update</span><span class="p">(</span>bar<span class="p">)</span> <span class="p">{</span><span class="o">|</span>key, foo_val, bar_val<span class="o">|</span> foo_val <span class="o">+</span> bar_val <span class="p">}</span> <span class="c1"># =&gt; {1=&gt;&quot;a&quot;, 2=&gt;&quot;BB&quot;, 3=&gt;&quot;CC&quot;, 4=&gt;&quot;DD&quot;}
</span><span class="nb">p</span> foo  <span class="c1"># =&gt; {1=&gt;&quot;a&quot;, 2=&gt;&quot;BB&quot;, 3=&gt;&quot;CC&quot;, 4=&gt;&quot;DD&quot;}
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/merge=21.html">Hash#merge!</a>
</p>
</dd>


<dt class="method-heading" id="I_RASSOC"><code>rassoc(value) -&gt; Array | nil</code><span class="permalink">[<a href="../method/-hash/i/rassoc.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-rassoc">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
ハッシュ内を検索して，引数 value と 一致する値を探します。
</p>
<p>
比較は == メソッドを使用して行われます。一致する値があれば，該当するキーとその値とを要素とするサイズ 2 の配列を返します。ない場合には nil を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] value:</dt>
<dd>
探索する値。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">one</span><span class="s2">"</span>, <span class="mi">2</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">two</span><span class="s2">"</span>, <span class="mi">3</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">three</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">ii</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">two</span><span class="s2">"</span><span class="p">}</span>
a<span class="p">.</span><span class="nf">rassoc</span><span class="p">(</span><span class="s2">"</span><span class="s2">two</span><span class="s2">"</span><span class="p">)</span>    <span class="c1">#=&gt; [2, &quot;two&quot;]
</span>a<span class="p">.</span><span class="nf">rassoc</span><span class="p">(</span><span class="s2">"</span><span class="s2">four</span><span class="s2">"</span><span class="p">)</span>   <span class="c1">#=&gt; nil
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/assoc.html">Hash#assoc</a>, <a href="../method/-array/i/rassoc.html">Array#rassoc</a>
</p>
</dd>


<dt class="method-heading" id="I_REHASH"><code>rehash -&gt; self</code><span class="permalink">[<a href="../method/-hash/i/rehash.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-rehash">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
キーのハッシュ値を再計算します。
</p>
<p>
キーになっているオブジェクトの内容が変化した時など、ハッシュ値が変わってしまった場合はこのメソッドを使ってハッシュ値を再計算しない限り、そのキーに対応する値を取り出すことができなくなります。
</p>
<dl>
<dt>[EXCEPTION] RuntimeError:</dt>
<dd>
<a href="../method/-hash/i/each.html">Hash#each</a>などのイテレータの評価途中でrehashすると発生します。
</dd>
<dt>[RETURN]</dt>
<dd>
selfを返します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span> <span class="p">]</span>
h <span class="o">=</span> <span class="p">{</span> a <span class="o">=&gt;</span> <span class="mi">100</span> <span class="p">}</span>

<span class="nb">p</span> h<span class="p">[</span>a<span class="p">]</span>       <span class="c1">#=&gt; 100
</span>
a<span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">z</span><span class="s2">"</span>
<span class="nb">p</span> h<span class="p">[</span>a<span class="p">]</span>       <span class="c1">#=&gt; nil
</span>
h<span class="p">.</span><span class="nf">rehash</span>
<span class="nb">p</span> h<span class="p">[</span>a<span class="p">]</span>       <span class="c1">#=&gt; 100
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/hash.html">Object#hash</a>
</p>
</dd>


<dt class="method-heading" id="I_REJECT"><code>reject {|key, value| ... } -&gt; Hash</code><span class="permalink">[<a href="../method/-hash/i/reject.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-reject">rdoc</a>]</span></dt>
<dt class="method-heading"><code>reject -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
self を複製して、ブロックを評価した値が真になる要素を削除したハッシュを返します。
</p>
<p>
ハッシュを返すことを除けば
<a href="../method/-enumerable/i/reject.html">Enumerable#reject</a> とほぼ同じです。
selfを破壊的に変更したい場合はかわりに<a href="../method/-hash/i/delete_if.html">Hash#delete_if</a>か<a href="../method/-hash/i/reject=21.html">Hash#reject!</a>を使います。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="p">{</span> <span class="mi">2</span> <span class="o">=&gt;</span><span class="s2">"</span><span class="s2">8</span><span class="s2">"</span> ,<span class="mi">4</span> <span class="o">=&gt;</span><span class="s2">"</span><span class="s2">6</span><span class="s2">"</span> ,<span class="mi">6</span> <span class="o">=&gt;</span><span class="s2">"</span><span class="s2">4</span><span class="s2">"</span> ,<span class="mi">8</span> <span class="o">=&gt;</span><span class="s2">"</span><span class="s2">2</span><span class="s2">"</span> <span class="p">}</span>

<span class="nb">p</span> h<span class="p">.</span><span class="nf">reject</span><span class="p">{</span><span class="o">|</span>key, value<span class="o">|</span> key<span class="p">.</span><span class="nf">to_i</span> <span class="o">&lt;</span> value<span class="p">.</span><span class="nf">to_i</span><span class="p">}</span> <span class="c1">#=&gt; {6=&gt;&quot;4&quot;, 8=&gt;&quot;2&quot;}
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/delete_if.html">Hash#delete_if</a>,<a href="../method/-hash/i/delete.html">Hash#delete</a>,<a href="../method/-enumerable/i/reject.html">Enumerable#reject</a>
</p>
</dd>


<dt class="method-heading" id="I_REPLACE"><code>replace(other) -&gt; self</code><span class="permalink">[<a href="../method/-hash/i/replace.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-replace">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
ハッシュの内容を other の内容で置き換えます。
</p>
<p>
デフォルト値の設定もotherの内容になります。
otherがハッシュではない場合、otherのメソッドto_hashを使って暗黙の変換を試みます。
</p>
<p>
self = other.to_hash.dup と同じです。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
ハッシュまたはメソッド to_hash でハッシュに変換できるオブジェクトです。
</dd>
<dt>[RETURN]</dt>
<dd>
self を返します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
foo <span class="o">=</span> <span class="p">{</span><span class="mi">1</span> <span class="o">=&gt;</span> <span class="s1">'a'</span>, <span class="mi">2</span> <span class="o">=&gt;</span> <span class="s1">'b'</span><span class="p">}</span>
bar <span class="o">=</span> <span class="p">{</span><span class="mi">2</span> <span class="o">=&gt;</span> <span class="s1">'B'</span>, <span class="mi">3</span> <span class="o">=&gt;</span> <span class="s1">'C'</span><span class="p">}</span>

foo<span class="p">.</span><span class="nf">replace</span><span class="p">(</span>bar<span class="p">)</span>
<span class="nb">p</span> foo  <span class="c1">#=&gt; {2=&gt;&quot;B&quot;, 3=&gt;&quot;C&quot;}
</span>
zoo <span class="o">=</span> <span class="p">{</span><span class="p">}</span>
zoo <span class="o">=</span> bar<span class="p">.</span><span class="nf">dup</span>
<span class="nb">p</span> zoo  <span class="c1">#=&gt; {2=&gt;&quot;B&quot;, 3=&gt;&quot;C&quot;}
</span>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Foo</span>
  <span class="k">def</span> <span class="nf">to_hash</span>
    <span class="p">{</span><span class="ss">:japan</span> <span class="o">=&gt;</span> <span class="s1">'kyoto'</span><span class="p">}</span>
  <span class="k">end</span>
<span class="k">end</span>

h <span class="o">=</span> <span class="no">Hash</span><span class="p">.</span><span class="nf">new</span>
h<span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="no">Foo</span><span class="p">.</span><span class="nf">new</span><span class="p">)</span> <span class="c1">#暗黙の変換
</span><span class="nb">p</span> h <span class="c1">#=&gt; {:japan=&gt;&quot;kyoto&quot;}
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/dup.html">Hash#dup</a>,<a href="../method/-hash/i/merge.html">Hash#merge</a>,<a href="../method/-object/i/to_hash.html">Object#to_hash</a>
</p>
</dd>


<dt class="method-heading" id="I_SELECT"><code>select -&gt; Enumerator</code><span class="permalink">[<a href="../method/-hash/i/select.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-select">rdoc</a>]</span></dt>
<dt class="method-heading"><code>select {|key, value| ... } -&gt; Hash</code></dt>
<dd class="method-description">
<p>
key, value のペアについてブロックを評価し，真となるペアだけを含むハッシュを生成して返します。
</p>
<p>
ブロックが与えられなかった場合は、自身と select から生成した
<a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
</p>
<pre class="highlight ruby">
<code>
h <span class="o">=</span> <span class="p">{</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">100</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">200</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">300</span> <span class="p">}</span>
h<span class="p">.</span><span class="nf">select</span> <span class="p">{</span><span class="o">|</span>k,v<span class="o">|</span> k <span class="o">&gt;</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span><span class="p">}</span>  <span class="c1">#=&gt; {&quot;b&quot; =&gt; 200, &quot;c&quot; =&gt; 300}
</span>h<span class="p">.</span><span class="nf">select</span> <span class="p">{</span><span class="o">|</span>k,v<span class="o">|</span> v <span class="o">&lt;</span> <span class="mi">200</span><span class="p">}</span>  <span class="c1">#=&gt; {&quot;a&quot; =&gt; 100}
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/select=21.html">Hash#select!</a>, <a href="../method/-hash/i/reject.html">Hash#reject</a>
</p>
</dd>


<dt class="method-heading" id="I_SHIFT"><code>shift -&gt; [object, object] | nil</code><span class="permalink">[<a href="../method/-hash/i/shift.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-shift">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
ハッシュからキーが追加された順で先頭の要素をひとつ取り除き、
[key, value]という配列として返します。
</p>
<p>
shiftは破壊的メソッドです。selfは要素を取り除かれた残りのハッシュに変更されます。
</p>
<p>
ハッシュが空の場合、デフォルト値（<a href="../method/-hash/i/default.html">Hash#default</a>または<a href="../method/-hash/i/default_proc.html">Hash#default_proc</a>のブロックの値か、どちらもnilならばnil）を返します(このとき、[key,value] という形式の値を返すわけではないことに注意)。
</p>
<p>
将来のバージョン(Ruby 3.2を予定)ではデフォルト値に関わらず nil になる予定なので、デフォルト値を設定しているハッシュで
shift を使う場合は注意してください。(<a class="external" href="https://bugs.ruby-lang.org/issues/16908">[bug#16908]</a>)
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="p">{</span><span class="ss">:ab</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">some</span><span class="s2">"</span> , <span class="ss">:cd</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">all</span><span class="s2">"</span><span class="p">}</span>
<span class="nb">p</span> h<span class="p">.</span><span class="nf">shift</span>               <span class="c1">#=&gt; [:ab, &quot;some&quot;]
</span><span class="nb">p</span> h<span class="p">.</span><span class="nf">shift</span>               <span class="c1">#=&gt; [:cd, &quot;all&quot;]
</span><span class="nb">p</span> h                     <span class="c1">#=&gt; {}
</span><span class="nb">p</span> h<span class="p">.</span><span class="nf">shift</span>               <span class="c1">#=&gt; nil
</span>
h1 <span class="o">=</span> <span class="no">Hash</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"</span><span class="s2">default value</span><span class="s2">"</span><span class="p">)</span>
<span class="nb">p</span> h1                    <span class="c1">#=&gt; {}
</span><span class="nb">p</span> h1<span class="p">.</span><span class="nf">shift</span>              <span class="c1">#=&gt; &quot;default value&quot;
</span>
h2 <span class="o">=</span> <span class="no">Hash</span><span class="p">.</span><span class="nf">new</span> <span class="p">{</span><span class="o">|</span><span class="o">*</span>arg<span class="o">|</span> arg<span class="p">}</span>
<span class="nb">p</span> h2                    <span class="c1">#=&gt; {}
</span><span class="nb">p</span> h2<span class="p">.</span><span class="nf">shift</span>              <span class="c1">#=&gt; [{}, nil]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/shift.html">Array#shift</a>
</p>
</dd>


<dt class="method-heading" id="I_SLICE"><code>slice(*keys) -&gt; Hash</code><span class="permalink">[<a href="../method/-hash/i/slice.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-slice">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
引数で指定されたキーとその値だけを含む Hash を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="p">{</span> <span class="ss">a:</span> <span class="mi">100</span>, <span class="ss">b:</span> <span class="mi">200</span>, <span class="ss">c:</span> <span class="mi">300</span> <span class="p">}</span>
h<span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="ss">:a</span><span class="p">)</span>           <span class="c1"># =&gt; {:a=&gt;100}
</span>h<span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="ss">:c</span>, <span class="ss">:b</span><span class="p">)</span>       <span class="c1"># =&gt; {:c=&gt;300, :b=&gt;200}
</span>h<span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="ss">:b</span>, <span class="ss">:c</span>, <span class="ss">:d</span><span class="p">)</span>   <span class="c1"># =&gt; {:b=&gt;200, :c=&gt;300}
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-e-n-v/s/slice.html">ENV.slice</a>
</p>
</dd>


<dt class="method-heading" id="I_TO_A"><code>to_a -&gt; [Array]</code><span class="permalink">[<a href="../method/-hash/i/to_a.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-to_a">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
キーと値からなる 2 要素の配列を並べた配列を生成して返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h1 <span class="o">=</span> <span class="p">{</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">100</span>, <span class="mi">2</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"</span><span class="s2">some</span><span class="s2">"</span><span class="p">]</span>, <span class="ss">:c</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span> <span class="p">}</span>
<span class="nb">p</span> h1<span class="p">.</span><span class="nf">to_a</span>           <span class="c1">#=&gt; [[&quot;a&quot;, 100], [2, [&quot;some&quot;]], [:c, &quot;c&quot;]]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/keys.html">Hash#keys</a>,<a href="../method/-hash/i/values.html">Hash#values</a>
</p>
</dd>


<dt class="method-heading" id="I_TO_H"><code>to_h -&gt; self | Hash</code><span class="permalink">[<a href="../method/-hash/i/to_h.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-to_h">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self を返します。<a href="../class/-hash.html">Hash</a> クラスのサブクラスから呼び出した場合は
self を <a href="../class/-hash.html">Hash</a> オブジェクトに変換します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">hash</span> <span class="o">=</span> <span class="p">{</span><span class="p">}</span>
<span class="nb">p</span> <span class="nb">hash</span><span class="p">.</span><span class="nf">to_h</span>      <span class="c1"># =&gt; {}
</span><span class="nb">p</span> <span class="nb">hash</span><span class="p">.</span><span class="nf">to_h</span> <span class="o">==</span> <span class="nb">hash</span> <span class="c1"># =&gt; true
</span>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">MyHash</span> <span class="o">&lt;</span> <span class="no">Hash</span>;<span class="k">end</span>
my_hash <span class="o">=</span> <span class="no">MyHash</span><span class="p">.</span><span class="nf">new</span>
<span class="nb">p</span> my_hash<span class="p">.</span><span class="nf">to_h</span>        <span class="c1"># =&gt; {}
</span><span class="nb">p</span> my_hash<span class="p">.</span><span class="nf">class</span>       <span class="c1"># =&gt; MyHash
</span><span class="nb">p</span> my_hash<span class="p">.</span><span class="nf">to_h</span><span class="p">.</span><span class="nf">class</span>  <span class="c1"># =&gt; Hash
</span></code></pre>
</dd>


<dt class="method-heading" id="I_TO_HASH"><code>to_hash -&gt; self</code><span class="permalink">[<a href="../method/-hash/i/to_hash.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-to_hash">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">hash</span> <span class="o">=</span> <span class="p">{</span><span class="p">}</span>
<span class="nb">p</span> <span class="nb">hash</span><span class="p">.</span><span class="nf">to_hash</span>         <span class="c1"># =&gt; {}
</span><span class="nb">p</span> <span class="nb">hash</span><span class="p">.</span><span class="nf">to_hash</span> <span class="o">==</span> <span class="nb">hash</span> <span class="c1"># =&gt; true
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/to_hash.html">Object#to_hash</a>, <a href="../method/-hash/i/to_h.html">Hash#to_h</a>
</p>
</dd>


<dt class="method-heading" id="I_TO_PROC"><code>to_proc -&gt; Proc</code><span class="permalink">[<a href="../method/-hash/i/to_proc.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-to_proc">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self のキーに対応する値を返す <a href="../class/-proc.html">Proc</a> オブジェクトを返します。
</p>
<pre class="highlight ruby">
<code>
h <span class="o">=</span> <span class="p">{</span><span class="mi">1</span> <span class="o">=&gt;</span> <span class="mi">10</span>, <span class="mi">2</span> <span class="o">=&gt;</span> <span class="mi">20</span>, <span class="mi">3</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">}</span>
<span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span><span class="p">.</span><span class="nf">map</span><span class="p">(</span><span class="o">&amp;</span>h<span class="p">)</span> <span class="c1"># =&gt; [10, 20, 30]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_TRANSFORM_KEYS"><code>transform_keys {|key| ... } -&gt; Hash</code><span class="permalink">[<a href="../method/-hash/i/transform_keys.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-transform_keys">rdoc</a>]</span></dt>
<dt class="method-heading"><code>transform_keys -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
すべてのキーに対してブロックを呼び出した結果で置き換えたハッシュを返します。値は変化しません。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="p">{</span> <span class="ss">a:</span> <span class="mi">1</span>, <span class="ss">b:</span> <span class="mi">2</span>, <span class="ss">c:</span> <span class="mi">3</span> <span class="p">}</span>
h<span class="p">.</span><span class="nf">transform_keys</span> <span class="p">{</span><span class="o">|</span>k<span class="o">|</span> k<span class="p">.</span><span class="nf">to_s</span> <span class="p">}</span>   <span class="c1"># =&gt; {&quot;a&quot;=&gt;1, &quot;b&quot;=&gt;2, &quot;c&quot;=&gt;3}
</span>h<span class="p">.</span><span class="nf">transform_keys</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:to_s</span><span class="p">)</span>         <span class="c1"># =&gt; {&quot;a&quot;=&gt;1, &quot;b&quot;=&gt;2, &quot;c&quot;=&gt;3}
</span>h<span class="p">.</span><span class="nf">transform_keys</span><span class="p">.</span><span class="nf">with_index</span> <span class="p">{</span><span class="o">|</span>k, i<span class="o">|</span> <span class="s2">"</span><span class="si">#{</span><span class="n">k</span><span class="si">}</span><span class="s2">.</span><span class="si">#{</span><span class="n">i</span><span class="si">}</span><span class="s2">"</span> <span class="p">}</span>
                                 <span class="c1"># =&gt; {&quot;a.0&quot;=&gt;1, &quot;b.1&quot;=&gt;2, &quot;c.2&quot;=&gt;3}
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/transform_keys=21.html">Hash#transform_keys!</a>
</p>
<p>
[SEE_ALSO] <a href="../method/-hash/i/transform_values.html">Hash#transform_values</a>
</p>
<p>
[SEE_ALSO] <a href="../method/-hash/i/transform_values=21.html">Hash#transform_values!</a>
</p>
</dd>


<dt class="method-heading" id="I_TRANSFORM_KEYS--21"><code>transform_keys! {|key| ... } -&gt; self</code><span class="permalink">[<a href="../method/-hash/i/transform_keys=21.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-transform_keys-21">rdoc</a>]</span></dt>
<dt class="method-heading"><code>transform_keys! -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
すべての値に対してブロックを呼び出した結果でハッシュのキーを変更します。値は変化しません。
</p>
<dl>
<dt>[RETURN]</dt>
<dd>
transform_keys! は常に self を返します。ブロックが与えられなかった場合は、<a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="p">{</span> <span class="ss">a:</span> <span class="mi">1</span>, <span class="ss">b:</span> <span class="mi">2</span>, <span class="ss">c:</span> <span class="mi">3</span> <span class="p">}</span>
h<span class="p">.</span><span class="nf">transform_keys!</span> <span class="p">{</span><span class="o">|</span>k<span class="o">|</span> k<span class="p">.</span><span class="nf">to_s</span> <span class="p">}</span>   <span class="c1"># =&gt; {&quot;a&quot;=&gt;1, &quot;b&quot;=&gt;2, &quot;c&quot;=&gt;3}
</span>h<span class="p">.</span><span class="nf">transform_keys!</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:to_sym</span><span class="p">)</span>       <span class="c1"># =&gt; {:a=&gt;1, :b=&gt;2, :c=&gt;3}
</span>h<span class="p">.</span><span class="nf">transform_keys!</span><span class="p">.</span><span class="nf">with_index</span> <span class="p">{</span><span class="o">|</span>k, i<span class="o">|</span> <span class="s2">"</span><span class="si">#{</span><span class="n">k</span><span class="si">}</span><span class="s2">.</span><span class="si">#{</span><span class="n">i</span><span class="si">}</span><span class="s2">"</span> <span class="p">}</span>
                                  <span class="c1"># =&gt; {&quot;a.0&quot;=&gt;1, &quot;b.1&quot;=&gt;2, &quot;c.2&quot;=&gt;3}
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/transform_keys.html">Hash#transform_keys</a>
</p>
<p>
[SEE_ALSO] <a href="../method/-hash/i/transform_values.html">Hash#transform_values</a>
</p>
<p>
[SEE_ALSO] <a href="../method/-hash/i/transform_values=21.html">Hash#transform_values!</a>
</p>
</dd>


<dt class="method-heading" id="I_TRANSFORM_VALUES"><code>transform_values {|value| ... } -&gt; Hash</code><span class="permalink">[<a href="../method/-hash/i/transform_values.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-transform_values">rdoc</a>]</span></dt>
<dt class="method-heading"><code>transform_values -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
すべての値に対してブロックを呼び出した結果で置き換えたハッシュを返します。キーは変化しません。
</p>
<dl>
<dt>[RETURN]</dt>
<dd>
置き換えたハッシュを返します。ブロックが与えられなかった場合は、<a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="p">{</span> <span class="ss">a:</span> <span class="mi">1</span>, <span class="ss">b:</span> <span class="mi">2</span>, <span class="ss">c:</span> <span class="mi">3</span> <span class="p">}</span>
h<span class="p">.</span><span class="nf">transform_values</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> v <span class="o">*</span> v <span class="o">+</span> <span class="mi">1</span> <span class="p">}</span>  <span class="c1">#=&gt; { a: 2, b: 5, c: 10 }
</span>h<span class="p">.</span><span class="nf">transform_values</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:to_s</span><span class="p">)</span>           <span class="c1">#=&gt; { a: &quot;1&quot;, b: &quot;2&quot;, c: &quot;3&quot; }
</span>h<span class="p">.</span><span class="nf">transform_values</span><span class="p">.</span><span class="nf">with_index</span> <span class="p">{</span><span class="o">|</span>v, i<span class="o">|</span> <span class="s2">"</span><span class="si">#{</span><span class="n">v</span><span class="si">}</span><span class="s2">.</span><span class="si">#{</span><span class="n">i</span><span class="si">}</span><span class="s2">"</span> <span class="p">}</span>
                                     <span class="c1">#=&gt; { a: &quot;1.0&quot;, b: &quot;2.1&quot;, c: &quot;3.2&quot; }
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/transform_values=21.html">Hash#transform_values!</a>
</p>
<p>
[SEE_ALSO] <a href="../method/-hash/i/transform_keys.html">Hash#transform_keys</a>
</p>
<p>
[SEE_ALSO] <a href="../method/-hash/i/transform_keys=21.html">Hash#transform_keys!</a>
</p>
</dd>


<dt class="method-heading" id="I_TRANSFORM_VALUES--21"><code>transform_values! {|value| ... } -&gt; self</code><span class="permalink">[<a href="../method/-hash/i/transform_values=21.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-transform_values-21">rdoc</a>]</span></dt>
<dt class="method-heading"><code>transform_values! -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
すべての値に対してブロックを呼び出した結果でハッシュの値を変更します。キーは変化しません。
</p>
<dl>
<dt>[RETURN]</dt>
<dd>
transform_values! は常に self を返します。ブロックが与えられなかった場合は、<a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="p">{</span> <span class="ss">a:</span> <span class="mi">1</span>, <span class="ss">b:</span> <span class="mi">2</span>, <span class="ss">c:</span> <span class="mi">3</span> <span class="p">}</span>
h<span class="p">.</span><span class="nf">transform_values!</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> v <span class="o">*</span> v <span class="o">+</span> <span class="mi">1</span> <span class="p">}</span>  <span class="c1">#=&gt; { a: 2, b: 5, c: 10 }
</span>h<span class="p">.</span><span class="nf">transform_values!</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:to_s</span><span class="p">)</span>           <span class="c1">#=&gt; { a: &quot;2&quot;, b: &quot;5&quot;, c: &quot;10&quot; }
</span>h<span class="p">.</span><span class="nf">transform_values!</span><span class="p">.</span><span class="nf">with_index</span> <span class="p">{</span><span class="o">|</span>v, i<span class="o">|</span> <span class="s2">"</span><span class="si">#{</span><span class="n">v</span><span class="si">}</span><span class="s2">.</span><span class="si">#{</span><span class="n">i</span><span class="si">}</span><span class="s2">"</span> <span class="p">}</span>
                                      <span class="c1">#=&gt; { a: &quot;2.0&quot;, b: &quot;5.1&quot;, c: &quot;10.2&quot; }
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/transform_values.html">Hash#transform_values</a>
</p>
<p>
[SEE_ALSO] <a href="../method/-hash/i/transform_keys.html">Hash#transform_keys</a>
</p>
<p>
[SEE_ALSO] <a href="../method/-hash/i/transform_keys=21.html">Hash#transform_keys!</a>
</p>
</dd>


<dt class="method-heading" id="I_VALUES"><code>values -&gt; [object]</code><span class="permalink">[<a href="../method/-hash/i/values.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-values">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
ハッシュの全値の配列を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h1 <span class="o">=</span> <span class="p">{</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span> <span class="o">=&gt;</span> <span class="mi">100</span>, <span class="mi">2</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"</span><span class="s2">some</span><span class="s2">"</span><span class="p">]</span>, <span class="ss">:c</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span> <span class="p">}</span>
<span class="nb">p</span> h1<span class="p">.</span><span class="nf">values</span>         <span class="c1">#=&gt; [100, [&quot;some&quot;], &quot;c&quot;]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/keys.html">Hash#keys</a>,<a href="../method/-hash/i/to_a.html">Hash#to_a</a>
</p>
</dd>


<dt class="method-heading" id="I_VALUES_AT"><code>values_at(*keys) -&gt; [object]</code><span class="permalink">[<a href="../method/-hash/i/values_at.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.5.9/Hash.html#method-i-values_at">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
引数で指定されたキーに対応する値の配列を返します。
</p>
<p>
キーに対応する要素がなければデフォルト値が使用されます。
</p>
<dl>
<dt class='method-param'>[PARAM] keys:</dt>
<dd>
キーを 0 個以上指定します。
</dd>
<dt>[RETURN]</dt>
<dd>
引数で指定されたキーに対応する値の配列を返します。引数が指定されなかった場合は、空の配列を返します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
h <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="o">=&gt;</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="mi">2</span><span class="o">=&gt;</span><span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="mi">3</span><span class="o">=&gt;</span><span class="s2">"</span><span class="s2">c</span><span class="s2">"</span><span class="p">}</span>

<span class="nb">p</span> h<span class="p">.</span><span class="nf">values_at</span><span class="p">(</span><span class="mi">1</span>,<span class="mi">3</span>,<span class="mi">4</span><span class="p">)</span>               <span class="c1">#=&gt; [&quot;a&quot;, &quot;c&quot;, nil]
</span><span class="c1"># [h[1], h[3] ,h[4]] と同じ
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/=5b=5d.html">Hash#[]</a>, <a href="../method/-hash/s/new.html">Hash.new</a>, <a href="../method/-hash/i/default.html">Hash#default</a>, <a href="../method/-hash/i/default_proc.html">Hash#default_proc</a>, <a href="../method/-array/i/values_at.html">Array#values_at</a>
</p>
</dd>


</dl>

</main>

<footer id="footer">
  <a rel="license" href="https://creativecommons.org/licenses/by/3.0/">
    <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/3.0/88x31.png" />
  </a>

  <a href="https://github.com/rurema/doctree/issues/new" id="feedback-link">フィードバックを送る</a>
  
  <script>if (window.URLSearchParams) { document.getElementById("feedback-link").search = new URLSearchParams({'body': document.location}); }</script>
</footer>
</body>
</html>
