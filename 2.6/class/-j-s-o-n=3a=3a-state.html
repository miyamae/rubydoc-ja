<!DOCTYPE html>
<html lang="ja-JP">
<head>

<meta name="robots" content="noindex">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../style.css">
<link rel="stylesheet" href="../syntax-highlight.css">
<link rel="icon" type="image/png" href="../rurema.png">

<title>class JSON::State (Ruby 2.6.10 リファレンスマニュアル)</title>
<meta name="description" content="Ruby オブジェクトから JSON 形式の文字列を生成する間、
JSON 形式の文字列を生成するための設定を保持しておくために使用するクラスです。">
<script src="../script.js"></script>
</head>
<body>


<header>
  <nav>
    <ol class="inline-breadcrumb-list">
      <li>
        <a href="../doc/index.html">Ruby 2.6.10 リファレンスマニュアル</a>
      </li>
      <li>
        <a href="../library/index.html">ライブラリ一覧</a>
      </li>
      <li>
        <a href="../library/json.html">jsonライブラリ</a>
      </li>
      <li>
        JSON::Stateクラス
      </li>
    </ol>
  </nav>

<h1>class JSON::State</h1>
</header>

<main>



  <nav>
    クラス・モジュールの継承リスト:
    <ol class="inline-ancestors-list">
      
        <li>
          <a href="../class/-basic-object.html">BasicObject</a>
        </li>
        
      
        <li>
          <a href="../class/-kernel.html">Kernel</a>
        </li>
        
      
        <li>
          <a href="../class/-object.html">Object</a>
        </li>
        
      
      <li>
        JSON::State
      </li>
    </ol>
  </nav>





<p>
  aliases: JSON::Ext::Generator::State
</p>







<h2>要約</h2>
<p>
Ruby オブジェクトから JSON 形式の文字列を生成する間、
JSON 形式の文字列を生成するための設定を保持しておくために使用するクラスです。
</p>



<h2>目次</h2>
<dl>

<dt>特異メソッド</dt>
<dd>
<ul class="class-toc">

<li><a href="#S_FROM_STATE">from_state</a></li>

<li><a href="#S_NEW">new</a></li>

</ul>
</dd>

<dt>インスタンスメソッド</dt>
<dd>
<ul class="class-toc">

<li><a href="#I_--5B--5D">[]</a></li>

<li><a href="#I_--5B--5D--3D">[]=</a></li>

<li><a href="#I_ALLOW_NAN--3F">allow_nan?</a></li>

<li><a href="#I_ARRAY_NL">array_nl</a></li>

<li><a href="#I_ARRAY_NL--3D">array_nl=</a></li>

<li><a href="#I_ASCII_ONLY--3F">ascii_only?</a></li>

<li><a href="#I_BUFFER_INITIAL_LENGTH">buffer_initial_length</a></li>

<li><a href="#I_BUFFER_INITIAL_LENGTH--3D">buffer_initial_length=</a></li>

<li><a href="#I_CHECK_CIRCULAR--3F">check_circular?</a></li>

<li><a href="#I_CONFIGURE">configure</a></li>

<li><a href="#I_DEPTH">depth</a></li>

<li><a href="#I_DEPTH--3D">depth=</a></li>

<li><a href="#I_GENERATE">generate</a></li>

<li><a href="#I_INDENT">indent</a></li>

<li><a href="#I_INDENT--3D">indent=</a></li>

<li><a href="#I_MAX_NESTING">max_nesting</a></li>

<li><a href="#I_MAX_NESTING--3D">max_nesting=</a></li>

<li><a href="#I_CONFIGURE">merge</a></li>

<li><a href="#I_OBJECT_NL">object_nl</a></li>

<li><a href="#I_OBJECT_NL--3D">object_nl=</a></li>

<li><a href="#I_QUIRKS_MODE">quirks_mode</a></li>

<li><a href="#I_QUIRKS_MODE--3D">quirks_mode=</a></li>

<li><a href="#I_QUIRKS_MODE">quirks_mode?</a></li>

<li><a href="#I_SPACE">space</a></li>

<li><a href="#I_SPACE--3D">space=</a></li>

<li><a href="#I_SPACE_BEFORE">space_before</a></li>

<li><a href="#I_SPACE_BEFORE--3D">space_before=</a></li>

<li><a href="#I_TO_H">to_h</a></li>

<li><a href="#I_TO_H">to_hash</a></li>

</ul>
</dd>

</dl>




</dl>


<h2>特異メソッド</h2>
<dl>

<dt class="method-heading" id="S_FROM_STATE"><code>from_state(options) -&gt; JSON::State</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/s/from_state.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-c-from_state">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
与えられた options によって生成した <a href="../class/-j-s-o-n=3a=3a-state.html">JSON::State</a> のインスタンスを返します。
</p>
<dl>
<dt class='method-param'>[PARAM] options:</dt>
<dd>
<a href="../class/-j-s-o-n=3a=3a-state.html">JSON::State</a> のインスタンスか、ハッシュを指定します。
</dd>
<dt>[RETURN]</dt>
<dd>
options がハッシュである場合は、それによって初期化した <a href="../class/-j-s-o-n=3a=3a-state.html">JSON::State</a> を返します。options が <a href="../class/-j-s-o-n=3a=3a-state.html">JSON::State</a> のインスタンスである場合は単に
options を返します。いずれでも無い場合は、何も設定されていない <a href="../class/-j-s-o-n=3a=3a-state.html">JSON::State</a> のインスタンスを返します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例 Hash を指定</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">json</span><span class="s2">"</span>

json_state <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">from_state</span><span class="p">(</span><span class="ss">indent:</span> <span class="s2">"</span><span class="s2">\t</span><span class="s2">"</span><span class="p">)</span>
json_state<span class="p">.</span><span class="nf">class</span>  <span class="c1"># =&gt; JSON::Ext::Generator::State
</span>json_state<span class="p">.</span><span class="nf">indent</span> <span class="c1"># =&gt; &quot;\t&quot;
</span></code></pre>
<pre class="highlight ruby">
<span class="caption">例 JSON::State を指定</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">json</span><span class="s2">"</span>

json_state <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">from_state</span><span class="p">(</span><span class="ss">indent:</span> <span class="s2">"</span><span class="s2">\t</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># JSON を出力する何らかの処理を実行する
</span>copy <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">from_state</span><span class="p">(</span>json_state<span class="p">)</span>
copy<span class="p">.</span><span class="nf">class</span>  <span class="c1"># =&gt; JSON::Ext::Generator::State
</span>copy<span class="p">.</span><span class="nf">indent</span> <span class="c1"># =&gt; &quot;\t&quot;
</span></code></pre>
</dd>


<dt class="method-heading" id="S_NEW"><code>new(options = {}) -&gt; JSON::State</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/s/new.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-c-new">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身を初期化します。
</p>
<dl>
<dt class='method-param'>[PARAM] options:</dt>
<dd>
ハッシュを指定します。指定可能なオプションは以下の通りです。
</dd>
</dl>
<dl>
<dt>:indent</dt>
<dd>
<p>
インデントに使用する文字列を指定します。デフォルトは空文字列です。
</p>
</dd>
<dt>:space</dt>
<dd>
<p>
JSON 形式の文字列のトークン間に挿入する文字列を指定します。デフォルトは空文字列です。
</p>
</dd>
<dt>:space_before</dt>
<dd>
<p>
JSON 形式の文字列中で JavaScript のオブジェクトを表す部分にある ':' の前に挿入する文字列をセットします。デフォルトは空文字列です。
</p>
</dd>
<dt>:object_nl</dt>
<dd>
<p>
JSON 形式の文字列中に現れる JavaScript のオブジェクトの行末に挿入する文字列を指定します。デフォルトは空文字列です。
</p>
</dd>
<dt>:array_nl</dt>
<dd>
<p>
JSON 形式の文字列中に現れる JavaScript の配列の行末に挿入する文字列を指定します。デフォルトは空文字列です。
</p>
</dd>
<dt>:check_circular</dt>
<dd>
<p>
真を指定した場合、生成するオブジェクトの循環をチェックします。この動作がデフォルトです。
</p>
</dd>
<dt>:allow_nan</dt>
<dd>
<p>
真を指定した場合、<a href="../method/-j-s-o-n/c/-na-n.html">JSON::NaN</a>, <a href="../method/-j-s-o-n/c/-infinity.html">JSON::Infinity</a>,
<a href="../method/-j-s-o-n/c/-minus-infinity.html">JSON::MinusInfinity</a> を生成することを許すようになります。偽を指定した場合、これらの値を生成しようとすると例外が発生します。デフォルトは偽です。
</p>
</dd>
<dt>:ascii_only</dt>
<dd>
<p>
真を指定した場合、ASCII 文字列のみを用いて JSON 形式の文字列を生成します。デフォルトは偽です。
</p>
</dd>
<dt>:buffer_initial_length</dt>
<dd>
<p>
sets the initial length of the generator's internal buffer.
</p>
</dd>
</dl>
</dd>


</dl>

<h2>インスタンスメソッド</h2>
<dl>

<dt class="method-heading" id="I_--5B--5D"><code>self[name] -&gt; object</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/=5b=5d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-5B-5D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
Return the value returned by method name.
</p>
</dd>


<dt class="method-heading" id="I_--5B--5D--3D"><code>self[name] = value</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/=5b=5d=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-5B-5D-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
Set the attribute name to value.
</p>
</dd>


<dt class="method-heading" id="I_ALLOW_NAN--3F"><code>allow_nan? -&gt; bool</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/allow_nan=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-allow_nan-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
NaN, Infinity, -Infinity を生成できる場合、真を返します。そうでない場合は偽を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">json</span><span class="s2">"</span>

json_state <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="p">{</span><span class="p">}</span><span class="p">)</span>
json_state<span class="p">.</span><span class="nf">allow_nan?</span> <span class="c1"># =&gt; false
</span>json_state <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">allow_nan:</span> <span class="k">true</span><span class="p">)</span>
json_state<span class="p">.</span><span class="nf">allow_nan?</span> <span class="c1"># =&gt; true
</span></code></pre>
<p>
[SEE_ALSO] <a class="external" href="https://tools.ietf.org/html/rfc4627">[RFC4627]</a>
</p>
</dd>


<dt class="method-heading" id="I_ARRAY_NL"><code>array_nl -&gt; String</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/array_nl.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-array_nl">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
JSON の配列の後に出力する文字列を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">json</span><span class="s2">"</span>

json_state <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="p">{</span><span class="p">}</span><span class="p">)</span>
json_state<span class="p">.</span><span class="nf">array_nl</span> <span class="c1"># =&gt; &quot;&quot;
</span>json_state <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">array_nl:</span> <span class="s2">"</span><span class="s2">\n</span><span class="s2">"</span><span class="p">)</span>
json_state<span class="p">.</span><span class="nf">array_nl</span> <span class="c1"># =&gt; &quot;\n&quot;
</span></code></pre>
</dd>


<dt class="method-heading" id="I_ARRAY_NL--3D"><code>array_nl=(str)</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/array_nl=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-array_nl-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
JSON の配列の後に出力する文字列をセットします。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">json</span><span class="s2">"</span>

json_state <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="p">{</span><span class="p">}</span><span class="p">)</span>
json_state<span class="p">.</span><span class="nf">array_nl</span>        <span class="c1"># =&gt; &quot;&quot;
</span>json_state<span class="p">.</span><span class="nf">array_nl</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">\n</span><span class="s2">"</span>
json_state<span class="p">.</span><span class="nf">array_nl</span>        <span class="c1"># =&gt; &quot;\n&quot;
</span></code></pre>
</dd>


<dt class="method-heading" id="I_ASCII_ONLY--3F"><code>ascii_only? -&gt; bool</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/ascii_only=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-ascii_only-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
ASCII 文字列のみを用いて JSON 形式の文字列を生成する場合に真を返します。そうでない場合に偽を返します。
</p>
</dd>


<dt class="method-heading" id="I_BUFFER_INITIAL_LENGTH"><code>buffer_initial_length -&gt; Integer</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/buffer_initial_length.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-buffer_initial_length">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
This integer returns the current initial length of the buffer.
</p>
</dd>


<dt class="method-heading" id="I_BUFFER_INITIAL_LENGTH--3D"><code>buffer_initial_length=(length)</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/buffer_initial_length=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-buffer_initial_length-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
This sets the initial length of the buffer to length, if length &gt; 0,
otherwise its value isn't changed.
</p>
</dd>


<dt class="method-heading" id="I_CHECK_CIRCULAR--3F"><code>check_circular? -&gt; bool</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/check_circular=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-check_circular-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
循環参照のチェックを行う場合は、真を返します。そうでない場合は偽を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例 ネストをチェックするケース</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">json</span><span class="s2">"</span>

a <span class="o">=</span> <span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span>
s <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">state</span><span class="p">.</span><span class="nf">new</span>
<span class="k">begin</span>
  <span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span>a, s<span class="p">)</span>
<span class="k">rescue</span> <span class="no">JSON</span><span class="o">::</span><span class="no">NestingError</span> <span class="o">=&gt;</span> e
  <span class="p">[</span>e, s<span class="p">.</span><span class="nf">max_nesting</span>, s<span class="p">.</span><span class="nf">check_circular?</span><span class="p">]</span> <span class="c1"># =&gt; [#&lt;JSON::NestingError: nesting of 100 is too deep&gt;, 100, true]
</span><span class="k">end</span>
</code></pre>
<pre class="highlight ruby">
<span class="caption">例 ネストをチェックしないケース</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">json</span><span class="s2">"</span>

a <span class="o">=</span> <span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span>
s2 <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">state</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">max_nesting:</span> <span class="mi">0</span><span class="p">)</span>
json <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span>a, s2<span class="p">)</span>
<span class="p">[</span>json, s2<span class="p">.</span><span class="nf">max_nesting</span>, s2<span class="p">.</span><span class="nf">check_circular?</span><span class="p">]</span> <span class="c1"># =&gt; [&quot;[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[0]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]&quot;, 0, false]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_CONFIGURE"><code>configure(options = {}) -&gt; self</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/configure.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-configure">rdoc</a>]</span></dt>
<dt class="method-heading"><code>merge(options = {}) -&gt; self</code></dt>
<dd class="method-description">
<p>
与えられたハッシュで自身を設定します。
</p>
<p>
オプションで使用するハッシュのキーについては <a href="../method/-j-s-o-n=3a=3a-state/s/new.html">JSON::State.new</a> を参照してください。
</p>
<dl>
<dt class='method-param'>[PARAM] options:</dt>
<dd>
このオブジェクトの設定をするためのハッシュを指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">json</span><span class="s2">"</span>

json_state <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">indent:</span> <span class="s2">"</span><span class="s2">\t</span><span class="s2">"</span><span class="p">)</span>
json_state<span class="p">.</span><span class="nf">indent</span> <span class="c1"># =&gt; &quot;\t&quot;
</span><span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="p">{</span><span class="ss">key1:</span> <span class="s2">"</span><span class="s2">value1</span><span class="s2">"</span>, <span class="ss">key2:</span> <span class="s2">"</span><span class="s2">value2</span><span class="s2">"</span><span class="p">}</span>, json_state<span class="p">)</span>
<span class="c1"># =&gt; &quot;{\t\&quot;key1\&quot;:\&quot;value1\&quot;,\t\&quot;key2\&quot;:\&quot;value2\&quot;}&quot;
</span>
json_state<span class="p">.</span><span class="nf">configure</span><span class="p">(</span><span class="ss">indent:</span> <span class="s2">"</span><span class="s2">  </span><span class="s2">"</span><span class="p">)</span>
json_state<span class="p">.</span><span class="nf">indent</span> <span class="c1"># =&gt; &quot;  &quot;
</span><span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="p">{</span><span class="ss">key1:</span> <span class="s2">"</span><span class="s2">value1</span><span class="s2">"</span>, <span class="ss">key2:</span> <span class="s2">"</span><span class="s2">value2</span><span class="s2">"</span><span class="p">}</span>, json_state<span class="p">)</span>
<span class="c1"># =&gt; &quot;{  \&quot;key1\&quot;:\&quot;value1\&quot;,  \&quot;key2\&quot;:\&quot;value2\&quot;}&quot;
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-j-s-o-n=3a=3a-state/s/new.html">JSON::State.new</a>
</p>
</dd>


<dt class="method-heading" id="I_DEPTH"><code>depth -&gt; Integer</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/depth.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-depth">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
This integer returns the current depth of data structure nesting.
</p>
</dd>


<dt class="method-heading" id="I_DEPTH--3D"><code>depth=(depth)</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/depth=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-depth-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
This sets the maximum level of data structure nesting in the generated
JSON to the integer depth, max_nesting = 0 if no maximum should be
checked.
</p>
</dd>


<dt class="method-heading" id="I_GENERATE"><code>generate(obj) -&gt; String</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/generate.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-generate">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
Generates a valid JSON document from object obj and returns the
result. If no valid JSON document can be created this method raises a
GeneratorError exception.
</p>
</dd>


<dt class="method-heading" id="I_INDENT"><code>indent -&gt; String</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/indent.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-indent">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
インデントに使用する文字列を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">json</span><span class="s2">"</span>

json_state <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">indent:</span> <span class="s2">"</span><span class="s2">\t</span><span class="s2">"</span><span class="p">)</span>
json_state<span class="p">.</span><span class="nf">indent</span> <span class="c1"># =&gt; &quot;\t&quot;
</span><span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="p">{</span><span class="ss">key1:</span> <span class="s2">"</span><span class="s2">value1</span><span class="s2">"</span>, <span class="ss">key2:</span> <span class="s2">"</span><span class="s2">value2</span><span class="s2">"</span><span class="p">}</span>, json_state<span class="p">)</span>
<span class="c1"># =&gt; &quot;{\t\&quot;key1\&quot;:\&quot;value1\&quot;,\t\&quot;key2\&quot;:\&quot;value2\&quot;}&quot;
</span></code></pre>
</dd>


<dt class="method-heading" id="I_INDENT--3D"><code>indent=(string)</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/indent=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-indent-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
インデントに使用する文字列をセットします。
</p>
<dl>
<dt class='method-param'>[PARAM] string:</dt>
<dd>
インデントに使用する文字列を指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">json</span><span class="s2">"</span>

json_state <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">indent:</span> <span class="s2">"</span><span class="s2">\t</span><span class="s2">"</span><span class="p">)</span>
json_state<span class="p">.</span><span class="nf">indent</span> <span class="c1"># =&gt; &quot;\t&quot;
</span><span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="p">{</span><span class="ss">key1:</span> <span class="s2">"</span><span class="s2">value1</span><span class="s2">"</span>, <span class="ss">key2:</span> <span class="s2">"</span><span class="s2">value2</span><span class="s2">"</span><span class="p">}</span>, json_state<span class="p">)</span>
<span class="c1"># =&gt; &quot;{\t\&quot;key1\&quot;:\&quot;value1\&quot;,\t\&quot;key2\&quot;:\&quot;value2\&quot;}&quot;
</span>json_state<span class="p">.</span><span class="nf">indent</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">  </span><span class="s2">"</span>
<span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="p">{</span><span class="ss">key1:</span> <span class="s2">"</span><span class="s2">value1</span><span class="s2">"</span>, <span class="ss">key2:</span> <span class="s2">"</span><span class="s2">value2</span><span class="s2">"</span><span class="p">}</span>, json_state<span class="p">)</span>
<span class="c1"># =&gt; &quot;{  \&quot;key1\&quot;:\&quot;value1\&quot;,  \&quot;key2\&quot;:\&quot;value2\&quot;}&quot;
</span></code></pre>
</dd>


<dt class="method-heading" id="I_MAX_NESTING"><code>max_nesting -&gt; Integer</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/max_nesting.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-max_nesting">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
生成される JSON 形式の文字列のネストの深さの最大値を返します。
</p>
<p>
この値がゼロである場合は、ネストの深さのチェックを行いません。
</p>
<pre class="highlight ruby">
<span class="caption">例 ネストの深さチェックを行う</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">json</span><span class="s2">"</span>

json_state <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">max_nesting:</span> <span class="mi">2</span><span class="p">)</span>
json_state<span class="p">.</span><span class="nf">max_nesting</span>            <span class="c1"># =&gt; 2
</span><span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="p">[</span><span class="p">[</span><span class="p">]</span><span class="p">]</span>, json_state<span class="p">)</span>
<span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">]</span><span class="p">]</span><span class="p">]</span>, json_state<span class="p">)</span> <span class="c1"># =&gt; JSON::NestingError
</span></code></pre>
<pre class="highlight ruby">
<span class="caption">例 ネストの深さチェックを行わない</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">json</span><span class="s2">"</span>

json_state <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">max_nesting:</span> <span class="mi">0</span><span class="p">)</span>
json_state<span class="p">.</span><span class="nf">max_nesting</span>            <span class="c1"># =&gt; 0
</span><span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span>, json_state<span class="p">)</span>
</code></pre>
</dd>


<dt class="method-heading" id="I_MAX_NESTING--3D"><code>max_nesting=(depth)</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/max_nesting=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-max_nesting-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
生成される JSON 形式の文字列のネストの深さの最大値をセットします。
</p>
<p>
この値にゼロをセットすると、ネストの深さのチェックを行いません。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">json</span><span class="s2">"</span>

json_state <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">max_nesting:</span> <span class="mi">2</span><span class="p">)</span>
json_state<span class="p">.</span><span class="nf">max_nesting</span>            <span class="c1"># =&gt; 2
</span><span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="p">[</span><span class="p">[</span><span class="p">]</span><span class="p">]</span>, json_state<span class="p">)</span>
json_state<span class="p">.</span><span class="nf">max_nesting</span> <span class="o">=</span> <span class="mi">3</span>
json_state<span class="p">.</span><span class="nf">max_nesting</span>            <span class="c1"># =&gt; 3
</span><span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span>, json_state<span class="p">)</span> <span class="c1"># =&gt; JSON::NestingError
</span></code></pre>
</dd>


<dt class="method-heading" id="I_OBJECT_NL"><code>object_nl -&gt; String</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/object_nl.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-object_nl">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
JSON 形式の文字列中に現れる JavaScript のオブジェクトの行末に挿入する文字列を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">json</span><span class="s2">"</span>

json_state <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">object_nl:</span> <span class="s2">"</span><span class="s2">"</span><span class="p">)</span>
json_state<span class="p">.</span><span class="nf">object_nl</span>             <span class="c1"># =&gt; &quot;&quot;
</span><span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="p">{</span> <span class="ss">name:</span> <span class="s2">"</span><span class="s2">tanaka</span><span class="s2">"</span>, <span class="ss">age:</span> <span class="mi">19</span> <span class="p">}</span><span class="p">]</span>, json_state<span class="p">)</span>
<span class="c1"># =&gt; [1,2,{&quot;name&quot;:&quot;tanaka&quot;,&quot;age&quot;:19}]
</span>
json_state <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">object_nl:</span> <span class="s2">"</span><span class="s2">\n</span><span class="s2">"</span><span class="p">)</span>
json_state<span class="p">.</span><span class="nf">object_nl</span>             <span class="c1"># =&gt; &quot;\n&quot;
</span><span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="p">{</span> <span class="ss">name:</span> <span class="s2">"</span><span class="s2">tanaka</span><span class="s2">"</span>, <span class="ss">age:</span> <span class="mi">19</span> <span class="p">}</span><span class="p">]</span>, json_state<span class="p">)</span>

<span class="c1"># =&gt; [1,2,{
</span><span class="c1">#    &quot;name&quot;:&quot;tanaka&quot;,
</span><span class="c1">#    &quot;age&quot;:19
</span><span class="c1">#    }]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_OBJECT_NL--3D"><code>object_nl=(string)</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/object_nl=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-object_nl-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
JSON 形式の文字列中に現れる JavaScript のオブジェクトの行末に挿入する文字列をセットします。
</p>
<dl>
<dt class='method-param'>[PARAM] string:</dt>
<dd>
JSON 形式の文字列中に現れる JavaScript のオブジェクトの行末に挿入する文字列を指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">json</span><span class="s2">"</span>

json_state <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">object_nl:</span> <span class="s2">"</span><span class="s2">"</span><span class="p">)</span>
json_state<span class="p">.</span><span class="nf">object_nl</span>             <span class="c1"># =&gt; &quot;&quot;
</span><span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="p">{</span> <span class="ss">name:</span> <span class="s2">"</span><span class="s2">tanaka</span><span class="s2">"</span>, <span class="ss">age:</span> <span class="mi">19</span> <span class="p">}</span><span class="p">]</span>, json_state<span class="p">)</span>
<span class="c1"># =&gt; [1,2,{&quot;name&quot;:&quot;tanaka&quot;,&quot;age&quot;:19}]
</span>
json_state<span class="p">.</span><span class="nf">object_nl</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">\n</span><span class="s2">"</span>
json_state<span class="p">.</span><span class="nf">object_nl</span>             <span class="c1"># =&gt; &quot;\n&quot;
</span><span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="p">{</span> <span class="ss">name:</span> <span class="s2">"</span><span class="s2">tanaka</span><span class="s2">"</span>, <span class="ss">age:</span> <span class="mi">19</span> <span class="p">}</span><span class="p">]</span>, json_state<span class="p">)</span>
 <span class="c1"># =&gt; [1,2,{
</span><span class="c1">#    &quot;name&quot;:&quot;tanaka&quot;,
</span><span class="c1">#    &quot;age&quot;:19
</span><span class="c1">#    }]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_QUIRKS_MODE"><code>quirks_mode? -&gt; bool</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/quirks_mode.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-quirks_mode">rdoc</a>]</span></dt>
<dt class="method-heading"><code>quirks_mode -&gt; bool</code></dt>
<dd class="method-description">
<p>
Returns true, if quirks mode is enabled. Otherwise returns false.
</p>
</dd>


<dt class="method-heading" id="I_QUIRKS_MODE--3D"><code>quirks_mode=(enable)</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/quirks_mode=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-quirks_mode-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
If set to true, enables the quirks_mode mode.
</p>
</dd>


<dt class="method-heading" id="I_SPACE"><code>space -&gt; String</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/space.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-space">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
JSON 形式の文字列のトークン間に挿入する文字列を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">json</span><span class="s2">"</span>

json_state <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">space:</span> <span class="s2">"</span><span class="s2">"</span><span class="p">)</span>
json_state<span class="p">.</span><span class="nf">space</span>             <span class="c1"># =&gt; &quot;&quot;
</span><span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="p">{</span> <span class="ss">name:</span> <span class="s2">"</span><span class="s2">tanaka</span><span class="s2">"</span>, <span class="ss">age:</span> <span class="mi">19</span> <span class="p">}</span><span class="p">]</span>, json_state<span class="p">)</span>
<span class="c1"># =&gt; [1,2,{&quot;name&quot;:&quot;tanaka&quot;,&quot;age&quot;:19}]
</span>
json_state <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">space:</span> <span class="s2">"</span><span class="s2">\t</span><span class="s2">"</span><span class="p">)</span>
json_state<span class="p">.</span><span class="nf">space</span>             <span class="c1"># =&gt; &quot;\t&quot;
</span><span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="p">{</span> <span class="ss">name:</span> <span class="s2">"</span><span class="s2">tanaka</span><span class="s2">"</span>, <span class="ss">age:</span> <span class="mi">19</span> <span class="p">}</span><span class="p">]</span>, json_state<span class="p">)</span>
<span class="c1"># =&gt; [1,2,{&quot;name&quot;:  &quot;tanaka&quot;,&quot;age&quot;: 19}]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_SPACE--3D"><code>space=(string)</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/space=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-space-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
JSON 形式の文字列のトークン間に挿入する文字列をセットします。
</p>
<dl>
<dt class='method-param'>[PARAM] string:</dt>
<dd>
JSON 形式の文字列のトークン間に挿入する文字列を指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">json</span><span class="s2">"</span>

json_state <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">space:</span> <span class="s2">"</span><span class="s2">"</span><span class="p">)</span>
json_state<span class="p">.</span><span class="nf">space</span>             <span class="c1"># =&gt; &quot;&quot;
</span><span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="p">{</span> <span class="ss">name:</span> <span class="s2">"</span><span class="s2">tanaka</span><span class="s2">"</span>, <span class="ss">age:</span> <span class="mi">19</span> <span class="p">}</span><span class="p">]</span>, json_state<span class="p">)</span>
<span class="c1"># =&gt; [1,2,{&quot;name&quot;:&quot;tanaka&quot;,&quot;age&quot;:19}]
</span>
json_state<span class="p">.</span><span class="nf">space</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">\t</span><span class="s2">"</span>
json_state<span class="p">.</span><span class="nf">space</span>             <span class="c1"># =&gt; &quot;\t&quot;
</span><span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="p">{</span> <span class="ss">name:</span> <span class="s2">"</span><span class="s2">tanaka</span><span class="s2">"</span>, <span class="ss">age:</span> <span class="mi">19</span> <span class="p">}</span><span class="p">]</span>, json_state<span class="p">)</span>
<span class="c1"># =&gt; [1,2,{&quot;name&quot;:  &quot;tanaka&quot;,&quot;age&quot;: 19}]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_SPACE_BEFORE"><code>space_before -&gt; String</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/space_before.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-space_before">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
JSON 形式の文字列中で JavaScript のオブジェクトを表す部分にある ':' の前に挿入する文字列を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">json</span><span class="s2">"</span>

json_state <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">space_before:</span> <span class="s2">"</span><span class="s2">"</span><span class="p">)</span>
json_state<span class="p">.</span><span class="nf">space_before</span>             <span class="c1"># =&gt; &quot;&quot;
</span><span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="p">{</span> <span class="ss">name:</span> <span class="s2">"</span><span class="s2">tanaka</span><span class="s2">"</span>, <span class="ss">age:</span> <span class="mi">19</span> <span class="p">}</span><span class="p">]</span>, json_state<span class="p">)</span>
<span class="c1"># =&gt; [1,2,{&quot;name&quot;:&quot;tanaka&quot;,&quot;age&quot;:19}]
</span>
json_state <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">space_before:</span> <span class="s2">"</span><span class="s2"> </span><span class="s2">"</span><span class="p">)</span>
json_state<span class="p">.</span><span class="nf">space_before</span>             <span class="c1"># =&gt; &quot; &quot;
</span><span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="p">{</span> <span class="ss">name:</span> <span class="s2">"</span><span class="s2">tanaka</span><span class="s2">"</span>, <span class="ss">age:</span> <span class="mi">19</span> <span class="p">}</span><span class="p">]</span>, json_state<span class="p">)</span>
<span class="c1"># =&gt; [1,2,{&quot;name&quot; :&quot;tanaka&quot;,&quot;age&quot; :19}]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_SPACE_BEFORE--3D"><code>space_before=(string)</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/space_before=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-space_before-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
JSON 形式の文字列中で JavaScript のオブジェクトを表す部分にある ':' の前に挿入する文字列をセットします。
</p>
<dl>
<dt class='method-param'>[PARAM] string:</dt>
<dd>
JSON 形式の文字列中で JavaScript のオブジェクトを表す部分にある ':' の前に挿入する文字列をセットします。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">json</span><span class="s2">"</span>

json_state <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">space_before:</span> <span class="s2">"</span><span class="s2">"</span><span class="p">)</span>
json_state<span class="p">.</span><span class="nf">space_before</span>             <span class="c1"># =&gt; &quot;&quot;
</span><span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="p">{</span> <span class="ss">name:</span> <span class="s2">"</span><span class="s2">tanaka</span><span class="s2">"</span>, <span class="ss">age:</span> <span class="mi">19</span> <span class="p">}</span><span class="p">]</span>, json_state<span class="p">)</span>
<span class="c1"># =&gt; [1,2,{&quot;name&quot;:&quot;tanaka&quot;,&quot;age&quot;:19}]
</span>
json_state<span class="p">.</span><span class="nf">space_before</span> <span class="o">=</span> <span class="s2">"</span><span class="s2"> </span><span class="s2">"</span>
json_state<span class="p">.</span><span class="nf">space_before</span>             <span class="c1"># =&gt; &quot; &quot;
</span><span class="nb">puts</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="p">{</span> <span class="ss">name:</span> <span class="s2">"</span><span class="s2">tanaka</span><span class="s2">"</span>, <span class="ss">age:</span> <span class="mi">19</span> <span class="p">}</span><span class="p">]</span>, json_state<span class="p">)</span>
<span class="c1"># =&gt; [1,2,{&quot;name&quot; :&quot;tanaka&quot;,&quot;age&quot; :19}]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_TO_H"><code>to_h -&gt; Hash</code><span class="permalink">[<a href="../method/-j-s-o-n=3a=3a-state/i/to_h.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.6.10/JSON/State.html#method-i-to_h">rdoc</a>]</span></dt>
<dt class="method-heading"><code>to_hash -&gt; Hash</code></dt>
<dd class="method-description">
<p>
自身をハッシュに変換します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">json</span><span class="s2">"</span>
<span class="nb">require</span> <span class="s2">"</span><span class="s2">pp</span><span class="s2">"</span>

json_state <span class="o">=</span> <span class="no">JSON</span><span class="o">::</span><span class="no">State</span><span class="p">.</span><span class="nf">new</span>
pp json_state<span class="p">.</span><span class="nf">to_h</span>

<span class="c1"># =&gt; {:indent=&gt;&quot;&quot;,
</span><span class="c1">#     :space=&gt;&quot;&quot;,
</span><span class="c1">#     :space_before=&gt;&quot;&quot;,
</span><span class="c1">#     :object_nl=&gt;&quot;&quot;,
</span><span class="c1">#     :array_nl=&gt;&quot;&quot;,
</span><span class="c1">#     :allow_nan=&gt;false,
</span><span class="c1">#     :ascii_only=&gt;false,
</span><span class="c1">#     :max_nesting=&gt;100,
</span><span class="c1">#     :depth=&gt;0,
</span><span class="c1">#     :buffer_initial_length=&gt;1024}
</span></code></pre>
</dd>


</dl>

</main>

<footer id="footer">
  <a rel="license" href="https://creativecommons.org/licenses/by/3.0/">
    <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/3.0/88x31.png" />
  </a>

  <a href="https://github.com/rurema/doctree/issues/new" id="feedback-link">フィードバックを送る</a>
  
  <script>if (window.URLSearchParams) { document.getElementById("feedback-link").search = new URLSearchParams({'body': document.location}); }</script>
</footer>
</body>
</html>
