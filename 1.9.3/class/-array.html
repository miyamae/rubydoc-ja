<!DOCTYPE html>
<html lang="ja-JP">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Language" content="ja-JP">
  <link rel="stylesheet" type="text/css" href="../style.css">
  <link rel="icon" type="image/png" href="../rurema.png">
  <title>class Array (Ruby 1.9.3)</title>
</head>
<body>

<p>
<a href="../doc/index.html">Ruby 1.9.3 リファレンスマニュアル</a>
&gt; <a href="../library/index.html">ライブラリ一覧</a>
&gt; <a href="../library/_builtin.html">組み込みライブラリ</a>
&gt; Arrayクラス
</p>


<h1>class Array</h1>
<p>


クラスの継承リスト: Array

      &lt; <a href="../class/-enumerable.html">Enumerable</a>
      

      &lt; <a href="../class/-object.html">Object</a>
      

      &lt; <a href="../class/-kernel.html">Kernel</a>
      

      &lt; <a href="../class/-basic-object.html">BasicObject</a>
      






<br> dynamic include:
 <a href="../class/-j-s-o-n=3a=3a-generator=3a=3a-generator-methods=3a=3a-array.html">JSON::Generator::GeneratorMethods::Array</a> (by <a href="../library/json.html">json</a>)


</p>

<h2>要約</h2>
<p>
配列クラスです。
配列は任意の Ruby オブジェクトを要素として持つことができます。
</p>
<p>
一般的には配列は配列式を使って
</p>
<pre>
[1, 2, 3]
</pre>
<p>
のように生成します。
</p>



<h2>目次</h2>
<dl>

<dt>特異メソッド</dt>
<dd>

<a href="#S_--5B--5D">[]</a>

<a href="#S_NEW">new</a>

<a href="#S_TRY_CONVERT">try_convert</a>

</dd>

<dt>インスタンスメソッド</dt>
<dd>

<a href="#I_--26">&</a>

<a href="#I_--2A">*</a>

<a href="#I_--2B">+</a>

<a href="#I_--2D">-</a>

<a href="#I_--3C--3C"><<</a>

<a href="#I_--3C--3D--3E"><=></a>

<a href="#I_--3D--3D">==</a>

<a href="#I_--5B--5D">[]</a>

<a href="#I_--5B--5D">at</a>

<a href="#I_--5B--5D--3D">[]=</a>

<a href="#I_ASSOC">assoc</a>

<a href="#I_CLEAR">clear</a>

<a href="#I_CLONE">clone</a>

<a href="#I_CLONE">dup</a>

<a href="#I_COLLECT--21">collect!</a>

<a href="#I_COLLECT--21">map!</a>

<a href="#I_COMBINATION">combination</a>

<a href="#I_COMPACT">compact</a>

<a href="#I_COMPACT">compact!</a>

<a href="#I_CONCAT">concat</a>

<a href="#I_CYCLE">cycle</a>

<a href="#I_DELETE">delete</a>

<a href="#I_DELETE_AT">delete_at</a>

<a href="#I_DELETE_IF">delete_if</a>

<a href="#I_DELETE_IF">reject!</a>

<a href="#I_EACH">each</a>

<a href="#I_EACH_INDEX">each_index</a>

<a href="#I_EMPTY--3F">empty?</a>

<a href="#I_EQL--3F">eql?</a>

<a href="#I_FETCH">fetch</a>

<a href="#I_FILL">fill</a>

<a href="#I_FIND_INDEX">find_index</a>

<a href="#I_FIND_INDEX">index</a>

<a href="#I_FIRST">first</a>

<a href="#I_FLATTEN">flatten</a>

<a href="#I_FLATTEN">flatten!</a>

<a href="#I_HASH">hash</a>

<a href="#I_INCLUDE--3F">include?</a>

<a href="#I_INSERT">insert</a>

<a href="#I_INSPECT">inspect</a>

<a href="#I_INSPECT">to_s</a>

<a href="#I_JOIN">join</a>

<a href="#I_KEEP_IF">keep_if</a>

<a href="#I_LAST">last</a>

<a href="#I_LENGTH">length</a>

<a href="#I_LENGTH">size</a>

<a href="#I_PACK">pack</a>

<a href="#I_PERMUTATION">permutation</a>

<a href="#I_POP">pop</a>

<a href="#I_PRODUCT">product</a>

<a href="#I_PUSH">push</a>

<a href="#I_RASSOC">rassoc</a>

<a href="#I_REPEATED_COMBINATION">repeated_combination</a>

<a href="#I_REPEATED_PERMUTATION">repeated_permutation</a>

<a href="#I_REPLACE">replace</a>

<a href="#I_REVERSE">reverse</a>

<a href="#I_REVERSE">reverse!</a>

<a href="#I_REVERSE_EACH">reverse_each</a>

<a href="#I_RINDEX">rindex</a>

<a href="#I_ROTATE">rotate</a>

<a href="#I_ROTATE--21">rotate!</a>

<a href="#I_SAMPLE">sample</a>

<a href="#I_SELECT--21">select!</a>

<a href="#I_SHIFT">shift</a>

<a href="#I_SHUFFLE">shuffle</a>

<a href="#I_SHUFFLE--21">shuffle!</a>

<a href="#I_SLICE">slice</a>

<a href="#I_SLICE--21">slice!</a>

<a href="#I_SORT">sort</a>

<a href="#I_SORT">sort!</a>

<a href="#I_SORT_BY--21">sort_by!</a>

<a href="#I_TO_A">to_a</a>

<a href="#I_TO_ARY">to_ary</a>

<a href="#I_TRANSPOSE">transpose</a>

<a href="#I_UNIQ">uniq</a>

<a href="#I_UNIQ">uniq!</a>

<a href="#I_UNSHIFT">unshift</a>

<a href="#I_VALUES_AT">values_at</a>

<a href="#I_ZIP">zip</a>

<a href="#I_--7C">|</a>

</dd>

</dl>


<h2>特異メソッド</h2>
<dl>

<dt class="method-heading" id="S_--5B--5D"><code>self[*item] -&gt; Array</code><span class="permalink">[<a href="../method/-array/s/=5b=5d.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-c-5B-5D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
引数 item を要素として持つ配列を生成して返します。
</p>
<p>
<a href="../class/-array.html">Array</a> のサブクラスを作成したしたときに、そのサブクラスのインスタンスを作成
しやすくするために用意されている。
</p>
<dl>
<dt class='method-param'>[PARAM] item:</dt>
<dd>
配列の要素を指定します。
</dd>
</dl>
<p>
例:
</p>
<pre>
Array[1, 2, 3] #=&gt; [1, 2, 3]

class SubArray &lt; Array
  # ...
end
p SubArray[1, 2, 3] # =&gt; [1, 2, 3]
</pre>
</dd>


<dt class="method-heading" id="S_NEW"><code>new(size = 0, val = nil) -&gt; Array</code><span class="permalink">[<a href="../method/-array/s/new.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-c-new">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
長さ size の配列を生成し、各要素を val で初期化して返します。
</p>
<p>
要素毎に val が複製されるわけではないことに注意してください。
全要素が同じオブジェクト val を参照します[[trap:Array]]。
後述の例では、配列の各要素は全て同一の文字列を指します。
</p>
<dl>
<dt class='method-param'>[PARAM] size:</dt>
<dd>
配列の長さを数値で指定します。
</dd>
<dt class='method-param'>[PARAM] val:</dt>
<dd>
配列の要素の値を指定します。
</dd>
</dl>
<p>
例:
</p>
<pre>
ary = Array.new(3, &quot;foo&quot;)
p ary                     #=&gt; [&quot;foo&quot;, &quot;foo&quot;, &quot;foo&quot;]
ary[0].capitalize!
p ary                     #=&gt; [&quot;Foo&quot;, &quot;Foo&quot;, &quot;Foo&quot;]  (各要素は同一のオブジェクトである)
</pre>
</dd>
<dt class="method-heading" id="S_NEW"><code>new(ary) -&gt; Array</code><span class="permalink">[<a href="../method/-array/s/new.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-c-new">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
指定された配列 ary を複製して返します。
<a href="../method/-array/i/dup.html">Array#dup</a> 同様 要素を複製しない浅い複製です。
</p>
<dl>
<dt class='method-param'>[PARAM] ary:</dt>
<dd>
複製したい配列を指定します。
</dd>
</dl>
<p>
例:
</p>
<pre>
p Array.new([1,2,3]) # =&gt; [1,2,3]

a = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
b = Array.new(a)
a.each{|s| s.capitalize! }
p a                        #=&gt; [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]
p b                        #=&gt; [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]   (b は a と要素を共有する)
</pre>
</dd>
<dt class="method-heading" id="S_NEW"><code>new(size) {|index| ... } -&gt; Array</code><span class="permalink">[<a href="../method/-array/s/new.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-c-new">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
長さ size の配列を生成し、各要素のインデックスを引数としてブロックを実行し、
各要素の値をブロックの評価結果に設定します。
</p>
<p>
ブロックは要素毎に実行されるので、全要素をあるオブジェクトの複製にすることができます。
</p>
<dl>
<dt class='method-param'>[PARAM] size:</dt>
<dd>
配列の長さを数値で指定します。
</dd>
</dl>
<p>
例:
</p>
<pre>
ary = Array.new(3){|index| &quot;hoge#{index}&quot;}
p ary                      #=&gt; [&quot;hoge0&quot;, &quot;hoge1&quot;, &quot;hoge2&quot;]
</pre>
<p>
例:
</p>
<pre>
ary = Array.new(3){ &quot;foo&quot; }
p ary                      #=&gt; [&quot;foo&quot;, &quot;foo&quot;, &quot;foo&quot;]
ary[0].capitalize!
p ary                      #=&gt; [&quot;Foo&quot;, &quot;foo&quot;, &quot;foo&quot;]  (各要素は違うオブジェクトである)
</pre>
</dd>


<dt class="method-heading" id="S_TRY_CONVERT"><code>try_convert(obj) -&gt; Array | nil</code><span class="permalink">[<a href="../method/-array/s/try_convert.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-c-try_convert">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
to_ary メソッドを用いて obj を配列に変換しようとします。
</p>
<p>
何らかの理由で変換できないときには nil を返します。
このメソッドは引数が配列であるかどうかを調べるために使えます。
</p>
<p>
例:
</p>
<pre>
Array.try_convert([1])   # =&gt; [1]
Array.try_convert(&quot;1&quot;)   # =&gt; nil

if tmp = Array.try_convert(arg)
  # the argument is an array
elsif tmp = String.try_convert(arg)
  # the argument is a string
end
</pre>
</dd>


</dl>

<h2>インスタンスメソッド</h2>
<dl>

<dt class="method-heading" id="I_--26"><code>self &amp; other -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/=26.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-26">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
集合の積演算です。両方の配列に含まれる要素からなる新しい配列を返
します。重複する要素は取り除かれます。
</p>
<p>
要素の重複判定は、<a href="../method/-object/i/eql=3f.html">Object#eql?</a> により行われます。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
配列を指定します。
配列以外のオブジェクトを指定した場合は to_ary メソッドによ
る暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に配列以外の(暗黙の型変換が行えない)オブジェクトを
指定した場合に発生します。
</dd>
</dl>
<pre>
[1, 1, 2, 3] &amp; [1, 3, 4] #=&gt; [1, 3]
</pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/=7c.html">Array#|</a>
</p>
</dd>


<dt class="method-heading" id="I_--2A"><code>self * times -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/=2a.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-2A">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
配列の内容を times 回 繰り返した新しい配列を作成して返します。
値はコピーされないことに注意してください[[trap:Array]]。
</p>
<dl>
<dt class='method-param'>[PARAM] times:</dt>
<dd>
繰り返したい回数を整数で指定します。
整数以外のオブジェクトを指定した場合は to_int メソッドによ
る暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを
指定した場合に発生します。
</dd>
<dt>[EXCEPTION] ArgumentError:</dt>
<dd>
引数に負の数を指定した場合に発生します。
</dd>
</dl>
<pre>
p [1, 2, 3] * 3  #=&gt; [1, 2, 3, 1, 2, 3, 1, 2, 3]
</pre>
</dd>
<dt class="method-heading" id="I_--2A"><code>self * sep -&gt; String</code><span class="permalink">[<a href="../method/-array/i/=2a.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-2A">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
指定された sep を間にはさんで連結した文字列を生成して返します。<a href="../method/-array/i/join.html">Array#join</a>(sep) と同じ動作をします。
</p>
<dl>
<dt class='method-param'>[PARAM] sep:</dt>
<dd>
文字列を指定します。
文字列以外のオブジェクトを指定した場合は to_str メソッドによ
る暗黙の型変換を試みます。
</dd>
</dl>
<pre>
p [1,2,3] * &quot;,&quot;
# =&gt; &quot;1,2,3&quot;
</pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/join.html">Array#join</a>
</p>
</dd>


<dt class="method-heading" id="I_--2B"><code>self + other -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/=2b.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-2B">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身と other の内容を繋げた配列を生成して返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身と繋げたい配列を指定します。
配列以外のオブジェクトを指定した場合は to_ary メソッドによ
る暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に配列以外の(暗黙の型変換が行えない)オブジェクトを
指定した場合に発生します。
</dd>
</dl>
<pre>
a = [1, 2]
b = [8, 9]
p a + b     #=&gt; [1, 2, 8, 9]
p a         #=&gt; [1, 2]        (変化なし)
p b         #=&gt; [8, 9]        (こちらも変化なし)
</pre>
</dd>


<dt class="method-heading" id="I_--2D"><code>self - other -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/=2d.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-2D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身から other の要素を取り除いた配列を生成して返します。
</p>
<p>
要素の同一性は <a href="../method/-object/i/eql=3f.html">Object#eql?</a> により評価されます。
self 中で重複していて、other中に存在していなかった要素は、その重複が保持されます。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身から取り除きたい要素の配列を指定します。
配列以外のオブジェクトを指定した場合は to_ary メソッドによ
る暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に配列以外の(暗黙の型変換が行えない)オブジェクトを
指定した場合に発生します。
</dd>
</dl>
<pre>
[1, 2, 1, 3, 1, 4, 1, 5] - [2, 3, 4, 5]       # =&gt; [1, 1, 1, 1]

[1, 2, 1, 3, 1, 4, 1, 5] - [1, 2, 3, 4, 5]    # =&gt; []
</pre>
</dd>


<dt class="method-heading" id="I_--3C--3C"><code>self &lt;&lt; obj -&gt; self</code><span class="permalink">[<a href="../method/-array/i/=3c=3c.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-3C-3C">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
指定された obj を自身の末尾に破壊的に追加します。
</p>
<pre>
ary = [1]
ary &lt;&lt; 2
p ary      # [1, 2]
</pre>
<p>
またこのメソッドは self を返すので、以下のように連続して
書くことができます。
</p>
<pre>
ary = [1]
ary &lt;&lt; 2 &lt;&lt; 3 &lt;&lt; 4
p ary   #=&gt; [1, 2, 3, 4]
</pre>
<dl>
<dt class='method-param'>[PARAM] obj:</dt>
<dd>
自身に加えたいオブジェクトを指定します。<a href="../method/-array/i/push.html">Array#push</a> と違って引数は一つしか指定できません。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-array/i/push.html">Array#push</a>
</p>
</dd>


<dt class="method-heading" id="I_--3C--3D--3E"><code>self &lt;=&gt; other -&gt; -1 | 0 | 1 | nil</code><span class="permalink">[<a href="../method/-array/i/=3c=3d=3e.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-3C-3D-3E">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身と other の各要素をそれぞれ順に &lt;=&gt; で比較していき、結果が 0 でなかった場合に
その値を返します。各要素が等しく、配列の長さも等しい場合には 0 を返します。
各要素が等しいまま一方だけ配列の末尾に達した時、自身の方が短ければ -1 をそうでなければ 1
を返します。
other に配列以外のオブジェクトを指定した場合は nil を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身と比較したい配列を指定します。
配列以外のオブジェクトを指定した場合は to_ary メソッドによ
る暗黙の型変換を試みます。
</dd>
</dl>
<pre>
[ 1, 2, 3 ] &lt;=&gt; [ 1, 3, 2 ]       #=&gt; -1
[ 1, 2, 3 ] &lt;=&gt; [ 1, 2, 3 ]       #=&gt; 0
[ 1, 2, 3 ] &lt;=&gt; [ 1, 2 ]          #=&gt; 1
</pre>
</dd>


<dt class="method-heading" id="I_--3D--3D"><code>self == other -&gt; bool</code><span class="permalink">[<a href="../method/-array/i/=3d=3d.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-3D-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身と other の各要素をそれぞれ順に == で比較し
て、全要素が等しければ true を返します。そうでない場合には false を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身と比較したい配列を指定します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-object/i/=3d=3d.html">Object#==</a>
</p>
<pre>
[ &quot;a&quot;, &quot;c&quot; ]    == [ &quot;a&quot;, &quot;c&quot;, 7 ]     #=&gt; false
[ &quot;a&quot;, &quot;c&quot;, 7 ] == [ &quot;a&quot;, &quot;c&quot;, 7 ]     #=&gt; true
[ &quot;a&quot;, &quot;c&quot;, 7 ] == [ &quot;a&quot;, &quot;d&quot;, &quot;f&quot; ]   #=&gt; false
</pre>
</dd>


<dt class="method-heading" id="I_--5B--5D"><code>self[nth] -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/=5b=5d.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-5B-5D">rdoc</a>]</span></dt>
<dt class="method-heading"><code>at(nth) -&gt; object | nil</code></dt>
<dd class="method-description">
<p>
nth 番目の要素を返します。nth 番目の要素が存在しない時には nil を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] nth:</dt>
<dd>
インデックスを整数で指定します。
先頭の要素が 0 番目になります。nth の値が負の時には末尾から
のインデックスと見倣します。末尾の要素が -1 番目になります。
整数以外のオブジェクトを指定した場合は to_int メソッドによる
暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを
指定した場合に発生します。
</dd>
</dl>
<p>
例:
</p>
<pre>
a = [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot; ]
a[0]  #=&gt; &quot;a&quot;
a[1]  #=&gt; &quot;b&quot;
a[-1] #=&gt; &quot;e&quot;
a[-2] #=&gt; &quot;d&quot;
a[10] #=&gt; nil
</pre>
</dd>
<dt class="method-heading" id="I_--5B--5D"><code>self[range] -&gt; Array | nil</code><span class="permalink">[<a href="../method/-array/i/=5b=5d.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-5B-5D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../class/-range.html">Range</a> オブジェクト range の範囲にある要素からなる部分配列を返します。
range の first の値が配列の範囲に収まらない場合 nil を返します。
range の first が end より後にある場合には空の配列を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] range:</dt>
<dd>
生成したい部分配列の範囲を <a href="../class/-range.html">Range</a> オブジェクトで指定します。
range の first や end の値が負の時には末尾からのインデックスと見倣します。末尾
の要素が -1 番目になります。
end の値が配列の範囲を越える時には、越えた分は無視されます。
</dd>
</dl>
<p>
例:
</p>
<pre>
a = [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot; ]
a[0..1]   #=&gt; [&quot;a&quot;, &quot;b&quot;]
a[0...1]  #=&gt; [&quot;a&quot;]
a[0..-1]  #=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]
a[-2..-1] #=&gt; [&quot;d&quot;, &quot;e&quot;]
a[-2..4]  #=&gt; [&quot;d&quot;, &quot;e&quot;]  (start は末尾から -2 番目、end は先頭から (4+1) 番目となる。)
a[0..10]  #=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]
a[10..11] #=&gt; nil
a[2..1]   #=&gt; []
a[-1..-2] #=&gt; []

# 特殊なケース。first が自身の長さと同じ場合には以下のようになります。
a[5]                   #=&gt; nil
a[5, 1]                #=&gt; []
a[5..10]               #=&gt; []
</pre>
</dd>
<dt class="method-heading" id="I_--5B--5D"><code>self[start, length] -&gt; Array | nil</code><span class="permalink">[<a href="../method/-array/i/=5b=5d.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-5B-5D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
start 番目から length 個の要素を含む部分配列を返します。
length が負の時、start が自身の範囲を越えた時には nil を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] start:</dt>
<dd>
生成したい部分配列の先頭のインデックスを整数で指定します。
start の値が負の時には末尾からのインデックスと見倣します。
末尾の要素が -1 番目になります。
整数以外のオブジェクトを指定した場合は to_int メソッドによ
る暗黙の型変換を試みます。
</dd>
<dt class='method-param'>[PARAM] length:</dt>
<dd>
生成したい部分配列の長さを整数で指定します。
length が start 番目からの配列の長さより長い時には、越え
た分の長さは無視されます。
整数以外のオブジェクトを指定した場合は to_int メソッドに
よる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを
指定した場合に発生します。
</dd>
</dl>
<p>
例:
</p>
<pre>
a = [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot; ]
a[0, 1]    #=&gt; [&quot;a&quot;]
a[-1, 1]   #=&gt; [&quot;e&quot;]
a[0, 10]   #=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]
a[0, 0]    #=&gt; []
a[0, -1]   #=&gt; nil
a[10, 1]   #=&gt; nil

# 特殊なケース。start が自身の長さと同じ場合には以下のようになります。
a[5]                   #=&gt; nil
a[5, 1]                #=&gt; []
a[5..10]               #=&gt; []
</pre>
</dd>


<dt class="method-heading" id="I_--5B--5D--3D"><code>self[nth] = val</code><span class="permalink">[<a href="../method/-array/i/=5b=5d=3d.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-5B-5D-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
nth 番目の要素を val に設定します。nth が配列の範囲を越える時には配列の長さを自動的に拡張し、
拡張した領域を nil で初期化します。
</p>
<dl>
<dt class='method-param'>[PARAM] nth:</dt>
<dd>
インデックスを整数で指定します。
整数以外のオブジェクトを指定した場合は to_int メソッドによる
暗黙の型変換を試みます。
</dd>
<dt class='method-param'>[PARAM] val:</dt>
<dd>
設定したい要素の値を指定します。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数 nth に整数以外の(暗黙の型変換が行えない)オブジェ
クトを指定した場合に発生します。
</dd>
<dt>[EXCEPTION] IndexError:</dt>
<dd>
指定された nth が自身の始点よりも前を指している場合に発生します。
</dd>
</dl>
<p>
例:
</p>
<pre>
a = [0, 1, 2, 3, 4, 5]
a[0] = &quot;a&quot;
p a  #=&gt; [&quot;a&quot;, 1, 2, 3, 4, 5]
a[10] = &quot;x&quot;
p a  #=&gt; [&quot;a&quot;, 1, 2, 3, 4, 5, nil, nil, nil, nil, &quot;x&quot;]

a = [0, 1, 2, 3, 4, 5]
a[-100] = 1           #=&gt; IndexError
</pre>
</dd>
<dt class="method-heading" id="I_--5B--5D--3D"><code>self[range] = val</code><span class="permalink">[<a href="../method/-array/i/=5b=5d=3d.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-5B-5D-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../class/-range.html">Range</a> オブジェクト range の範囲にある要素を配列 val の内容に置換します。
range の first が自身の末尾を越える時には配列の長さを自動的に拡張し、拡張した領域を nil で初期化します。
</p>
<pre>
ary = [0, 1, 2, 3, 4, 5]
ary[0..2] = [&quot;a&quot;, &quot;b&quot;]
p ary  # =&gt; [&quot;a&quot;, &quot;b&quot;, 3, 4, 5]

ary = [0, 1, 2]
ary[5..6] = &quot;x&quot;
p ary  # =&gt; [0, 1, 2, nil, nil, &quot;x&quot;]

ary = [0, 1, 2, 3, 4, 5]
ary[1..3] = &quot;x&quot;
p ary  # =&gt; [0, &quot;x&quot;, 4, 5]
</pre>
<dl>
<dt class='method-param'>[PARAM] range:</dt>
<dd>
設定したい配列の範囲を <a href="../class/-range.html">Range</a> オブジェクトで指定します。
range の first や end の値が負の時には末尾からのインデックスと見倣します。
末尾の要素が -1 番目になります。
range の first が end より後にある場合には first の直前に val を挿入します。
<pre>
    ary = [0, 1, 2, 3, 4, 5]
    ary[2..0] = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
    p ary   # =&gt; [0, 1, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, 2, 3, 4, 5]
</pre>
</dd>
<dt class='method-param'>[PARAM] val:</dt>
<dd>
range の範囲に設定したい要素を配列で指定します。
配列以外のオブジェクトを指定した場合は to_ary メソッドによる
暗黙の型変換を試みます。to_ary メソッドに応答できない場合は
[val] を用います。
val の要素の数の方が range の長さより大きい時には、後ろの要素がずれます。
val が空の配列 [] なら start から end までの要素が削除されます。
<pre>
    ary = [0, 1, 2, 3, 4, 5]
    ary[2..4] = []
    p ary   # =&gt; [0, 1, 5]
</pre>
</dd>
<dt>[EXCEPTION] RangeError:</dt>
<dd>
指定された範囲の始点が自身の始点よりも前にある場合に発生します。
</dd>
</dl>
<p>
例:
</p>
<pre>
a = [0, 1, 2, 3, 4, 5]
a[-10..10] = 1        #=&gt; RangeError
</pre>
</dd>
<dt class="method-heading" id="I_--5B--5D--3D"><code>self[start, length] = val</code><span class="permalink">[<a href="../method/-array/i/=5b=5d=3d.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-5B-5D-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
インデックス start から length 個の要素を配列 val の内容で置き換えます。
start が自身の末尾を越える時には配列の長さを自動的に拡張し、拡張した領域を nil で初期化します。
</p>
<pre>
ary = [0, 1, 2, 3]
ary[1, 2] = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
p ary                        #=&gt; [0, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, 3]

ary = [0, 1, 2]
ary[5, 1] = &quot;Z&quot;
p ary                        #=&gt; [0, 1, 2, nil, nil, &quot;Z&quot;]

ary = [0, 1, 2, 3]
ary[0, 10] = [&quot;a&quot;]
p ary                        #=&gt; [&quot;a&quot;]
</pre>
<dl>
<dt class='method-param'>[PARAM] start:</dt>
<dd>
置き換えたい範囲の先頭のインデックスを指定します。
start の値が負の時には末尾からのインデックスと見倣します。
末尾の要素が -1 番目になります。
整数以外のオブジェクトを指定した場合は to_int メソッドによ
る暗黙の型変換を試みます。
</dd>
<dt class='method-param'>[PARAM] length:</dt>
<dd>
置き換えたい要素の個数を指定します。
length の値が 0 のときは start の直前に val を挿入します。
整数以外のオブジェクトを指定した場合は to_int メソッドに
よる暗黙の型変換を試みます。
<pre>
    ary = [0, 1, 2, 3]
    ary[1, 0] = [&quot;inserted&quot;]
    p ary                        # =&gt; [0, &quot;inserted&quot;, 1, 2, 3]
</pre>
</dd>
<dt class='method-param'>[PARAM] val:</dt>
<dd>
設定したい要素を配列で指定します。
配列以外のオブジェクトを指定した場合は to_ary メソッドによる
暗黙の型変換を試みます。to_ary メソッドに応答できない場合は
[val] を用います。
val の長さが length と等しくない場合には、val の長さに合わせて要素が削除されたりずれたりします。
val が空の配列 [] なら start から end までの要素が削除されます。
<pre>
    a = [0, 1, 2, 3, 4, 5]
    a[2, 3] = []
    p a   # =&gt; [0, 1, 5]
</pre>
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数 start、length に整数以外の(暗黙の型変換が行えな
い)オブジェクトを指定した場合に発生します。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数 val に配列以外の(暗黙の型変換が行えない)オブジェ
クトを指定した場合に発生します。
</dd>
<dt>[EXCEPTION] IndexError:</dt>
<dd>
引数 start が自身の始点よりも前を指している場合に発生します。
</dd>
<dt>[EXCEPTION] IndexError:</dt>
<dd>
引数 length に負の数を指定した場合に発生します。
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_ASSOC"><code>assoc(key) -&gt; Array | nil</code><span class="permalink">[<a href="../method/-array/i/assoc.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-assoc">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
配列の配列を検索して、その 0 番目の要素が key に == で等しい
最初の要素を返します。該当する要素がなければ nil を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] key:</dt>
<dd>
検索するオブジェクトを指定します。
</dd>
</dl>
<pre>
ary = [[1,15], [2,25], [3,35]]
p ary.assoc(2)           # =&gt; [2, 25]
p ary.assoc(100)         # =&gt; nil
p ary.assoc(15)          # =&gt; nil
</pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/rassoc.html">Array#rassoc</a>
</p>
</dd>


<dt class="method-heading" id="I_CLEAR"><code>clear -&gt; self</code><span class="permalink">[<a href="../method/-array/i/clear.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-clear">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
配列の要素をすべて削除して空にします。
</p>
<pre>
ary = [1, 2]
ary.clear
p ary     #=&gt; []
</pre>
</dd>


<dt class="method-heading" id="I_CLONE"><code>clone -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/clone.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-clone">rdoc</a>]</span></dt>
<dt class="method-heading"><code>dup -&gt; Array</code></dt>
<dd class="method-description">
<p>
レシーバと同じ内容を持つ新しい配列を返します。
</p>
<p>
clone は frozen tainted singleton-class の情報も含めてコピーしますが、
dup は内容だけをコピーします。
またどちらのメソッドも要素それ自体のコピーはしません。
つまり「浅い(shallow)」コピーを行います。
</p>
<pre>
ary = ['string']
p ary             #=&gt; [&quot;string&quot;]
copy = ary.dup
p copy            #=&gt; [&quot;string&quot;]

ary[0][0...3] = ''
p ary             #=&gt; [&quot;ing&quot;]
p copy            #=&gt; [&quot;ing&quot;]
</pre>
</dd>


<dt class="method-heading" id="I_COLLECT--21"><code>collect! {|item| ..} -&gt; self</code><span class="permalink">[<a href="../method/-array/i/collect=21.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-collect-21">rdoc</a>]</span></dt>
<dt class="method-heading"><code>map! {|item| ..} -&gt; self</code></dt>
<dt class="method-heading"><code>collect! -&gt; Enumerator</code></dt>
<dt class="method-heading"><code>map! -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
各要素を順番にブロックに渡して評価し、その結果で要素を
置き換えます。
</p>
<p>
ブロックが与えられなかった場合は、自身と map! から生成した
<a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
</p>
<p>
例:
</p>
<pre>
ary = [1, 2, 3]
ary.map! {|i| i * 3 }
p ary   #=&gt; [3, 6, 9]

ary = [1, 2, 3]
e = ary.map!
e.each{ 1 }
p ary           #=&gt; [1, 1, 1]
</pre>
<p>
[SEE_ALSO] <a href="../method/-enumerable/i/collect.html">Enumerable#collect</a>, <a href="../class/-enumerator.html">Enumerator</a>
</p>
</dd>


<dt class="method-heading" id="I_COMBINATION"><code>combination(n) {|c| block } -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/combination.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-combination">rdoc</a>]</span></dt>
<dt class="method-heading"><code>combination(n) -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
サイズ n の組み合わせをすべて生成し、それを引数としてブロックを実行します。
</p>
<p>
得られる組み合わせの順序は保証されません。ブロックなしで呼び出されると、組み合わせ
を生成する <a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
生成される配列のサイズを整数で指定します。
整数以外のオブジェクトを指定した場合は to_int メソッドによる暗
黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを
指定した場合に発生します。
</dd>
</dl>
<p>
例:
</p>
<pre>
a = [1, 2, 3, 4]
a.combination(1).to_a  #=&gt; [[1],[2],[3],[4]]
a.combination(2).to_a  #=&gt; [[1,2],[1,3],[1,4],[2,3],[2,4],[3,4]]
a.combination(3).to_a  #=&gt; [[1,2,3],[1,2,4],[1,3,4],[2,3,4]]
a.combination(4).to_a  #=&gt; [[1,2,3,4]]
a.combination(0).to_a  #=&gt; [[]]: one combination of length 0
a.combination(5).to_a  #=&gt; []  : no combinations of length 5
</pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/permutation.html">Array#permutation</a>, <a href="../method/-array/i/repeated_combination.html">Array#repeated_combination</a>
</p>
</dd>


<dt class="method-heading" id="I_COMPACT"><code>compact -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/compact.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-compact">rdoc</a>]</span></dt>
<dt class="method-heading"><code>compact! -&gt; self | nil</code></dt>
<dd class="method-description">
<p>
compact は自身から nil を取り除いた配列を生成して返します。
compact! は自身から破壊的に nil を取り除き、変更が
行われた場合は self を、そうでなければ nil を返します。
</p>
<pre>
ary = [1, nil, 2, nil, 3, nil]
p ary.compact   #=&gt; [1, 2, 3]
p ary           #=&gt; [1, nil, 2, nil, 3, nil]
ary.compact!
p ary           #=&gt; [1, 2, 3]
p ary.compact!  #=&gt; nil
</pre>
</dd>


<dt class="method-heading" id="I_CONCAT"><code>concat(other) -&gt; self</code><span class="permalink">[<a href="../method/-array/i/concat.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-concat">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
配列 other を自身の末尾に破壊的に連結します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身と連結したい配列を指定します。
</dd>
</dl>
<pre>
array = [1, 2]
a     = [3, 4]
array.concat a
p array          # =&gt; [1, 2, 3, 4]
p a              # =&gt; [3, 4]       # こちらは変わらない
</pre>
</dd>


<dt class="method-heading" id="I_CYCLE"><code>cycle(n=nil) {|obj| block } -&gt; nil</code><span class="permalink">[<a href="../method/-array/i/cycle.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-cycle">rdoc</a>]</span></dt>
<dt class="method-heading"><code>cycle(n=nil) -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
配列の全要素を n 回(nilの場合は無限に)繰り返しブロックを呼びだします。
</p>
<p>
ブロックを省略した場合は、以上のような繰り返しを行う
<a href="../class/-enumerator.html">Enumerator</a>
を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
繰り返したい回数を整数で指定します。
整数以外のオブジェクトを指定した場合は to_int メソッドによる暗
黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを
指定した場合に発生します。
</dd>
</dl>
<p>
例:
</p>
<pre>
a = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
a.cycle {|x| puts x }  # print, a, b, c, a, b, c,.. forever.
</pre>
</dd>


<dt class="method-heading" id="I_DELETE"><code>delete(val) -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/delete.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-delete">rdoc</a>]</span></dt>
<dt class="method-heading"><code>delete(val) { ... } -&gt; object</code></dt>
<dd class="method-description">
<p>
指定された val と == で等しい要素を自身からすべて取り除きます。
等しい要素が見つかった場合は最後に見つかった要素を、
そうでない場合には nil を返します。
</p>
<p>
ブロックが与えられた場合、val と等しい要素が見つからなかったときにブロッ
クを評価してその結果を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] val:</dt>
<dd>
自身から削除したい値を指定します。
</dd>
</dl>
<pre>
array = [1, 2, 3, 2, 1]
p array.delete(2)       #=&gt; 2
p array                 #=&gt; [1, 3, 1]

# ブロックなしの引数に nil を渡すとその戻り値から削除が
# 行われたかどうかの判定をすることはできない
ary = [nil,nil,nil]
p ary.delete(nil)       #=&gt; nil
p ary                   #=&gt; []
p ary.delete(nil)       #=&gt; nil
</pre>
</dd>


<dt class="method-heading" id="I_DELETE_AT"><code>delete_at(pos) -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/delete_at.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-delete_at">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
指定された位置 pos にある要素を取り除きそれを返します。
pos が範囲外であったら nil を返します。
</p>
<p>
<a href="../method/-array/i/at.html">Array#at</a> と同様に負のインデックスで末尾から位置を指定するこ
とができます。
</p>
<dl>
<dt class='method-param'>[PARAM] pos:</dt>
<dd>
削除したい要素のインデックスを整数で指定します。
整数以外のオブジェクトを指定した場合は to_int メソッドによる
暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを
指定した場合に発生します。
</dd>
</dl>
<pre>
array = [0, 1, 2, 3, 4]
array.delete_at 2
p array             #=&gt; [0, 1, 3, 4]
</pre>
</dd>


<dt class="method-heading" id="I_DELETE_IF"><code>delete_if {|x| ... } -&gt; self</code><span class="permalink">[<a href="../method/-array/i/delete_if.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-delete_if">rdoc</a>]</span></dt>
<dt class="method-heading"><code>reject! {|x| ... } -&gt; self | nil</code></dt>
<dt class="method-heading"><code>delete_if -&gt; Enumerator</code></dt>
<dt class="method-heading"><code>reject! -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
要素を順番にブロックに渡して評価し、その結果が真になった要素をすべて削除します。
delete_if は常に self を返しますが、reject! は要素が 1 つ以上削除されれば self を、
1 つも削除されなければ nil を返します。
</p>
<p>
ブロックが与えられなかった場合は、自身と reject! から生成した
<a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
返された Enumerator オブジェクトの each メソッドには、
もとの配列に対して副作用があることに注意してください。
</p>
<p>
例:
</p>
<pre>
a = [0, 1, 2, 3, 4, 5]
a.delete_if{|x| x % 2 == 0}
p a #=&gt; [1, 3, 5]

a = [0, 1, 2, 3, 4, 5]
e = a.reject!
e.each{|i| i % 2 == 0}
p a                    #=&gt; [1, 3, 5]  もとの配列から削除されていることに注意。
</pre>
</dd>


<dt class="method-heading" id="I_EACH"><code>each {|item| .... } -&gt; self</code><span class="permalink">[<a href="../method/-array/i/each.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-each">rdoc</a>]</span></dt>
<dt class="method-heading"><code>each -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
各要素に対してブロックを評価します。
</p>
<p>
ブロックが与えられなかった場合は、自身と each から生成した
<a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
</p>
<pre>
[1, 2, 3].each do |i|
  puts i
end
#=&gt; 1
    2
    3
</pre>
</dd>


<dt class="method-heading" id="I_EACH_INDEX"><code>each_index {|index| .... } -&gt; self</code><span class="permalink">[<a href="../method/-array/i/each_index.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-each_index">rdoc</a>]</span></dt>
<dt class="method-heading"><code>each_index -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
各要素のインデックスに対してブロックを評価します。
</p>
<p>
以下と同じです。
</p>
<pre>
(0 ... ary.size).each {|index| ....  }
</pre>
<p>
ブロックが与えられなかった場合は、自身と each_index から生成した
<a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
</p>
</dd>


<dt class="method-heading" id="I_EMPTY--3F"><code>empty? -&gt; bool</code><span class="permalink">[<a href="../method/-array/i/empty=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-empty-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身の要素の数が 0 の時に真を返します。そうでない場合に false を返します。
</p>
<pre>
p [].empty?         #=&gt; true
p [1, 2, 3].empty?  #=&gt; false
</pre>
</dd>


<dt class="method-heading" id="I_EQL--3F"><code>eql?(other) -&gt; bool</code><span class="permalink">[<a href="../method/-array/i/eql=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-eql-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身と other の各要素をそれぞれ順に
<a href="../method/-object/i/eql=3f.html">Object#eql?</a> で比較して、全要素が等しければ真を返
します。そうでない場合に false を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身と比較したい配列を指定します。
</dd>
</dl>
<pre>
[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;].eql? [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]      #=&gt; true
[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;].eql? [&quot;a&quot;, &quot;c&quot;, &quot;b&quot;]      #=&gt; false
[&quot;a&quot;, &quot;b&quot;, 1].eql?   [&quot;a&quot;, &quot;b&quot;, 1.0]      #=&gt; false (1.eql?(1.0) が false なので)
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/eql=3f.html">Object#eql?</a>
</p>
</dd>


<dt class="method-heading" id="I_FETCH"><code>fetch(nth) -&gt; object</code><span class="permalink">[<a href="../method/-array/i/fetch.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-fetch">rdoc</a>]</span></dt>
<dt class="method-heading"><code>fetch(nth, ifnone) -&gt; object</code></dt>
<dt class="method-heading"><code>fetch(nth) {|nth| ... } -&gt; object</code></dt>
<dd class="method-description">
<p>
nth 番目の要素を返します。
</p>
<p>
<a href="../method/-array/i/=5b=5d.html">Array#[]</a>(nth) とは nth 番目の要素が存在しない場合の振舞いが異
なります。最初の形式では、例外 <a href="../class/-index-error.html">IndexError</a> が発生します。
二番目の形式では、引数 ifnone を返します。
三番目の形式では、ブロックを評価した結果を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] nth:</dt>
<dd>
取得したい要素のインデックスを整数で指定します。
整数以外のオブジェクトを指定した場合は to_int メソッドによる
暗黙の型変換を試みます。
</dd>
<dt class='method-param'>[PARAM] ifnone:</dt>
<dd>
要素が存在しなかった場合に返すべき値を指定します。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数 nth に整数以外の(暗黙の型変換が行えない)オブジェ
クトを指定した場合に発生します。
</dd>
<dt>[EXCEPTION] IndexError:</dt>
<dd>
引数 ifnone もブロックも指定しておらず、 nth 番目の要
素も存在しなかった場合に発生します。
</dd>
</dl>
<p>
例:
</p>
<pre>
a = [1, 2, 3, 4, 5]
begin
  p a.fetch(10)
rescue IndexError =&gt; err
  puts err #=&gt; index 10 out of array
end

p a.fetch(10, 999) #=&gt; 999

result = a.fetch(10){|nth|
  print &quot;#{nth} はありません。\n&quot;
  999
}
p result #=&gt; 999
</pre>
</dd>


<dt class="method-heading" id="I_FILL"><code>fill(val) -&gt; self</code><span class="permalink">[<a href="../method/-array/i/fill.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-fill">rdoc</a>]</span></dt>
<dt class="method-heading"><code>fill {|index| ... } -&gt; self</code></dt>
<dd class="method-description">
<p>
すべての要素に val をセットします。
</p>
<p>
このメソッドが val のコピーでなく val 自身をセットする
ことに注意してください([[trap:Array]])。
val の代わりにブロックを指定するとブロックの評価結果を値とします。
</p>
<dl>
<dt class='method-param'>[PARAM] val:</dt>
<dd>
自身にセットしたいオブジェクトを指定します。
</dd>
</dl>
<pre>
a = [0, 1, 2, 3, 4]
a.fill(10)
p a #=&gt; [10, 10, 10, 10, 10]

a = [0, 1, 2, 3, 4]
a.fill(&quot;a&quot;)
p a #=&gt; [&quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;]
a[0].capitalize!
p a #=&gt; [&quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;]
</pre>
</dd>
<dt class="method-heading" id="I_FILL"><code>fill(val, start, length = nil) -&gt; self</code><span class="permalink">[<a href="../method/-array/i/fill.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-fill">rdoc</a>]</span></dt>
<dt class="method-heading"><code>fill(val, range) -&gt; self</code></dt>
<dt class="method-heading"><code>fill(start, length = nil) {|index| ... } -&gt; self</code></dt>
<dt class="method-heading"><code>fill(range) {|index| ... } -&gt; self</code></dt>
<dd class="method-description">
<p>
配列の指定された範囲すべてに val をセットします。
</p>
<p>
範囲の始点が自身の末尾を越える時には配列の長さを自動的に拡張し、拡張した領域を nil で初期化します。
範囲の終点が自身の末尾を越える時は長さを自動的に拡張し、拡張した部分を val で初期化します。
このメソッドが val のコピーでなく val 自身をセットすることに注意してください([[trap:Array]])。
</p>
<pre>
a = [0, 1, 2]
a.fill(&quot;x&quot;, 5..10)
p a #=&gt; [0, 1, 2, nil, nil, &quot;x&quot;, &quot;x&quot;, &quot;x&quot;, &quot;x&quot;, &quot;x&quot;, &quot;x&quot;]
</pre>
<p>
val の代わりにブロックを指定するとブロックの評価結果を値とし
ます。ブロックは要素毎に実行されるので、セットする値のそれぞれをあ
るオブジェクトの複製にすることができます。
ブロックのパラメータには start からのインデックスが渡されます。
</p>
<pre>
ary = []
p ary.fill(1..2) {|i| i}         # =&gt; [nil, 1, 2]
p ary.fill(0,3) {|i| i}          # =&gt; [0, 1, 2]
p ary.fill { &quot;foo&quot; }             # =&gt; [&quot;foo&quot;, &quot;foo&quot;, &quot;foo&quot;]
p ary.collect {|v| v.object_id } # =&gt; [537770124, 537770112, 537770100]
</pre>
<dl>
<dt class='method-param'>[PARAM] val:</dt>
<dd>
自身に設定したいオブジェクトを指定します。
</dd>
<dt class='method-param'>[PARAM] start:</dt>
<dd>
val を設定する範囲の始点のインデックスを整数で指定します。start の値が負の時には末尾からのインデックスと見倣します。末尾の要素が -1 番目になります。
</dd>
<dt class='method-param'>[PARAM] length:</dt>
<dd>
val を設定する要素の個数を指定します。nil が指定された時は配列の終りまでの長さを意味します。
</dd>
<dt class='method-param'>[PARAM] range:</dt>
<dd>
val を設定する範囲を <a href="../class/-range.html">Range</a> オブジェクトで指定します。
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_FIND_INDEX"><code>find_index(val) -&gt; Integer | nil</code><span class="permalink">[<a href="../method/-array/i/find_index.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-find_index">rdoc</a>]</span></dt>
<dt class="method-heading"><code>index(val) -&gt; Integer | nil</code></dt>
<dt class="method-heading"><code>find_index {|item| ...} -&gt; Integer | nil</code></dt>
<dt class="method-heading"><code>index {|item| ...} -&gt; Integer | nil</code></dt>
<dt class="method-heading"><code>find_index -&gt; Enumerator</code></dt>
<dt class="method-heading"><code>index -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
条件に一致する最初の要素の位置を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] val:</dt>
<dd>
位置を知りたいオブジェクトを指定します。
</dd>
</dl>
<p>
指定された val と == で等しい最初の要素の位置を返します。
等しい要素がひとつもなかった場合は nil を返します。
</p>
<pre>
p [1, 0, 0, 1, 0].index(1)   #=&gt; 0
p [1, 0, 0, 0, 0].index(1)   #=&gt; 0
p [0, 0, 0, 0, 0].index(1)   #=&gt; nil
</pre>
<p>
ブロックが与えられた場合には、各要素を引数として順にブロックを実行し、
ブロックが真を返した最初の要素の位置を返します。
一つも真にならなかった場合は nil を返します。
</p>
<pre>
p [0, 1, 0, 1, 0].index {|v| v &gt; 0}   #=&gt; 1
</pre>
<p>
引数、ブロックのどちらも与えられなかった場合は、
<a href="../class/-enumerator.html">Enumerator</a> のインスタンスを返します。
</p>
<p>
[SEE_ALSO] <a href="../method/-array/i/rindex.html">Array#rindex</a>
</p>
</dd>


<dt class="method-heading" id="I_FIRST"><code>first -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/first.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-first">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
配列の先頭の要素を返します。要素がなければ nil を返します。
</p>
<pre>
p [0, 1, 2].first   #=&gt; 0
p [].first          #=&gt; nil
</pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/last.html">Array#last</a>
</p>
</dd>
<dt class="method-heading" id="I_FIRST"><code>first(n) -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/first.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-first">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
先頭の n 要素を配列で返します。n は 0 以上でなければなりません。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
取得したい要素の個数を整数で指定します。
整数以外のオブジェクトを指定した場合は to_int メソッドによる暗
黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを
指定した場合に発生します。
</dd>
<dt>[EXCEPTION] ArgumentError:</dt>
<dd>
n が負値の場合発生します。
</dd>
</dl>
<pre>
ary =  [0, 1, 2]
p ary.first(0)
p ary.first(1)
p ary.first(2)
p ary.first(3)
p ary.first(4)
# =&gt; []
     [0]
     [0, 1]
     [0, 1, 2]
     [0, 1, 2]
</pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/last.html">Array#last</a>
</p>
</dd>


<dt class="method-heading" id="I_FLATTEN"><code>flatten(lv = nil) -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/flatten.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-flatten">rdoc</a>]</span></dt>
<dt class="method-heading"><code>flatten!(lv = nil) -&gt; self | nil</code></dt>
<dd class="method-description">
<p>
flatten は自身を再帰的に平滑化した配列を生成して返します。flatten! は
自身を再帰的かつ破壊的に平滑化し、平滑化が行われた場合は self をそうでない
場合は nil を返します。
lv が指定された場合、lv の深さまで再帰的に平滑化します。
</p>
<dl>
<dt class='method-param'>[PARAM] lv:</dt>
<dd>
平滑化の再帰の深さを整数で指定します。nil を指定した場合、再
帰の深さの制限無しに平滑化します。
整数以外のオブジェクトを指定した場合は to_int メソッドによる暗
黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを
指定した場合に発生します。
</dd>
<dt>[EXCEPTION] ArgumentError:</dt>
<dd>
配列要素が自身を含むような無限にネストした配列に対して flatten を呼んだ場合に発生します。
</dd>
</dl>
<pre>
# 自身を再帰的に平滑化する例。
a = [1, [2, 3, [4], 5]]
p a.flatten                     #=&gt; [1, 2, 3, 4, 5]
p a                             #=&gt; [1, [2, 3, [4], 5]]

# 自身を破壊的に平滑化する例。
a = [[[1, [2, 3]]]]
p a.flatten!                    #=&gt; [1, 2, 3]
p a                             #=&gt; [1, 2, 3]

# 平滑化が行われない場合は nil を返す。
p [1, 2, 3].flatten!            #=&gt; nil

# 平滑化の再帰の深さを指定する例。
a = [ 1, 2, [3, [4, 5] ] ]
a.flatten(1)              #=&gt; [1, 2, 3, [4, 5]]
</pre>
</dd>


<dt class="method-heading" id="I_HASH"><code>hash -&gt; Integer</code><span class="permalink">[<a href="../method/-array/i/hash.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-hash">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身のハッシュ値を整数で返します。ハッシュ値は自身の各要素のハッシュ値から
計算されます。<a href="../method/-array/i/eql=3f.html">Array#eql?</a> で比較して等しい配列同士は同じハッシュ値を返します。
</p>
<pre>
a = [&quot;a&quot;, &quot;b&quot;, 1]
a.hash                #=&gt;  321
b = a.dup
b.hash                #=&gt;  321

[&quot;a&quot;, 1, &quot;b&quot;].hash    #=&gt;  491
[&quot;a&quot;, 1.0, &quot;b&quot;].hash  #=&gt;  466227
</pre>
</dd>


<dt class="method-heading" id="I_INCLUDE--3F"><code>include?(val) -&gt; bool</code><span class="permalink">[<a href="../method/-array/i/include=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-include-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
配列が val と == で等しい要素を持つ時に真を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] val:</dt>
<dd>
オブジェクトを指定します。
</dd>
</dl>
<pre>
a = [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ]
a.include?(&quot;b&quot;)       #=&gt; true
a.include?(&quot;z&quot;)       #=&gt; false
</pre>
</dd>


<dt class="method-heading" id="I_INSERT"><code>insert(nth, *val) -&gt; self</code><span class="permalink">[<a href="../method/-array/i/insert.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-insert">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
インデックス nth の要素の直前(nth が負の場合は直後)に第 2 引数以降の値を挿入します。
引数 val を一つも指定しなければ何もしません。
</p>
<dl>
<dt class='method-param'>[PARAM] nth:</dt>
<dd>
val を挿入する位置を整数で指定します。
整数以外のオブジェクトを指定した場合は to_int メソッドによる
暗黙の型変換を試みます。
</dd>
<dt class='method-param'>[PARAM] val:</dt>
<dd>
自身に挿入するオブジェクトを指定します。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを
指定した場合に発生します。
</dd>
</dl>
<pre>
ary = [1, 2, 3]
ary.insert(2, &quot;a&quot;, &quot;b&quot;)
p ary                  # =&gt; [1, 2, &quot;a&quot;, &quot;b&quot;, 3]
ary.insert(-2, &quot;X&quot;)
p ary                  # =&gt; [1, 2, &quot;a&quot;, &quot;b&quot;, &quot;X&quot;, 3]
</pre>
</dd>


<dt class="method-heading" id="I_INSPECT"><code>to_s -&gt; String</code><span class="permalink">[<a href="../method/-array/i/inspect.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-inspect">rdoc</a>]</span></dt>
<dt class="method-heading"><code>inspect -&gt; String</code></dt>
<dd class="method-description">
<p>
自身の情報を人間に読みやすい文字列にして返します。
</p>
<pre>
[1, 2, 3, 4].to_s    # =&gt; &quot;[1, 2, 3, 4]&quot;
[1, 2, 3, 4].inspect # =&gt; &quot;[1, 2, 3, 4]&quot;
</pre>
</dd>


<dt class="method-heading" id="I_JOIN"><code>join(sep = $,) -&gt; String</code><span class="permalink">[<a href="../method/-array/i/join.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-join">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
配列の要素を文字列 sep を間に挟んで連結した文字列を返します。
</p>
<p>
文字列でない要素に対しては、to_str があれば to_str、なければ to_s した結果を連結します。
要素がまた配列であれば再帰的に (同じ sep を利用して)
join した文字列を連結します。
ただし、配列要素が自身を含むような無限にネストした配列に対しては、以下
のような結果になります。
</p>
<pre>
ary = [1,2,3]
ary.push ary
p ary           # =&gt; [1, 2, 3, [...]]
p ary.join      # =&gt; ArgumentError: recursive array join
</pre>
<dl>
<dt class='method-param'>[PARAM] sep:</dt>
<dd>
間に挟む文字列を指定します。nil のときは空文字列を使います。
文字列以外のオブジェクトを指定した場合は to_str メソッドによ
る暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に文字列以外の(暗黙の型変換が行えない)オブジェクト
を指定した場合に発生します。
</dd>
<dt>[EXCEPTION] ArgumentError:</dt>
<dd>
配列要素が自身を含むような無限にネストした配列に対
して join を呼んだ場合に発生します。
</dd>
</dl>
<pre>
[1, 2, 3].join('-') #=&gt; &quot;1-2-3&quot;
</pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/=2a.html">Array#*</a>, <a href="../method/-kernel/v/=2c.html">$,</a>
</p>
</dd>


<dt class="method-heading" id="I_KEEP_IF"><code>keep_if {|item| ... } -&gt; self</code><span class="permalink">[<a href="../method/-array/i/keep_if.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-keep_if">rdoc</a>]</span></dt>
<dt class="method-heading"><code>keep_if -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
ブロックが false を返した要素を削除します。
</p>
<pre>
a = %w{ a b c d e f }
a.keep_if {|v| v =~ /[aeiou]/}   # =&gt; [&quot;a&quot;, &quot;e&quot;]
a # =&gt; [&quot;a&quot;, &quot;e&quot;]
</pre>
<p>
<a href="../method/-array/i/select=21.html">Array#select!</a> と同様に自身を上書きしますが、削除する要素がなかっ
た場合には修正を行いません。
</p>
<pre>
a = %w{ a b c d e f }
a.keep_if {|v| v =~ /[a-z]/ }   # =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]
a # =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]
</pre>
<p>
ブロックが与えられなかった場合は、自身と keep_if から生成した
<a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
</p>
<p>
[SEE_ALSO] <a href="../method/-array/i/select=21.html">Array#select!</a>
</p>
</dd>


<dt class="method-heading" id="I_LAST"><code>last -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/last.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-last">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
配列の末尾の要素を返します。配列が空のときは nil を返します。
</p>
<pre>
p [0, 1, 2].last   #=&gt; 2
p [].last          #=&gt; nil
</pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/first.html">Array#first</a>
</p>
</dd>
<dt class="method-heading" id="I_LAST"><code>last(n) -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/last.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-last">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
末尾の n 要素を配列で返します。n は 0 以上でなければなりません。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
取得したい要素の個数を整数で指定します。
整数以外のオブジェクトを指定した場合は to_int メソッドによる暗
黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを
指定した場合に発生します。
</dd>
<dt>[EXCEPTION] ArgumentError:</dt>
<dd>
n が負値の場合発生します。
</dd>
</dl>
<pre>
ary =  [0, 1, 2]
p ary.last(0)
p ary.last(1)
p ary.last(2)
p ary.last(3)
p ary.last(4)
# =&gt; []
     [2]
     [1, 2]
     [0, 1, 2]
     [0, 1, 2]
</pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/first.html">Array#first</a>
</p>
</dd>


<dt class="method-heading" id="I_LENGTH"><code>length -&gt; Integer</code><span class="permalink">[<a href="../method/-array/i/length.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-length">rdoc</a>]</span></dt>
<dt class="method-heading"><code>size -&gt; Integer</code></dt>
<dd class="method-description">
<p>
配列の長さを返します。配列が空のときは 0 を返します。
</p>
<pre>
p [1, nil, 3, nil].size    #=&gt; 4
</pre>
</dd>


<dt class="method-heading" id="I_PACK"><code>pack(template) -&gt; String</code><span class="permalink">[<a href="../method/-array/i/pack.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-pack">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
配列の内容を template で指定された文字列にしたがって、
バイナリとしてパックした文字列を返します。
</p>
<p>
テンプレートは
型指定文字列とその長さ(省略時は1)を並べたものです。長さと
して * が指定された時は「残りのデータ全て」の長さを
表します。型指定文字は以下で述べる pack テンプレート文字列の通りです。
</p>
<dl>
<dt class='method-param'>[PARAM] template:</dt>
<dd>
自身のバイナリとしてパックするためのテンプレートを文字列で指定します。
</dd>
</dl>
<p>
以下にあげるものは、<a href="../method/-array/i/pack.html">Array#pack</a>、<a href="../method/-string/i/unpack.html">String#unpack</a>
のテンプレート文字の一覧です。テンプレート文字は後に「長さ」を表す数字
を続けることができます。「長さ」の代わりに`*'とすることで「残り全て」
を表すこともできます。
</p>
<p>
長さの意味はテンプレート文字により異なりますが大抵、
</p>
<pre>
&quot;iiii&quot;
</pre>
<p>
のように連続するテンプレート文字は
</p>
<pre>
&quot;i4&quot;
</pre>
<p>
と書き換えることができます。
</p>
<p>
テンプレート文字列中の空白類は無視されます。
また、`#' から改行あるいはテンプレート文字列の最後まではコメントとみな
され無視されます。
</p>
<h4 >整数のテンプレート文字のシステム依存性</h4>
<p>
各テンプレート文字の説明の中で、
short や long はシステムによらずそれぞれ 2, 4バイトサ
イズの数値(32ビットマシンで一般的なshort, longのサイズ)を意味していま
す。s, S, l, L に対しては直後に _ または ! を &quot;s_&quot; あるいは &quot;s!&quot; のように
続けることでシステム依存の short, long のサイズにすることもできます。
</p>
<p>
i, I (int)のサイズは常にシステム依存であり、n, N, v, V
のサイズは常にシステム依存ではない(!をつけられない)ことに注意してください。
</p>
<p>
つまり、<a href="../method/-i-o/i/ioctl.html">IO#ioctl</a> などで C の構造体を渡すときのように、
システム依存のサイズとエンディアンに合わせる必要があるときには
s!, S!, i!, I!, l!, L!, q!, Q! を用います。
また、ネットワークプロトコルやファイルフォーマットのように、
システムに依存しないデータを扱うときには
n, N, v, V を用います。
</p>
<p>
まとめると以下のようになります。
</p>
<dl>
<dt>エンディアン非依存、整数サイズ非依存 (ネットワークプロトコルなどに適切)</dt>
<dd>
<pre>
  n: big endian unsigned 16bit
  N: big endian unsigned 32bit
  v: little endian unsigned 16bit
  V: little endian unsigned 32bit
</pre>
</dd>
<dt>エンディアン依存、整数サイズ依存 (C の構造体などに適切)</dt>
<dd>
<pre>
  s!: signed short
  S!: unsigned short
  i!: signed int
  I!: unsigned int
  l!: signed long
  L!: unsigned long
  q!: signed long long
  Q!: unsigned long long
</pre>
</dd>
<dt>エンディアン依存、整数サイズ非依存 (C99 の stdint.h にある厳密な幅を持つ整数型に適切)</dt>
<dd>
<pre>
  s: int16_t
  S: uint16_t
  l: int32_t
  L: uint32_t
</pre>
</dd>
</dl>
<h4 >各テンプレート文字の説明</h4>
<p>
説明中、<a href="../method/-array/i/pack.html">Array#pack</a> と <a href="../method/-string/i/unpack.html">String#unpack</a> で違いのあるものは `/' で区切って
「Array#pack の説明 / String#unpack の説明」としています。
</p>
<dl>
<dt>a</dt>
<dd>
<p>
ASCII文字列(null文字を詰める/後続するnull文字やスペースを残す)
</p>
<pre>
    [&quot;abc&quot;].pack(&quot;a&quot;)    # =&gt; &quot;a&quot;
    [&quot;abc&quot;].pack(&quot;a*&quot;)   # =&gt; &quot;abc&quot;
    [&quot;abc&quot;].pack(&quot;a4&quot;)   # =&gt; &quot;abc\0&quot;

    &quot;abc\0&quot;.unpack(&quot;a4&quot;) # =&gt; [&quot;abc\0&quot;]
    &quot;abc &quot;.unpack(&quot;a4&quot;)  # =&gt; [&quot;abc &quot;]
</pre>
</dd>
<dt>A</dt>
<dd>
<p>
ASCII文字列(スペースを詰める/後続するnull文字やスペースを削除)
</p>
<pre>
    [&quot;abc&quot;].pack(&quot;A&quot;)    # =&gt; &quot;a&quot;
    [&quot;abc&quot;].pack(&quot;A*&quot;)   # =&gt; &quot;abc&quot;
    [&quot;abc&quot;].pack(&quot;A4&quot;)   # =&gt; &quot;abc &quot;

    &quot;abc &quot;.unpack(&quot;A4&quot;)  # =&gt; [&quot;abc&quot;]
    &quot;abc\0&quot;.unpack(&quot;A4&quot;) # =&gt; [&quot;abc&quot;]
</pre>
</dd>
<dt>Z</dt>
<dd>
<p>
null終端文字列(長さが`*'の場合も含め、null文字を詰める/後続するnull文字を削除)
</p>
<pre>
    [&quot;abc&quot;].pack(&quot;Z&quot;)  # =&gt; &quot;a&quot;
    [&quot;abc&quot;].pack(&quot;Z*&quot;) # =&gt; &quot;abc\0&quot;
    [&quot;abc&quot;].pack(&quot;Z4&quot;) # =&gt; &quot;abc\0&quot;

    &quot;abc\0&quot;.unpack(&quot;Z4&quot;) # =&gt; [&quot;abc&quot;]
    &quot;abc &quot;.unpack(&quot;Z4&quot;)  # =&gt; [&quot;abc &quot;]
</pre>
</dd>
<dt>b</dt>
<dd>
<p>
ビットストリング(各バイトごとに下位ビットから上位ビット)
</p>
<pre>
    &quot;\377\000&quot;.unpack(&quot;b*&quot;) # =&gt; [&quot;1111111100000000&quot;]
    &quot;\001\002&quot;.unpack(&quot;b*&quot;) # =&gt; [&quot;1000000001000000&quot;]
    &quot;\001\002&quot;.unpack(&quot;b3&quot;) # =&gt; [&quot;100&quot;]


    [&quot;1000000001000000&quot;].pack(&quot;b*&quot;) # =&gt; &quot;\001\002&quot;
</pre>
</dd>
<dt>B</dt>
<dd>
<p>
ビットストリング(各バイトごとに上位ビットから下位ビット)
</p>
<pre>
    &quot;\377\000&quot;.unpack(&quot;B*&quot;)  # =&gt; [&quot;1111111100000000&quot;]
    &quot;\001\002&quot;.unpack(&quot;B*&quot;)  # =&gt; [&quot;0000000100000010&quot;]
    &quot;\001\002&quot;.unpack(&quot;B9&quot;)  # =&gt; [&quot;000000010&quot;]
    &quot;\001\002&quot;.unpack(&quot;B15&quot;) # =&gt; [&quot;000000010000001&quot;]

    [&quot;0000000100000010&quot;].pack(&quot;B*&quot;)  # =&gt; &quot;\001\002&quot;
    [&quot;0000000100000010&quot;].pack(&quot;B0&quot;)  # =&gt; &quot;&quot;
    [&quot;0000000100000010&quot;].pack(&quot;B1&quot;)  # =&gt; &quot;\000&quot;
    [&quot;0000000100000010&quot;].pack(&quot;B7&quot;)  # =&gt; &quot;\000&quot;
    [&quot;0000000100000010&quot;].pack(&quot;B8&quot;)  # =&gt; &quot;\001&quot;
    [&quot;0000000100000010&quot;].pack(&quot;B9&quot;)  # =&gt; &quot;\001\000&quot;
    [&quot;0000000100000010&quot;].pack(&quot;B14&quot;) # =&gt; &quot;\001\000&quot;
    [&quot;0000000100000010&quot;].pack(&quot;B15&quot;) # =&gt; &quot;\001\002&quot;
    [&quot;0000000100000010&quot;].pack(&quot;B16&quot;) # =&gt; &quot;\001\002&quot;
</pre>
</dd>
<dt>h</dt>
<dd>
<p>
16進文字列(下位ニブルが先)
</p>
<pre>
    &quot;\x01\xfe&quot;.unpack(&quot;h*&quot;) # =&gt; [&quot;10ef&quot;]
    &quot;\x01\xfe&quot;.unpack(&quot;h3&quot;) # =&gt; [&quot;10e&quot;]

    [&quot;10ef&quot;].pack(&quot;h*&quot;) # =&gt; &quot;\001\376&quot;
</pre>
</dd>
<dt>H</dt>
<dd>
<p>
16進文字列(上位ニブルが先)
</p>
<pre>
    &quot;\x01\xfe&quot;.unpack(&quot;H*&quot;) # =&gt; [&quot;01fe&quot;]
    &quot;\x01\xfe&quot;.unpack(&quot;H3&quot;) # =&gt; [&quot;01f&quot;]
    &quot;~&quot;.unpack(&quot;H2&quot;)        # =&gt; [&quot;7e&quot;]

    [&quot;01fe&quot;].pack(&quot;H*&quot;) # =&gt; &quot;\001\376&quot;
    [&quot;7e&quot;].pack(&quot;H2&quot;)   # =&gt; &quot;~&quot;
</pre>
</dd>
<dt>c</dt>
<dd>
<p>
char (8bit 符号つき整数)
</p>
<pre>
    &quot;\001\376&quot;.unpack(&quot;c*&quot;) # =&gt; [1, -2]

    [1, -2].pack(&quot;c*&quot;)  # =&gt; &quot;\001\376&quot;
    [1, 254].pack(&quot;c*&quot;) # =&gt; &quot;\001\376&quot;
</pre>
</dd>
<dt>C</dt>
<dd>
<p>
unsigned char (8bit 符号なし整数)
</p>
<pre>
    &quot;\001\376&quot;.unpack(&quot;C*&quot;) # =&gt; [1, 254]

    [1, -2].pack(&quot;C*&quot;)  # =&gt; &quot;\001\376&quot;
    [1, 254].pack(&quot;C*&quot;) # =&gt; &quot;\001\376&quot;
</pre>
</dd>
<dt>s</dt>
<dd>
<p>
short (16bit 符号つき整数, エンディアンに依存)
(s! は 16bit でなく、short のサイズに依存)
</p>
<p>
リトルエンディアン:
</p>
<pre>
    &quot;\001\002\376\375&quot;.unpack(&quot;s*&quot;) # =&gt; [513, -514]

    [513, 65022].pack(&quot;s*&quot;) # =&gt; &quot;\001\002\376\375&quot;
    [513, -514].pack(&quot;s*&quot;)  # =&gt; &quot;\001\002\376\375&quot;
</pre>
<p>
ビッグエンディアン:
</p>
<pre>
    &quot;\001\002\376\375&quot;.unpack(&quot;s*&quot;) # =&gt; [258, -259]

    [258, 65277].pack(&quot;s*&quot;) # =&gt; &quot;\001\002\376\375&quot;
    [258, -259].pack(&quot;s*&quot;)  # =&gt; &quot;\001\002\376\375&quot;
</pre>
</dd>
<dt>S</dt>
<dd>
<p>
unsigned short (16bit 符号なし整数, エンディアンに依存)
(S! は 16bit でなく、short のサイズに依存)
</p>
<p>
リトルエンディアン:
</p>
<pre>
    &quot;\001\002\376\375&quot;.unpack(&quot;S*&quot;) # =&gt; [513, 65022]

    [513, 65022].pack(&quot;s*&quot;) # =&gt; &quot;\001\002\376\375&quot;
    [513, -514].pack(&quot;s*&quot;)  # =&gt; &quot;\001\002\376\375&quot;
</pre>
<p>
ビッグエンディアン:
</p>
<pre>
    &quot;\001\002\376\375&quot;.unpack(&quot;S*&quot;) # =&gt; [258, 65277]

    [258, 65277].pack(&quot;S*&quot;) # =&gt; &quot;\001\002\376\375&quot;
    [258, -259].pack(&quot;S*&quot;)  # =&gt; &quot;\001\002\376\375&quot;
</pre>
</dd>
<dt>i</dt>
<dd>
<p>
int (符号つき整数, エンディアンと int のサイズに依存)
</p>
<p>
リトルエンディアン, 32bit int:
</p>
<pre>
    &quot;\001\002\003\004\377\376\375\374&quot;.unpack(&quot;i*&quot;) # =&gt; [67305985, -50462977]

    [67305985, 4244504319].pack(&quot;i*&quot;) # =&gt; RangeError
    [67305985, -50462977].pack(&quot;i*&quot;)  # =&gt; &quot;\001\002\003\004\377\376\375\374&quot;
</pre>
<p>
ビッグエンディアン, 32bit int:
</p>
<pre>
    &quot;\001\002\003\004\377\376\375\374&quot;.unpack(&quot;i*&quot;) # =&gt; [16909060, -66052]

    [16909060, 4294901244].pack(&quot;i*&quot;) # =&gt; RangeError
    [16909060, -66052].pack(&quot;i*&quot;)     # =&gt; &quot;\001\002\003\004\377\376\375\374&quot;
</pre>
</dd>
<dt>I</dt>
<dd>
<p>
unsigned int (符号なし整数, エンディアンと int のサイズに依存)
</p>
<p>
リトルエンディアン, 32bit int:
</p>
<pre>
    &quot;\001\002\003\004\377\376\375\374&quot;.unpack(&quot;I*&quot;) # =&gt; [67305985, 4244504319]

    [67305985, 4244504319].pack(&quot;I*&quot;) # =&gt; &quot;\001\002\003\004\377\376\375\374&quot;
    [67305985, -50462977].pack(&quot;I*&quot;)  # =&gt; &quot;\001\002\003\004\377\376\375\374&quot;
</pre>
<p>
ビッグエンディアン, 32bit int:
</p>
<pre>
    &quot;\001\002\003\004\377\376\375\374&quot;.unpack(&quot;I*&quot;) # =&gt; [16909060, 4294901244]

    [16909060, 4294901244].pack(&quot;I*&quot;) # =&gt; &quot;\001\002\003\004\377\376\375\374&quot;
    [16909060, -66052].pack(&quot;I*&quot;)     # =&gt; &quot;\001\002\003\004\377\376\375\374&quot;
</pre>
</dd>
<dt>l</dt>
<dd>
<p>
long (32bit 符号つき整数, エンディアンに依存)
(l! は 32bit でなく、long のサイズに依存)
</p>
<p>
リトルエンディアン, 32bit long:
</p>
<pre>
    &quot;\001\002\003\004\377\376\375\374&quot;.unpack(&quot;l*&quot;) # =&gt; [67305985, -50462977]

    [67305985, 4244504319].pack(&quot;l*&quot;) # =&gt; RangeError
    [67305985, -50462977].pack(&quot;l*&quot;)  # =&gt; &quot;\001\002\003\004\377\376\375\374&quot;
</pre>
</dd>
<dt>L</dt>
<dd>
<p>
unsigned long (32bit 符号なし整数, エンディアンに依存)
(L! は 32bit でなく、long のサイズに依存)
</p>
<p>
リトルエンディアン, 32bit long:
</p>
<pre>
    &quot;\001\002\003\004\377\376\375\374&quot;.unpack(&quot;L*&quot;) # =&gt; [67305985, 4244504319]

    [67305985, 4244504319].pack(&quot;L*&quot;) # =&gt; &quot;\001\002\003\004\377\376\375\374&quot;
    [67305985, -50462977].pack(&quot;L*&quot;)  # =&gt; &quot;\001\002\003\004\377\376\375\374&quot;
</pre>
</dd>
<dt>q</dt>
<dd>
<p>
long long (符号付き整数, エンディアンと long long のサイズに依存)
(C で long long が扱えない場合には 64bit)
</p>
<p>
リトルエンディアン, 64bit long long:
</p>
<pre>
    &quot;\001\002\003\004\005\006\007\010\377\376\375\374\373\372\371\370&quot;.unpack(&quot;q*&quot;)
    # =&gt; [578437695752307201, -506097522914230529]

    [578437695752307201, -506097522914230529].pack(&quot;q*&quot;)
    # =&gt; &quot;\001\002\003\004\005\006\a\010\377\376\375\374\373\372\371\370&quot;
    [578437695752307201, 17940646550795321087].pack(&quot;q*&quot;)
    # =&gt; &quot;\001\002\003\004\005\006\a\010\377\376\375\374\373\372\371\370&quot;
</pre>
</dd>
<dt>Q</dt>
<dd>
<p>
unsigned long long (符号なし整数, エンディアンと long long のサイズに依存)
(C で long long が扱えない場合には 64bit)
</p>
<p>
リトルエンディアン, 64bit long long:
</p>
<pre>
    &quot;\001\002\003\004\005\006\007\010\377\376\375\374\373\372\371\370&quot;.unpack(&quot;Q*&quot;)
    # =&gt; [578437695752307201, 17940646550795321087]

    [578437695752307201, 17940646550795321087].pack(&quot;Q*&quot;)
    # =&gt; &quot;\001\002\003\004\005\006\a\010\377\376\375\374\373\372\371\370&quot;
    [578437695752307201, -506097522914230529].pack(&quot;Q*&quot;)
    # =&gt; &quot;\001\002\003\004\005\006\a\010\377\376\375\374\373\372\371\370&quot;
</pre>
</dd>
<dt>m</dt>
<dd>
<p>
base64された文字列。60 オクテットごと(と最後)に改行コードが付加されます。
</p>
<p>
Base64は、3オクテット(8bits * 3 = 24bits)のバイナリコードをASCII文字の
うちの65文字 ([A-Za-z0-9+/]の64文字とpaddingのための'=')だけを使用して
4オクテット(6bits * 4 = 24bits)の印字可能文字列に変換するエンコーディ
ング法です。<a class="external" href="http://www.ietf.org/rfc/rfc2045.txt">[RFC2045]</a>, <a class="external" href="http://www.ietf.org/rfc/rfc4648.txt">[RFC4648]</a> で定義されています。
</p>
<pre>
    [&quot;&quot;].pack(&quot;m&quot;)             # =&gt; &quot;&quot;
    [&quot;\0&quot;].pack(&quot;m&quot;)           # =&gt; &quot;AA==\n&quot;
    [&quot;\0\0&quot;].pack(&quot;m&quot;)         # =&gt; &quot;AAA=\n&quot;
    [&quot;\0\0\0&quot;].pack(&quot;m&quot;)       # =&gt; &quot;AAAA\n&quot;
    [&quot;\377&quot;].pack(&quot;m&quot;)         # =&gt; &quot;/w==\n&quot;
    [&quot;\377\377&quot;].pack(&quot;m&quot;)     # =&gt; &quot;//8=\n&quot;
    [&quot;\377\377\377&quot;].pack(&quot;m&quot;) # =&gt; &quot;////\n&quot;

    [&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;].pack(&quot;m&quot;)
    # =&gt; &quot;YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJT\nVFVWV1hZWg==\n&quot;
    [&quot;abcdefghijklmnopqrstuvwxyz&quot;].pack(&quot;m3&quot;)
    # =&gt; &quot;YWJj\nZGVm\nZ2hp\namts\nbW5v\ncHFy\nc3R1\ndnd4\neXo=\n&quot;

    &quot;&quot;.unpack(&quot;m&quot;)       # =&gt; [&quot;&quot;]
    &quot;AA==\n&quot;.unpack(&quot;m&quot;) # =&gt; [&quot;\000&quot;]
    &quot;AA==&quot;.unpack(&quot;m&quot;)   # =&gt; [&quot;\000&quot;]

    &quot;YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJT\nVFVWV1hZWg==\n&quot;.unpack(&quot;m&quot;)
    # =&gt; [&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;]
    &quot;YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWg==\n&quot;.unpack(&quot;m&quot;)
    # =&gt; [&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;]
</pre>
<p>
m0 は <a class="external" href="http://www.ietf.org/rfc/rfc4648.txt">[RFC4648]</a> 対応
</p>
<pre>
    [&quot;&quot;].pack(&quot;m0&quot;)             # =&gt; &quot;&quot;
    [&quot;\0&quot;].pack(&quot;m0&quot;)           # =&gt; &quot;AA==&quot;
    [&quot;\0\0&quot;].pack(&quot;m0&quot;)         # =&gt; &quot;AAA=&quot;
    [&quot;\0\0\0&quot;].pack(&quot;m0&quot;)       # =&gt; &quot;AAAA&quot;
    [&quot;\377&quot;].pack(&quot;m0&quot;)         # =&gt; &quot;/w==&quot;
    [&quot;\377\377&quot;].pack(&quot;m0&quot;)     # =&gt; &quot;//8=&quot;
    [&quot;\377\377\377&quot;].pack(&quot;m0&quot;) # =&gt; &quot;////&quot;

    [&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;].pack(&quot;m0&quot;)
    # =&gt; &quot;YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWg==&quot;

    &quot;&quot;.unpack(&quot;m0&quot;)       # =&gt; [&quot;&quot;]
    &quot;AA==\n&quot;.unpack(&quot;m0&quot;) # =&gt; ArgumentError
    &quot;AA==&quot;.unpack(&quot;m0&quot;)   # =&gt; [&quot;\x00&quot;]

    &quot;YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWg==&quot;.unpack(&quot;m0&quot;)
    # =&gt; [&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;]
</pre>
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../library/base64.html">base64</a>
</p>
<dl>
<dt>M</dt>
<dd>
<p>
quoted-printable encoding された文字列
</p>
<pre>
    [&quot;a b c\td \ne&quot;].pack(&quot;M&quot;) # =&gt; &quot;a b c\td =\n\ne=\n&quot;

    &quot;a b c\td =\n\ne=\n&quot;.unpack(&quot;M&quot;) # =&gt; [&quot;a b c\td \ne&quot;]
</pre>
</dd>
<dt>n</dt>
<dd>
<p>
ネットワークバイトオーダー(ビッグエンディアン)のunsigned short (16bit 符号なし整数)
</p>
<pre>
    [0,1,-1,32767,-32768,65535].pack(&quot;n*&quot;)
    # =&gt; &quot;\000\000\000\001\377\377\177\377\200\000\377\377&quot;

    &quot;\000\000\000\001\377\377\177\377\200\000\377\377&quot;.unpack(&quot;n*&quot;)
    # =&gt; [0, 1, 65535, 32767, 32768, 65535]
</pre>
</dd>
<dt>N</dt>
<dd>
<p>
ネットワークバイトオーダー(ビッグエンディアン)のunsigned long (32bit 符号なし整数)
</p>
<pre>
    [0,1,-1].pack(&quot;N*&quot;) # =&gt; &quot;\000\000\000\000\000\000\000\001\377\377\377\377&quot;

    &quot;\000\000\000\000\000\000\000\001\377\377\377\377&quot;.unpack(&quot;N*&quot;) # =&gt; [0, 1, 4294967295]
</pre>
</dd>
<dt>v</dt>
<dd>
<p>
&quot;VAX&quot;バイトオーダー(リトルエンディアン)のunsigned short (16bit 符号なし整数)
</p>
<pre>
    [0,1,-1,32767,-32768,65535].pack(&quot;v*&quot;)
    # =&gt; &quot;\000\000\001\000\377\377\377\177\000\200\377\377&quot;

    &quot;\000\000\001\000\377\377\377\177\000\200\377\377&quot;.unpack(&quot;v*&quot;)
    # =&gt; [0, 1, 65535, 32767, 32768, 65535]
</pre>
</dd>
<dt>V</dt>
<dd>
<p>
&quot;VAX&quot;バイトオーダー(リトルエンディアン)のunsigned long (32bit 符号なし整数)
</p>
<pre>
    [0,1,-1].pack(&quot;V*&quot;) # =&gt; &quot;\000\000\000\000\001\000\000\000\377\377\377\377&quot;

    &quot;\000\000\000\000\001\000\000\000\377\377\377\377&quot;.unpack(&quot;V*&quot;) # =&gt; [0, 1, 4294967295]
</pre>
</dd>
<dt>f</dt>
<dd>
<p>
単精度浮動小数点数(機種依存)
</p>
<p>
IA-32 (x86) (IEEE754 単精度 リトルエンディアン):
</p>
<pre>
    [1.0].pack(&quot;f&quot;)      # =&gt; &quot;\000\000\200?&quot;
    [0.0/0.0].pack(&quot;f&quot;)  # =&gt; &quot;\000\000\300\377&quot;      # NaN
    [1.0/0.0].pack(&quot;f&quot;)  # =&gt; &quot;\000\000\200\177&quot;      # +Inf
    [-1.0/0.0].pack(&quot;f&quot;) # =&gt; &quot;\000\000\200\377&quot;      # -Inf
</pre>
<p>
SPARC (IEEE754 単精度 ビッグエンディアン):
</p>
<pre>
    [1.0].pack(&quot;f&quot;)      # =&gt; &quot;?\200\000\000&quot;
    [0.0/0.0].pack(&quot;f&quot;)  # =&gt; &quot;\177\377\377\377&quot;      # NaN
    [1.0/0.0].pack(&quot;f&quot;)  # =&gt; &quot;\177\200\000\000&quot;      # +Inf
    [-1.0/0.0].pack(&quot;f&quot;) # =&gt; &quot;\377\200\000\000&quot;      # -Inf
</pre>
<p>
VAX (NetBSD 3.0) (非IEEE754):
</p>
<pre>
    [1.0].pack(&quot;f&quot;) # =&gt; &quot;\200@\000\000&quot;
</pre>
</dd>
<dt>d</dt>
<dd>
<p>
倍精度浮動小数点数(機種依存)
</p>
<p>
IA-32 (IEEE754 倍精度 リトルエンディアン):
</p>
<pre>
    [1.0].pack(&quot;d&quot;)      # =&gt; &quot;\000\000\000\000\000\000\360?&quot;
    [0.0/0.0].pack(&quot;d&quot;)  # =&gt; &quot;\000\000\000\000\000\000\370\377&quot;      # NaN
    [1.0/0.0].pack(&quot;d&quot;)  # =&gt; &quot;\000\000\000\000\000\000\360\177&quot;      # +Inf
    [-1.0/0.0].pack(&quot;d&quot;) # =&gt; &quot;\000\000\000\000\000\000\360\377&quot;      # -Inf
</pre>
<p>
SPARC (IEEE754 倍精度 ビッグエンディアン):
</p>
<pre>
    [1.0].pack(&quot;d&quot;)      # =&gt; &quot;?\360\000\000\000\000\000\000&quot;
    [0.0/0.0].pack(&quot;d&quot;)  # =&gt; &quot;\177\377\377\377\377\377\377\377&quot;      # NaN
    [1.0/0.0].pack(&quot;d&quot;)  # =&gt; &quot;\177\360\000\000\000\000\000\000&quot;      # +Inf
    [-1.0/0.0].pack(&quot;d&quot;) # =&gt; &quot;\377\360\000\000\000\000\000\000&quot;      # -Inf
</pre>
<p>
VAX (NetBSD 3.0) (非IEEE754):
</p>
<pre>
    [1.0].pack(&quot;d&quot;) # =&gt; &quot;\200@\000\000\000\000\000\000&quot;
</pre>
</dd>
<dt>e</dt>
<dd>
<p>
リトルエンディアンの単精度浮動小数点数(機種依存)
</p>
<p>
IA-32 (IEEE754):
</p>
<pre>
    [1.0].pack(&quot;e&quot;) # =&gt; &quot;\000\000\200?&quot;
</pre>
<p>
SPARC (IEEE754):
</p>
<pre>
    [1.0].pack(&quot;e&quot;) # =&gt; &quot;\000\000\200?&quot;
</pre>
</dd>
<dt>E</dt>
<dd>
<p>
リトルエンディアンの倍精度浮動小数点数(機種依存)
</p>
<p>
IA-32 (IEEE754):
</p>
<pre>
    [1.0].pack(&quot;E&quot;) # =&gt; &quot;\000\000\000\000\000\000\360?&quot;
</pre>
<p>
SPARC (IEEE754):
</p>
<pre>
    [1.0].pack(&quot;E&quot;) # =&gt; &quot;\000\000\000\000\000\000\360?&quot;
</pre>
</dd>
<dt>g</dt>
<dd>
<p>
ビッグエンディアンの単精度浮動小数点数(機種依存)
</p>
<p>
IA-32 (IEEE754):
</p>
<pre>
    [1.0].pack(&quot;g&quot;) # =&gt; &quot;?\200\000\000&quot;
</pre>
<p>
SPARC (IEEE754):
</p>
<pre>
    [1.0].pack(&quot;g&quot;) # =&gt; &quot;?\200\000\000&quot;
</pre>
<p>
IEEE754準拠な環境の場合、以下のようにして符号、指数部、仮数部を取り出せます。
</p>
<pre>
    s = [v].pack(&quot;g&quot;).unpack(&quot;B*&quot;)[0][0,1]      # 符号
    e = [v].pack(&quot;g&quot;).unpack(&quot;B*&quot;)[0][1,8]      # 指数部
    f = [v].pack(&quot;g&quot;).unpack(&quot;B*&quot;)[0][9,23]     # 仮数部
</pre>
<p>
そして、s, e, f の意味は以下の通りです。
</p>
<pre>
    sgn = s == &quot;0&quot; ? +1.0 : -1.0
    exp = Integer(&quot;0b&quot; + e)
    fra = Integer(&quot;0b&quot; + f)
    if exp == 0
      if fra == 0
        sgn * 0                     # ±0 (positive/negative zero)
      else
        sgn * fra * 2**(-126-23)    # 非正規化数 (denormalized number)
      end
    elsif exp == 255
      if fra == 0
        sgn * Inf                   # ±∞ (positive/negative infinity)
      else
        NaN                         # 非数 (not a number)
      end
    else
      fra += 1 &lt;&lt; 23                # ゲタ
      sgn * fra * 2**(exp-127-23)   # 正規化数 (normalized number)
    end
</pre>
</dd>
<dt>G</dt>
<dd>
<p>
ビッグエンディアンの倍精度浮動小数点数(機種依存)
</p>
<p>
IA-32:
</p>
<pre>
    [1.0].pack(&quot;G&quot;) # =&gt; &quot;?\360\000\000\000\000\000\000&quot;
</pre>
<p>
SPARC:
</p>
<pre>
    [1.0].pack(&quot;G&quot;) # =&gt; &quot;?\360\000\000\000\000\000\000&quot;
</pre>
<p>
IEEE754準拠な環境の場合、以下のようにして符号、指数部、仮数部を取り出せます。
</p>
<pre>
    s = [v].pack(&quot;G&quot;).unpack(&quot;B*&quot;)[0][0,1]    # 符号
    e = [v].pack(&quot;G&quot;).unpack(&quot;B*&quot;)[0][1,11]   # 指数部
    f = [v].pack(&quot;G&quot;).unpack(&quot;B*&quot;)[0][12,52]  # 仮数部
</pre>
<p>
そして、s, e, f の意味は以下の通りです。
</p>
<pre>
    sgn = s == &quot;0&quot; ? +1.0 : -1.0
    exp = Integer(&quot;0b&quot; + e)
    fra = Integer(&quot;0b&quot; + f)
    if exp == 0
      if fra == 0
        sgn * 0                     # ±0 (positive/negative zero)
      else
        sgn * fra * 2**(-1022-52)   # 非正規化数 (denormalized number)
      end
    elsif exp == 2047
      if fra == 0
        sgn * Inf                   # ±∞ (positive/negative infinity)
      else
        NaN                         # 非数 (not a number)
      end
    else
      fra += 1 &lt;&lt; 52                # ゲタ
      sgn * fra * 2**(exp-1023-52)  # 正規化数 (normalized number)
    end
</pre>
</dd>
<dt>p</dt>
<dd>
<p>
ナル終端の文字列へのポインタ
</p>
<pre>
    [&quot;&quot;].pack(&quot;p&quot;)             # =&gt; &quot;\310\037\034\010&quot;
    [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;].pack(&quot;p3&quot;) # =&gt; &quot; =\030\010\340^\030\010\360^\030\010&quot;
    [nil].pack(&quot;p&quot;)            # =&gt; &quot;\000\000\000\000&quot;
</pre>
</dd>
<dt>P</dt>
<dd>
<p>
構造体(固定長文字列)へのポインタ
</p>
<pre>
    [nil].pack(&quot;P&quot;)    # =&gt; &quot;\000\000\000\000&quot;
    [&quot;abc&quot;].pack(&quot;P3&quot;) # =&gt; &quot;x*\024\010&quot;

    [&quot;abc&quot;].pack(&quot;P4&quot;) # =&gt; ArgumentError: too short buffer for P(3 for 4)
    [&quot;&quot;].pack(&quot;P&quot;)     # =&gt; ArgumentError: too short buffer for P(0 for 1)
</pre>
</dd>
<dt>u</dt>
<dd>
<p>
uuencodeされた文字列
</p>
<pre>
    [&quot;&quot;].pack(&quot;u&quot;)           # =&gt; &quot;&quot;
    [&quot;a&quot;].pack(&quot;u&quot;)          # =&gt; &quot;!80``\n&quot;
    [&quot;abc&quot;].pack(&quot;u&quot;)        # =&gt; &quot;#86)C\n&quot;
    [&quot;abcd&quot;].pack(&quot;u&quot;)       # =&gt; &quot;$86)C9```\n&quot;
    [&quot;a&quot;*45].pack(&quot;u&quot;)       # =&gt; &quot;M86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A\n&quot;
    [&quot;a&quot;*46].pack(&quot;u&quot;)       # =&gt; &quot;M86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A\n!80``\n&quot;
    [&quot;abcdefghi&quot;].pack(&quot;u6&quot;) # =&gt; &quot;&amp;86)C9&amp;5F\n#9VAI\n&quot;
</pre>
</dd>
<dt>U</dt>
<dd>
<p>
UTF-8
</p>
<pre>
    [0].pack(&quot;U&quot;)                               # =&gt; &quot;\000&quot;
    [1].pack(&quot;U&quot;)                               # =&gt; &quot;\001&quot;
    [0x7f].pack(&quot;U&quot;)                            # =&gt; &quot;\177&quot;
    [0x80].pack(&quot;U&quot;)                            # =&gt; &quot;\302\200&quot;
    [0x7fffffff].pack(&quot;U&quot;)                      # =&gt; &quot;\375\277\277\277\277\277&quot;
    [0x80000000].pack(&quot;U&quot;)                      # =&gt; RangeError
    [0,256,65536].pack(&quot;U3&quot;)                    # =&gt; &quot;\000\304\200\360\220\200\200&quot;

    &quot;\000\304\200\360\220\200\200&quot;.unpack(&quot;U3&quot;) # =&gt; [0, 256, 65536]
    &quot;\000\304\200\360\220\200\200&quot;.unpack(&quot;U&quot;)  # =&gt; [0]
    &quot;\000\304\200\360\220\200\200&quot;.unpack(&quot;U*&quot;) # =&gt; [0, 256, 65536]
</pre>
</dd>
<dt>w</dt>
<dd>
<p>
BER圧縮整数
</p>
<p>
1バイトあたり7ビットを使用して必要最小限のバイト数で任意サイズの
0以上の整数を表す数値表現。各バイトの最上位ビットはデータの最後
を除いて必ず1が立っている(つまり最上位ビットはどこまでデータがあ
るかを示している)。
</p>
<p>
ISO/IEC 8825-1:1995 : Information technology−ASN.1 encoding rules : Specification of Basic Encoding Rules(BER) に定められる整数の符号化方法。
</p>
<pre>
    [0].pack(&quot;w&quot;)             # =&gt; &quot;\000&quot;
    [1].pack(&quot;w&quot;)             # =&gt; &quot;\001&quot;
    [127].pack(&quot;w&quot;)           # =&gt; &quot;\177&quot;
    [128].pack(&quot;w&quot;)           # =&gt; &quot;\201\000&quot;
    [0x3fff].pack(&quot;w&quot;)        # =&gt; &quot;\377\177&quot;
    [0x4000].pack(&quot;w&quot;)        # =&gt; &quot;\201\200\000&quot;
    [0x3fffffff].pack(&quot;w&quot;)    # =&gt; &quot;\203\377\377\377\177&quot;
    [0x40000000].pack(&quot;w&quot;)    # =&gt; &quot;\204\200\200\200\000&quot;
    [0xffffffff].pack(&quot;w&quot;)    # =&gt; &quot;\217\377\377\377\177&quot;
    [0x100000000].pack(&quot;w&quot;)   # =&gt; &quot;\220\200\200\200\000&quot;

    &quot;\0&quot;.unpack(&quot;w&quot;)          # =&gt; [0]
    &quot;\0\201\0\1&quot;.unpack(&quot;w*&quot;) # =&gt; [0, 128, 1]
</pre>
<p>
なお、BER圧縮整数でエンコードした結果は大小関係を保存しない。
たとえば、[0x3fff].pack(&quot;w&quot;) &gt; [0x4000].pack(&quot;w&quot;) である。
</p>
</dd>
<dt>x</dt>
<dd>
<p>
ナルバイト/1バイト読み飛ばす
</p>
<pre>
    [?a, ?b].pack(&quot;CxC&quot;)    # =&gt; &quot;a\000b&quot;
    [?a, ?b].pack(&quot;Cx3C&quot;)   # =&gt; &quot;a\000\000\000b&quot;

    &quot;a\000b&quot;.unpack(&quot;CxC&quot;)  # =&gt; [97, 98]
    &quot;a\377b&quot;.unpack(&quot;CxC&quot;)  # =&gt; [97, 98]
    &quot;a\377b&quot;.unpack(&quot;Cx3C&quot;) # =&gt; ArgumentError: x outside of string
</pre>
</dd>
<dt>X</dt>
<dd>
<p>
1バイト後退
</p>
<pre>
    [?a, ?b, ?c].pack(&quot;CCXC&quot;) # =&gt; &quot;ac&quot;

    &quot;abcdef&quot;.unpack(&quot;x*XC&quot;) # =&gt; [102]
</pre>
</dd>
<dt>@</dt>
<dd>
<p>
絶対位置への移動
</p>
<pre>
    [?a, ?b].pack(&quot;C @3 C&quot;) # =&gt; &quot;a\000\000b&quot;

    &quot;a\000\000b&quot;.unpack(&quot;C @3 C&quot;) # =&gt; [97, 98]
</pre>
</dd>
</dl>
<h4 >使用例</h4>
<p>
以下、pack/unpack の使用例の一部です。
</p>
<p>
pack を使用しなくても同じことができる場合はその例も載せています。
pack は暗号になりやすい面があることを考慮し、pack を使いたくない人
に別解を示すためです。
</p>
<dl>
<dt>数値(文字コード)の配列を文字列に変換する例</dt>
<dd>
<pre>
    [82, 117, 98, 121].pack(&quot;cccc&quot;)  # =&gt; &quot;Ruby&quot;
    [82, 117, 98, 121].pack(&quot;c4&quot;)    # =&gt; &quot;Ruby&quot;
    [82, 117, 98, 121].pack(&quot;c*&quot;)    # =&gt; &quot;Ruby&quot;

    s = &quot;&quot;
    [82, 117, 98, 121].each {|c| s &lt;&lt; c}
    s    # =&gt; &quot;Ruby&quot;

    [82, 117, 98, 121].collect {|c| sprintf &quot;%c&quot;, c}.join   # =&gt; &quot;Ruby&quot;

    [82, 117, 98, 121].inject(&quot;&quot;) {|s, c| s &lt;&lt; c}    # =&gt; &quot;Ruby&quot;
</pre>
</dd>
<dt>文字列を数値(文字コード)の配列に変換する例</dt>
<dd>
<pre>
    &quot;Ruby&quot;.unpack('C*')    # =&gt; [82, 117, 98, 121]

    a = []
    &quot;Ruby&quot;.each_byte {|c| a &lt;&lt; c}
    a    # =&gt; [82, 117, 98, 121]
</pre>
</dd>
<dt>&quot;x&quot; でナルバイトを埋めることができる</dt>
<dd>
<pre>
    [82, 117, 98, 121].pack(&quot;ccxxcc&quot;)    # =&gt; &quot;Ru\000\000by&quot;
</pre>
</dd>
<dt>&quot;x&quot; で文字を読み飛ばす事が出来る</dt>
<dd>
<pre>
    &quot;Ru\0\0by&quot;.unpack('ccxxcc')    # =&gt; [82, 117, 98, 121]
</pre>
</dd>
<dt>Hexダンプを数値の配列に変換する例</dt>
<dd>
<pre>
    &quot;61 62 63 64 65 66&quot;.delete(' ').to_a.pack('H*').unpack('C*')
    # =&gt; [97, 98, 99, 100, 101, 102]

    &quot;61 62 63 64 65 66&quot;.split.collect {|c| c.hex}
    # =&gt; [97, 98, 99, 100, 101, 102]
</pre>
</dd>
<dt>バイナリと16進数のpackでは長さ指定は生成されるバイト数ではなく、ビットやニブルの個数を表す</dt>
<dd>
<pre>
    [0b01010010, 0b01110101, 0b01100010, 0b01111001].pack(&quot;C4&quot;)
    # =&gt; &quot;Ruby&quot;
    [&quot;01010010011101010110001001111001&quot;].pack(&quot;B32&quot;) # 8 bits * 4
    # =&gt; &quot;Ruby&quot;

    [0x52, 0x75, 0x62, 0x79].pack(&quot;C4&quot;)
    # =&gt; &quot;Ruby&quot;
    [&quot;52756279&quot;].pack(&quot;H8&quot;)  # 2 nybbles * 4
    # =&gt; &quot;Ruby&quot;
</pre>
</dd>
<dt>テンプレート文字'a'の長さ指定は1つの文字列だけに適用される</dt>
<dd>
<pre>
    [&quot;RUBY&quot;, &quot;u&quot;, &quot;b&quot;, &quot;y&quot;].pack(&quot;a4&quot;)
    # =&gt; &quot;RUBY&quot;

    [&quot;RUBY&quot;, &quot;u&quot;, &quot;b&quot;, &quot;y&quot;].pack(&quot;aaaa&quot;)
    # =&gt; &quot;Ruby&quot;

    [&quot;RUBY&quot;, &quot;u&quot;, &quot;b&quot;, &quot;y&quot;].pack(&quot;a*aaa&quot;)
    # =&gt; &quot;RUBYuby&quot;
</pre>
</dd>
<dt>テンプレート文字&quot;a&quot;は、長さが足りない分をヌル文字で補う</dt>
<dd>
<pre>
    [&quot;Ruby&quot;].pack(&quot;a8&quot;)
    # =&gt; &quot;Ruby\000\000\000\000&quot;
</pre>
</dd>
<dt>リトルエンディアンとビッグエンディアン</dt>
<dd>
<pre>
    [1,2].pack(&quot;s2&quot;)
    # =&gt; &quot;\000\001\000\002&quot; # ビッグエンディアンのシステムでの出力
    # =&gt; &quot;\001\000\002\000&quot; # リトルエンディアンのシステムでの出力

    [1,2].pack(&quot;n2&quot;)
    # =&gt; &quot;\000\001\000\002&quot; # システムによらずビッグエンディアン

    [1,2].pack(&quot;v2&quot;)
    # =&gt; &quot;\001\000\002\000&quot; # システムによらずリトルエンディアン
</pre>
</dd>
<dt>ネットワークバイトオーダの signed long</dt>
<dd>
<pre>
      s = &quot;\xff\xff\xff\xfe&quot;
      n = s.unpack(&quot;N&quot;)[0]
      if n[31] == 1
        n = -((n ^ 0xffff_ffff) + 1)
      end
      n # =&gt; -2
</pre>
</dd>
<dt>ネットワークバイトオーダの signed long(その2)</dt>
<dd>
<pre>
      s = &quot;\xff\xff\xff\xfe&quot;
      n = s.unpack(&quot;N&quot;).pack(&quot;l&quot;).unpack(&quot;l&quot;)[0]
      n # =&gt; -2
</pre>
</dd>
<dt>IPアドレス</dt>
<dd>
<pre>
      require 'socket'
      Socket.gethostbyname(&quot;localhost&quot;)[3].unpack(&quot;C4&quot;).join(&quot;.&quot;)
      # =&gt; &quot;127.0.0.1&quot;

      &quot;127.0.0.1&quot;.split(&quot;.&quot;).collect {|c| c.to_i}.pack(&quot;C4&quot;)
      # =&gt; &quot;\177\000\000\001&quot;
</pre>
</dd>
<dt>sockaddr_in 構造体</dt>
<dd>
<pre>
      require 'socket'
      [Socket::AF_INET,
       Socket.getservbyname('echo'),
       127, 0, 0, 1].pack(&quot;s n C4 x8&quot;)
      # =&gt; &quot;\002\000\000\a\177\000\000\001\000\000\000\000\000\000\000\000&quot;
</pre>
<p>
pack/unpack を使う代わりに
<a href="../method/-socket/s/pack_sockaddr_in.html">Socket.pack_sockaddr_in</a>,
<a href="../method/-socket/s/unpack_sockaddr_in.html">Socket.unpack_sockaddr_in</a> メソッドがあります。
</p>
</dd>
<dt>'\0'終端文字列のアドレス</dt>
<dd>
<p>
テンプレート文字 &quot;p&quot; や &quot;P&quot; は、C 言語レベルのインタフェースのた
めにあります(例えば <a href="../method/-i-o/i/ioctl.html">IO#ioctl</a>)。
</p>
<pre>
    [&quot;foo&quot;].pack(&quot;p&quot;)    # =&gt; &quot;8\266\021\010&quot;
</pre>
<p>
結果の文字列はゴミに見えますが、実際は文字列&quot;foo\0&quot;を指すアドレ
ス(のバイナリ表現)です。以下のようにすれば見慣れた表記で見ること
が出来ます
</p>
<pre>
    printf &quot;%#010x\n&quot;, &quot;8\266\021\010&quot;.unpack(&quot;L&quot;)[0] # =&gt; 0x0811b638
</pre>
<p>
アドレスが指す先のオブジェクト(この例で &quot;foo\0&quot;) は、pack の結
果が GC されるまではGCされないことが保証されています。
</p>
<p>
unpack(&quot;p&quot;), unpack(&quot;P&quot;) は、pack の結果からしか unpack できません。
</p>
<pre>
    [&quot;foo&quot;].pack(&quot;p&quot;).unpack(&quot;p&quot;) # =&gt; [&quot;foo&quot;]
    &quot;8\266\021\010&quot;.unpack(&quot;p&quot;)
    # =&gt; -:1:in `unpack': no associated pointer (ArgumentError)
    #         from -:1
</pre>
<p>
&quot;p&quot; や &quot;P&quot; は、nil を特別に扱い NULL
ポインタとして解釈します。(以下は、32bitマシンで一般的な結果)
</p>
<pre>
      [nil].pack(&quot;p&quot;)        # =&gt; &quot;\000\000\000\000&quot;
      &quot;\0\0\0\0&quot;.unpack(&quot;p&quot;) # =&gt; [nil]
</pre>
</dd>
<dt>構造体のアドレス</dt>
<dd>
<p>
例えば、
</p>
<pre>
      struct {
        int   a;
        short b;
        long  c;
      } v = {1,2,3};
</pre>
<p>
を表す文字列は
</p>
<pre>
      v = [1,2,3].pack(&quot;i!s!l!&quot;)
</pre>
<p>
です。(byte alignment の問題から実際は適当な padding が必要に
なるかもしれません)
</p>
<p>
この構造体を指すアドレスは
</p>
<pre>
      [v].pack(&quot;P&quot;)  # =&gt; &quot;\300\265\021\010&quot;
</pre>
<p>
で得られます。
</p>
</dd>
<dt>UTF-8からUCS-2への変換 (サロゲートを処理していないので UTF-16 とはいえない)</dt>
<dd>
<p>
Little endian:
</p>
<pre>
    (&quot;Comments&quot;).unpack(&quot;U*&quot;).pack(&quot;v*&quot;) # =&gt; &quot;C\000o\000m\000m\000e\000n\000t\000s\000&quot;
</pre>
<p>
Big endian:
</p>
<pre>
    (&quot;Comments&quot;).unpack(&quot;U*&quot;).pack(&quot;n*&quot;) # =&gt; &quot;\000C\000o\000m\000m\000e\000n\000t\000s&quot;
</pre>
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_PERMUTATION"><code>permutation(n = self.length) { |p| block } -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/permutation.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-permutation">rdoc</a>]</span></dt>
<dt class="method-heading"><code>permutation(n = self.length) -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
サイズ n の順列をすべて生成し，それを引数としてブロックを実行します。
</p>
<p>
引数を省略した場合は配列の要素数と同じサイズの順列に対してブロックを実
行します。
</p>
<p>
得られる順列の順序は保証されません。ブロックなしで呼び出されると， 順列
を生成する <a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
生成する配列のサイズを整数で指定します。
整数以外のオブジェクトを指定した場合は to_int メソッドによる暗
黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを
指定した場合に発生します。
</dd>
</dl>
<p>
例:
</p>
<pre>
a = [1, 2, 3]
a.permutation.to_a     #=&gt; [[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]
a.permutation(1).to_a  #=&gt; [[1],[2],[3]]
a.permutation(2).to_a  #=&gt; [[1,2],[1,3],[2,1],[2,3],[3,1],[3,2]]
a.permutation(3).to_a  #=&gt; [[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]
a.permutation(0).to_a  #=&gt; [[]]: one permutation of length 0
a.permutation(4).to_a  #=&gt; []  : no permutations of length 4
</pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/combination.html">Array#combination</a>, <a href="../method/-array/i/repeated_permutation.html">Array#repeated_permutation</a>
</p>
</dd>


<dt class="method-heading" id="I_POP"><code>pop -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/pop.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-pop">rdoc</a>]</span></dt>
<dt class="method-heading"><code>pop(n) -&gt; Array</code></dt>
<dd class="method-description">
<p>
自身の末尾から要素を取り除いてそれを返します。
引数を指定した場合はその個数だけ取り除き、それを配列で返します。
</p>
<p>
空配列の場合、n が指定されていない場合は nil を、
指定されている場合は空配列を返します。
また、n が自身の要素数より少ない場合はその要素数の配列を
返します。どちらの場合も自身は空配列となります。
</p>
<p>
返す値と副作用の両方を利用して、個数を指定して配列を 2 分する簡単な方法として使えます。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
自身から取り除きたい要素の個数を整数で指定します。
整数以外のオブジェクトを指定した場合は to_int メソッドによる暗
黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを
指定した場合に発生します。
</dd>
</dl>
<p>
例:
</p>
<pre>
array = [1, [2, 3], 4]
p array.pop      # =&gt; 4
p array.pop      # =&gt; [2, 3]
p array          # =&gt; [1]

p array.pop      # =&gt; 1
p array.pop      # =&gt; nil
p array          # =&gt; []
array = [1, 2, 3]
p array.pop(2)   #=&gt; [2, 3]
p array          #=&gt; [1]
</pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/push.html">Array#push</a>, <a href="../method/-array/i/shift.html">Array#shift</a>, <a href="../method/-array/i/unshift.html">Array#unshift</a>
</p>
</dd>


<dt class="method-heading" id="I_PRODUCT"><code>product(*lists) -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/product.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-product">rdoc</a>]</span></dt>
<dt class="method-heading"><code>product(*lists) { |e| ... } -&gt; self</code></dt>
<dd class="method-description">
<p>
レシーバの配列と引数で与えられた配列（複数可）のそれぞれから要素を1
個ずつとって配列とし，それらのすべての配列を要素とする配列を返します。
</p>
<p>
返される配列の長さは，レシーバと引数で与えられた配列の長さのすべての積にな
ります。
</p>
<dl>
<dt class='method-param'>[PARAM] lists:</dt>
<dd>
配列。複数指定可能。
</dd>
</dl>
<p>
例:
</p>
<pre>
[1,2,3].product([4,5])     # =&gt; [[1,4],[1,5],[2,4],[2,5],[3,4],[3,5]]
[1,2].product([1,2])       # =&gt; [[1,1],[1,2],[2,1],[2,2]]
[1,2].product([3,4],[5,6]) # =&gt; [[1,3,5],[1,3,6],[1,4,5],[1,4,6],
                           #     [2,3,5],[2,3,6],[2,4,5],[2,4,6]]
[1,2].product()            # =&gt; [[1],[2]]
[1,2].product([])          # =&gt; []
</pre>
<p>
ブロックが与えられた場合、作成した配列の各要素を引数としてブロックを実
行して self を返します。
</p>
<pre>
a = []
[1,2,3].product([4,5]) {|e| a &lt;&lt; e} # =&gt; [1,2,3]
a # =&gt; [[1,4],[1,5],[2,4],[2,5],[3,4],[3,5]]
</pre>
</dd>


<dt class="method-heading" id="I_PUSH"><code>push(*obj) -&gt; self</code><span class="permalink">[<a href="../method/-array/i/push.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-push">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
指定された obj を順番に配列の末尾に追加します。
引数を指定しなければ何もしません。
</p>
<dl>
<dt class='method-param'>[PARAM] obj:</dt>
<dd>
自身に追加したいオブジェクトを指定します。
</dd>
</dl>
<pre>
array = [1, 2, 3]
array.push 4
array.push [5, 6]
array.push 7, 8
p array          # =&gt; [1, 2, 3, 4, [5, 6], 7, 8]
</pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/pop.html">Array#pop</a>, <a href="../method/-array/i/shift.html">Array#shift</a>, <a href="../method/-array/i/unshift.html">Array#unshift</a>, <a href="../method/-array/i/=3c=3c.html">Array#&lt;&lt;</a>
</p>
</dd>


<dt class="method-heading" id="I_RASSOC"><code>rassoc(obj) -&gt; Array | nil</code><span class="permalink">[<a href="../method/-array/i/rassoc.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-rassoc">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身が配列の配列であると仮定して、要素の配列でインデックス
1 の要素が obj に等しいものを検索し見つかった最初の要素を返
します。該当する要素がなければ nil を返します。
</p>
<p>
比較は == 演算子を使って行われます。
</p>
<dl>
<dt class='method-param'>[PARAM] obj:</dt>
<dd>
検索するオブジェクトを指定します。
</dd>
</dl>
<pre>
a = [[15,1], [25,2], [35,3]]
p a.rassoc(2)    # =&gt; [25, 2]
</pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/assoc.html">Array#assoc</a>
</p>
</dd>


<dt class="method-heading" id="I_REPEATED_COMBINATION"><code>repeated_combination(n) { |c| ... } -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/repeated_combination.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-repeated_combination">rdoc</a>]</span></dt>
<dt class="method-heading"><code>repeated_combination(n) -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
サイズ n の重複組み合わせをすべて生成し、それを引数としてブロックを実行
します。
</p>
<p>
得られる組み合わせの順序は保証されません。ブロックなしで呼び出されると、
組み合わせを生成する Enumerator オブジェクトを返します。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
生成される配列のサイズを整数で指定します。。
整数以外のオブジェクトを指定した場合は to_int メソッドによる暗
黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを
指定した場合に発生します。
</dd>
</dl>
<p>
例:
</p>
<pre>
a = [1, 2, 3]
a.repeated_combination(1).to_a  #=&gt; [[1], [2], [3]]
a.repeated_combination(2).to_a  #=&gt; [[1,1],[1,2],[1,3],[2,2],[2,3],[3,3]]
a.repeated_combination(3).to_a  #=&gt; [[1,1,1],[1,1,2],[1,1,3],[1,2,2],[1,2,3],
                                #    [1,3,3],[2,2,2],[2,2,3],[2,3,3],[3,3,3]]
a.repeated_combination(4).to_a  #=&gt; [[1,1,1,1],[1,1,1,2],[1,1,1,3],[1,1,2,2],[1,1,2,3],
                                #    [1,1,3,3],[1,2,2,2],[1,2,2,3],[1,2,3,3],[1,3,3,3],
                                #    [2,2,2,2],[2,2,2,3],[2,2,3,3],[2,3,3,3],[3,3,3,3]]
a.repeated_combination(0).to_a  #=&gt; [[]] # one combination of length 0
</pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/repeated_permutation.html">Array#repeated_permutation</a>, <a href="../method/-array/i/combination.html">Array#combination</a>
</p>
</dd>


<dt class="method-heading" id="I_REPEATED_PERMUTATION"><code>repeated_permutation(n) { |p| ... } -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/repeated_permutation.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-repeated_permutation">rdoc</a>]</span></dt>
<dt class="method-heading"><code>repeated_permutation(n) -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
サイズ n の重複順列をすべて生成し，それを引数としてブロックを実行します。
</p>
<p>
得られる順列の順序は保証されません。ブロックなしで呼び出されると， 順列
を生成する Enumerator オブジェクトを返します。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
生成する配列のサイズを整数で指定します。。
整数以外のオブジェクトを指定した場合は to_int メソッドによる暗
黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを
指定した場合に発生します。
</dd>
</dl>
<p>
例:
</p>
<pre>
a = [1, 2]
a.repeated_permutation(1).to_a  #=&gt; [[1], [2]]
a.repeated_permutation(2).to_a  #=&gt; [[1,1],[1,2],[2,1],[2,2]]
a.repeated_permutation(3).to_a  #=&gt; [[1,1,1],[1,1,2],[1,2,1],[1,2,2],
                                #    [2,1,1],[2,1,2],[2,2,1],[2,2,2]]
a.repeated_permutation(0).to_a  #=&gt; [[]] # one permutation of length 0
</pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/repeated_combination.html">Array#repeated_combination</a>, <a href="../method/-array/i/permutation.html">Array#permutation</a>
</p>
</dd>


<dt class="method-heading" id="I_REPLACE"><code>replace(another) -&gt; self</code><span class="permalink">[<a href="../method/-array/i/replace.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-replace">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
配列の内容を配列 another の内容で置き換えます。
</p>
<dl>
<dt class='method-param'>[PARAM] another:</dt>
<dd>
配列を指定します。
配列以外のオブジェクトを指定した場合は to_ary メソッドに
よる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に配列以外の(暗黙の型変換が行えない)オブジェクトを
指定した場合に発生します。
</dd>
</dl>
<pre>
a = [1, 2, 3]
a.replace [4, 5, 6]
p a                 #=&gt; [4, 5, 6]
</pre>
</dd>


<dt class="method-heading" id="I_REVERSE"><code>reverse -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/reverse.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-reverse">rdoc</a>]</span></dt>
<dt class="method-heading"><code>reverse! -&gt; self</code></dt>
<dd class="method-description">
<p>
reverse は自身の要素を逆順に並べた新しい配列を生成して返します。
reverse! は自身を破壊的に並べ替えます。
reverse! は self を返します。
</p>
<pre>
a = [&quot;a&quot;, 2, true]
p a.reverse         #=&gt; [true, 2, &quot;a&quot;]
p a                 #=&gt; [&quot;a&quot;, 2, true] (変化なし)

a = [&quot;a&quot;, 2, true]
p a.reverse!        #=&gt; [true, 2, &quot;a&quot;]
p a                 #=&gt; [true, 2, &quot;a&quot;]
</pre>
</dd>


<dt class="method-heading" id="I_REVERSE_EACH"><code>reverse_each {|item| ... } -&gt; self</code><span class="permalink">[<a href="../method/-array/i/reverse_each.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-reverse_each">rdoc</a>]</span></dt>
<dt class="method-heading"><code>reverse_each -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
各要素に対して逆順にブロックを評価します。
</p>
<p>
ブロックが与えられなかった場合は、自身と reverse_each から生成した
<a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
</p>
</dd>


<dt class="method-heading" id="I_RINDEX"><code>rindex(val) -&gt; Integer | nil</code><span class="permalink">[<a href="../method/-array/i/rindex.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-rindex">rdoc</a>]</span></dt>
<dt class="method-heading"><code>rindex {|item| ... } -&gt; Integer | nil</code></dt>
<dt class="method-heading"><code>rindex -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
指定された val と == で等しい最後の要素の位置を返します。
等しい要素がひとつもなかった時には nil を返します。
</p>
<p>
ブロックが与えられた時には、各要素を引数として順にブロックを実行し、
ブロックが真を返した最初の要素の位置を返します。
</p>
<p>
引数、ブロックのどちらも与えられなかった時には、自身と rindex から生成した
<a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
</p>
<dl>
<dt class='method-param'>[PARAM] val:</dt>
<dd>
オブジェクトを指定します。
</dd>
</dl>
<pre>
p [1, 0, 0, 1, 0].rindex(1)   #=&gt; 3
p [1, 0, 0, 0, 0].rindex(1)   #=&gt; 0
p [0, 0, 0, 0, 0].rindex(1)   #=&gt; nil
p [0, 1, 0, 1, 0].rindex {|v| v &gt; 0}   #=&gt; 3
</pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/index.html">Array#index</a>
</p>
</dd>


<dt class="method-heading" id="I_ROTATE"><code>rotate(cnt = 1) -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/rotate.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-rotate">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
cnt で指定したインデックスの要素が先頭になる配列を新しく作成します。
cnt より前の要素は末尾に移動します。cnt に負の数を指定した場合、逆の操
作を行います。
</p>
<dl>
<dt class='method-param'>[PARAM] cnt:</dt>
<dd>
先頭にする要素のインデックスを指定します。指定しなかった場合
は 1 になります。
整数以外のオブジェクトを指定した場合は to_int メソッドによる
暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを
指定した場合に発生します。
</dd>
</dl>
<p>
例:
</p>
<pre>
a = [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot; ]
a.rotate         # =&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]
a                # =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
a.rotate(2)      # =&gt; [&quot;c&quot;, &quot;d&quot;, &quot;a&quot;, &quot;b&quot;]
a.rotate(-1)     # =&gt; [&quot;d&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
a.rotate(-3)     # =&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]
</pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/rotate=21.html">Array#rotate!</a>
</p>
</dd>


<dt class="method-heading" id="I_ROTATE--21"><code>rotate!(cnt = 1) -&gt; self</code><span class="permalink">[<a href="../method/-array/i/rotate=21.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-rotate-21">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
cnt で指定したインデックスの要素が先頭になるように自身の順番を変更しま
す。cnt より前の要素は末尾に移動します。cnt に負の数を指定した場合、逆
の操作を行います。
</p>
<dl>
<dt class='method-param'>[PARAM] cnt:</dt>
<dd>
先頭にする要素のインデックスを指定します。指定しなかった場合
は 1 になります。
整数以外のオブジェクトを指定した場合は to_int メソッドによる
暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを
指定した場合に発生します。
</dd>
</dl>
<p>
例:
</p>
<pre>
a = [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot; ]
a.rotate!        #=&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]
a                #=&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]
a.rotate!(2)     #=&gt; [&quot;d&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
a.rotate!(-3)    #=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
</pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/rotate.html">Array#rotate</a>
</p>
</dd>


<dt class="method-heading" id="I_SAMPLE"><code>sample -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/sample.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-sample">rdoc</a>]</span></dt>
<dt class="method-heading"><code>sample(n) -&gt; Array</code></dt>
<dt class="method-heading"><code>sample(random: rng) -&gt; object | nil</code></dt>
<dt class="method-heading"><code>sample(n, random: rng) -&gt; Array</code></dt>
<dd class="method-description">
<p>
配列の要素を1個(引数を指定した場合は自身の要素数を越えない範囲で n 個)
ランダムに選んで返します。
</p>
<p>
重複したインデックスは選択されません。そのため、自身がユニークな配列の
場合は返り値もユニークな配列になります。
</p>
<p>
配列が空の場合、無引数の場合は nil を、個数を指定した場合は空配列を返します。
</p>
<p>
srand()が有効です。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
取得する要素の数を指定します。自身の要素数(self.length)以上の
値を指定した場合は要素数と同じ数の配列を返します。
整数以外のオブジェクトを指定した場合は to_int メソッドによる暗
黙の型変換を試みます。
</dd>
<dt class='method-param'>[PARAM] rng:</dt>
<dd>
乱数生成器(主に <a href="../class/-random.html">Random</a> オブジェクト)を指定します。
0 以上 1 未満の値を返す rand メソッドに応答するオブジェクト
であれば指定する事ができます。
<a href="../method/-kernel/m/rand.html">Kernel.#rand</a>、<a href="../class/-random.html">Random</a> を使用しないオブジェクトを
指定した場合、<a href="../method/-kernel/m/srand.html">Kernel.#srand</a>の指定に影響されません。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数 n に整数以外の(暗黙の型変換が行えない)オブジェク
トを指定した場合に発生します。
</dd>
<dt>[EXCEPTION] ArgumentError:</dt>
<dd>
引数 n に負の数を指定した場合に発生します。
</dd>
</dl>
<p>
例:
</p>
<pre>
a = (1..10).to_a
p a.sample        #=&gt;  9
p a.sample        #=&gt; 10
p a.sample(3)     #=&gt; [1, 9, 3]
p a               #=&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
</pre>
</dd>


<dt class="method-heading" id="I_SELECT--21"><code>select! {|item| block } -&gt; self | nil</code><span class="permalink">[<a href="../method/-array/i/select=21.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-select-21">rdoc</a>]</span></dt>
<dt class="method-heading"><code>select! -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
ブロックが false を返した要素を自身から削除します。
変更があった場合は self を、
変更がなかった場合には nil を返します。
</p>
<pre>
a = %w{ a b c d e f }
a.select! {|v| v =~ /[a-z]/ }   # =&gt; nil
a # =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]
</pre>
<p>
ブロックが与えられなかった場合は、自身と select! から生成した
<a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
</p>
<p>
[SEE_ALSO] <a href="../method/-array/i/keep_if.html">Array#keep_if</a>
</p>
</dd>


<dt class="method-heading" id="I_SHIFT"><code>shift -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/shift.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-shift">rdoc</a>]</span></dt>
<dt class="method-heading"><code>shift(n) -&gt; Array</code></dt>
<dd class="method-description">
<p>
配列の先頭の要素を取り除いてそれを返します。
引数を指定した場合はその個数だけ取り除き、それを配列で返します。
</p>
<p>
空配列の場合、n が指定されていない場合は nil を、
指定されている場合は空配列を返します。
また、n が自身の要素数より少ない場合はその要素数の配列を
返します。どちらの場合も自身は空配列となります。
</p>
<p>
返す値と副作用の両方を利用して、個数を指定して配列を 2 分する簡単な方法として使えます。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
自身から取り除きたい要素の個数を非負整数で指定します。
整数以外のオブジェクトを指定した場合は to_int メソッドによる暗
黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを
指定した場合に発生します。
</dd>
<dt>[EXCEPTION] ArgumentError:</dt>
<dd>
引数に負の数を指定した場合に発生します。
</dd>
</dl>
<p>
例:
</p>
<pre>
a = [0, 1, 2, 3, 4]
p a.shift            #=&gt; 0
p a                  #=&gt; [1, 2, 3, 4]

p [].shift           #=&gt; nil
p [].shift(1)        #=&gt; []
</pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/push.html">Array#push</a>, <a href="../method/-array/i/pop.html">Array#pop</a>, <a href="../method/-array/i/unshift.html">Array#unshift</a>
</p>
</dd>


<dt class="method-heading" id="I_SHUFFLE"><code>shuffle -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/shuffle.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-shuffle">rdoc</a>]</span></dt>
<dt class="method-heading"><code>shuffle(random: rng) -&gt; Array</code></dt>
<dd class="method-description">
<p>
配列の要素をランダムシャッフルして，その結果を配列として返します。
</p>
<p>
引数に <a href="../class/-random.html">Random</a> オブジェクトを渡すことでそのオブジェクトが
生成する疑似乱数列を用いることができます。
</p>
<p>
例:
</p>
<pre>
a = [ 1, 2, 3 ]           #=&gt; [1, 2, 3]
a.shuffle                 #=&gt; [2, 3, 1]
rng = Random.new
rng2 = rng.dup # RNGを複製
# 以下の2つは同じ結果を返す
[1,2,3].shuffle(random: rng)
[1,2,3].shuffle(random: rng2)
</pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/shuffle=21.html">Array#shuffle!</a>
</p>
</dd>


<dt class="method-heading" id="I_SHUFFLE--21"><code>shuffle! -&gt; self</code><span class="permalink">[<a href="../method/-array/i/shuffle=21.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-shuffle-21">rdoc</a>]</span></dt>
<dt class="method-heading"><code>shuffle!(random: rng) -&gt; self</code></dt>
<dd class="method-description">
<p>
配列を破壊的にランダムシャッフルします。
</p>
<dl>
<dt class='method-param'>[PARAM] rng:</dt>
<dd>
乱数生成器(主に <a href="../class/-random.html">Random</a> オブジェクト)を指定します。
0 以上 1 未満の値を返す rand メソッドに応答するオブジェクト
であれば指定する事ができます。
<a href="../method/-kernel/m/rand.html">Kernel.#rand</a>、<a href="../class/-random.html">Random</a> を使用しないオブジェクトを
指定した場合、<a href="../method/-kernel/m/srand.html">Kernel.#srand</a>の指定に影響されません。
</dd>
</dl>
<p>
例:
</p>
<pre>
a = [ 1, 2, 3 ]           #=&gt; [1, 2, 3]
a.shuffle!                #=&gt; [2, 3, 1]
a                         #=&gt; [2, 3, 1]
</pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/shuffle.html">Array#shuffle</a>
</p>
</dd>


<dt class="method-heading" id="I_SLICE"><code>slice(nth) -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/slice.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-slice">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
指定された自身の要素を返します。<a href="../method/-array/i/=5b=5d.html">Array#[]</a> と同じです。
</p>
<dl>
<dt class='method-param'>[PARAM] nth:</dt>
<dd>
要素のインデックスを整数で指定します。<a href="../method/-array/i/=5b=5d.html">Array#[]</a> と同じです。
</dd>
</dl>
<p>
例:
</p>
<pre>
p [0, 1, 2].slice(1)    #=&gt; 1
p [0, 1, 2].slice(2)    #=&gt; 2
p [0, 1, 2].slice(10)   #=&gt; nil
</pre>
</dd>
<dt class="method-heading" id="I_SLICE"><code>slice(pos, len) -&gt; Array | nil</code><span class="permalink">[<a href="../method/-array/i/slice.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-slice">rdoc</a>]</span></dt>
<dt class="method-heading"><code>slice(range) -&gt; Array | nil</code></dt>
<dd class="method-description">
<p>
指定された自身の部分配列を返します。<a href="../method/-array/i/=5b=5d.html">Array#[]</a> と同じです。
</p>
<dl>
<dt class='method-param'>[PARAM] pos:</dt>
<dd>
<a href="../method/-array/i/=5b=5d.html">Array#[]</a> と同じです。
</dd>
<dt class='method-param'>[PARAM] len:</dt>
<dd>
<a href="../method/-array/i/=5b=5d.html">Array#[]</a> と同じです。
</dd>
<dt class='method-param'>[PARAM] range:</dt>
<dd>
<a href="../method/-array/i/=5b=5d.html">Array#[]</a> と同じです。
</dd>
</dl>
<p>
例:
</p>
<pre>
p [0, 1, 2].slice(0, 2)    #=&gt; [0, 1]
p [0, 1, 2].slice(2..3)    #=&gt; [2]
p [0, 1, 2].slice(10, 1)   #=&gt; nil
</pre>
</dd>


<dt class="method-heading" id="I_SLICE--21"><code>slice!(nth) -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/slice=21.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-slice-21">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
指定した要素を自身から取り除き、取り除いた要素を返します。取り除く要素がなければ nil
を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] nth:</dt>
<dd>
取り除く要素のインデックスを整数で指定します。
</dd>
</dl>
<p>
例:
</p>
<pre>
a = [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ]
a.slice!(1)     #=&gt; &quot;b&quot;
a               #=&gt; [&quot;a&quot;, &quot;c&quot;]
a.slice!(-1)    #=&gt; &quot;c&quot;
a               #=&gt; [&quot;a&quot;]
a.slice!(100)   #=&gt; nil
a               #=&gt; [&quot;a&quot;]
</pre>
</dd>
<dt class="method-heading" id="I_SLICE--21"><code>slice!(start, len) -&gt; Array | nil</code><span class="permalink">[<a href="../method/-array/i/slice=21.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-slice-21">rdoc</a>]</span></dt>
<dt class="method-heading"><code>slice!(range) -&gt; Array | nil</code></dt>
<dd class="method-description">
<p>
指定した部分配列を自身から取り除き、取り除いた部分配列を返します。取り除く要素がなければ nil
を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] start:</dt>
<dd>
削除したい部分配列の先頭のインデックスを整数で指定します。
</dd>
<dt class='method-param'>[PARAM] len:</dt>
<dd>
削除したい部分配列の長さを整数で指定します。
</dd>
<dt class='method-param'>[PARAM] range:</dt>
<dd>
削除したい配列の範囲を <a href="../class/-range.html">Range</a> オブジェクトで指定します。
</dd>
</dl>
<p>
例:
</p>
<pre>
a = [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ]
a.slice!(1, 2)     #=&gt; [&quot;b&quot;, &quot;c&quot;]
a                  #=&gt; [&quot;a&quot;]

a = [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ]
a.slice!(1, 0)     #=&gt; []
a                  #=&gt; [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ]
</pre>
</dd>


<dt class="method-heading" id="I_SORT"><code>sort -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/sort.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-sort">rdoc</a>]</span></dt>
<dt class="method-heading"><code>sort! -&gt; self</code></dt>
<dt class="method-heading"><code>sort {|a, b| ... } -&gt; Array</code></dt>
<dt class="method-heading"><code>sort! {|a, b| ... } -&gt; self</code></dt>
<dd class="method-description">
<p>
配列の内容をソートします。要素同士の比較は &lt;=&gt; 演算子を使って行います。sort はソートされた配列を生成して返します。
sort! は self を破壊的にソートし、self を返します。
</p>
<p>
ブロックとともに呼び出された時には、要素同士の比較をブロックを用いて行います。
ブロックに2つの要素を引数として与えて評価し、その結果で比較します。
ブロックは &lt;=&gt; 演算子と同様に整数を返すことが期待されています。つまり、
ブロックは第1引数が大きいなら正の整数、両者が等しいなら0、そして第1引数の方が小さいなら
負の整数を返さなければいけません。両者を比較できない時は nil を返します。
</p>
<pre>
a = [ &quot;d&quot;, &quot;a&quot;, &quot;e&quot;, &quot;c&quot;, &quot;b&quot; ]
p a.sort                                #=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]

b = [&quot;9&quot;, &quot;7&quot;, &quot;10&quot;, &quot;11&quot;, &quot;8&quot;]
p b.sort                                #=&gt; [&quot;10&quot;, &quot;11&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;] (文字列としてソートするとこうなる)
p b.sort{|x, y| x.to_i &lt;=&gt; y.to_i }     #=&gt; [&quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;11&quot;] (ブロックを使って数字としてソート)

# sort_by を使っても良い
p b.sort_by{|x| x.to_i }                #=&gt; [&quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;11&quot;]
</pre>
<p>
[SEE_ALSO] <a href="../method/-enumerable/i/sort_by.html">Enumerable#sort_by</a>
     , <a href="../method/-array/i/sort_by=21.html">Array#sort_by!</a>
</p>
</dd>


<dt class="method-heading" id="I_SORT_BY--21"><code>sort_by! -&gt; Enumerator</code><span class="permalink">[<a href="../method/-array/i/sort_by=21.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-sort_by-21">rdoc</a>]</span></dt>
<dt class="method-heading"><code>sort_by! {|item| ... } -&gt; self</code></dt>
<dd class="method-description">
<p>
sort_by の破壊的バージョンです。
</p>
<p>
ブロックを省略した場合は返り値によって配列を破壊的に
ソートする <a href="../class/-enumerator.html">Enumerator</a> を返します。
</p>
<p>
[SEE_ALSO] <a href="../method/-enumerable/i/sort_by.html">Enumerable#sort_by</a>
</p>
</dd>


<dt class="method-heading" id="I_TO_A"><code>to_a -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/to_a.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-to_a">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self を返します。ただし、Array のサブクラスのインスタンスに対して呼ばれた時は、
自身を Array に変換したものを返します。
</p>
</dd>


<dt class="method-heading" id="I_TO_ARY"><code>to_ary -&gt; self</code><span class="permalink">[<a href="../method/-array/i/to_ary.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-to_ary">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self をそのまま返します。
</p>
</dd>


<dt class="method-heading" id="I_TRANSPOSE"><code>transpose -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/transpose.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-transpose">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身を行列と見立てて、行列の転置(行と列の入れ換え)を行いま
す。転置した配列を生成して返します。空の配列に対しては空の配列を生
成して返します。
</p>
<p>
それ以外の一次元の配列に対しては、例外
<a href="../class/-type-error.html">TypeError</a> が発生します。各要素のサイズが不揃いな配列に対して
は、例外 <a href="../class/-index-error.html">IndexError</a> が発生します。
</p>
<pre>
p [[1,2],
   [3,4],
   [5,6]].transpose
# =&gt; [[1, 3, 5], [2, 4, 6]]

p [].transpose
# =&gt; []

p [1,2,3].transpose

# =&gt; -:1:in `transpose': cannot convert Fixnum into Array (TypeError)
        from -:1

p [[1,2],
   [3,4,5],
   [6,7]].transpose
# =&gt; -:3:in `transpose': element size differ (3 should be 2) (IndexError)
</pre>
</dd>


<dt class="method-heading" id="I_UNIQ"><code>uniq -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/uniq.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-uniq">rdoc</a>]</span></dt>
<dt class="method-heading"><code>uniq! -&gt; self | nil</code></dt>
<dt class="method-heading"><code>uniq {|item| ... } -&gt; Array</code></dt>
<dt class="method-heading"><code>uniq! {|item| ... } -&gt; self | nil</code></dt>
<dd class="method-description">
<p>
uniq は配列から重複した要素を取り除いた新しい配列を返します。
uniq! は削除を破壊的に行い、削除が行われた場合は self を、
そうでなければnil を返します。
</p>
<p>
取り除かれた要素の部分は前に詰められます。
要素の重複判定は、<a href="../method/-object/i/eql=3f.html">Object#eql?</a> により行われます。
</p>
<pre>
p [1, 1, 1].uniq         # =&gt; [1]
p [1, 4, 1].uniq         # =&gt; [1, 4]
p [1, 3, 2, 2, 3].uniq   # =&gt; [1, 3, 2]
</pre>
<p>
ブロックが与えられた場合、ブロックが返した値が重複した要素を取り除いた
配列を返します。
</p>
<pre>
p [1, 3, 2, &quot;2&quot;, &quot;3&quot;].uniq                # =&gt; [1, 3, 2, &quot;2&quot;, &quot;3&quot;]
p [1, 3, 2, &quot;2&quot;, &quot;3&quot;].uniq { |n| n.to_s } # =&gt; [1, 3, 2]
</pre>
</dd>


<dt class="method-heading" id="I_UNSHIFT"><code>unshift(*obj) -&gt; self</code><span class="permalink">[<a href="../method/-array/i/unshift.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-unshift">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
指定された obj を引数の最後から順番に配列の先頭に挿入します。
引数を指定しなければ何もしません。
</p>
<dl>
<dt class='method-param'>[PARAM] obj:</dt>
<dd>
自身に追加したいオブジェクトを指定します。
</dd>
</dl>
<pre>
arr = [1,2,3]
arr.unshift 0
p arr             #=&gt; [0, 1, 2, 3]
arr.unshift [0]
p arr             #=&gt; [[0], 0, 1, 2, 3]
arr.unshift 1, 2
p arr             #=&gt; [1, 2, [0], 0, 1, 2, 3]
</pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/push.html">Array#push</a>, <a href="../method/-array/i/pop.html">Array#pop</a>, <a href="../method/-array/i/shift.html">Array#shift</a>
</p>
</dd>


<dt class="method-heading" id="I_VALUES_AT"><code>values_at(*selectors) -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/values_at.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-values_at">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
引数で指定されたインデックスに対応する要素を配列で返します。インデッ
クスに対応する値がなければ nil が要素になります。
</p>
<dl>
<dt class='method-param'>[PARAM] selectors:</dt>
<dd>
インデックスを整数もしくは整数の <a href="../class/-range.html">Range</a> で指定します。
<a href="../class/-range.html">Range</a> の場合は、<a href="../method/-range/i/begin.html">Range#begin</a> が配列のサイズを越える場合は無視され、
<a href="../method/-range/i/end.html">Range#end</a> が配列のサイズを越えるまで対応する要素が選択されます。
ちょうど配列のサイズを指す場合は、nil で埋められます。
</dd>
</dl>
<pre>
ary = %w( a b c d e )
p ary.values_at( 0, 2, 4 )          #=&gt; [&quot;a&quot;, &quot;c&quot;, &quot;e&quot;]
p ary.values_at( 3, 4, 5, 6, 35 )   #=&gt; [&quot;d&quot;, &quot;e&quot;, nil, nil, nil]
p ary.values_at( 0, -1, -2 )        #=&gt; [&quot;a&quot;, &quot;e&quot;, &quot;d&quot;]
p ary.values_at( -4, -5, -6, -35 )  #=&gt; [&quot;b&quot;, &quot;a&quot;, nil, nil]
p ary.values_at( 1..2 )             #=&gt; [&quot;b&quot;, &quot;c&quot;]
p ary.values_at( 3..10 )            #=&gt; [&quot;d&quot;, &quot;e&quot;, nil]
p ary.values_at( 6..7 )             #=&gt; []
p ary.values_at( 0, 3..5 )          #=&gt; [&quot;a&quot;, &quot;d&quot;, &quot;e&quot;, nil]
</pre>
</dd>


<dt class="method-heading" id="I_ZIP"><code>zip(*lists) -&gt; [[object]]</code><span class="permalink">[<a href="../method/-array/i/zip.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-zip">rdoc</a>]</span></dt>
<dt class="method-heading"><code>zip(*lists) {|v1, v2, ...| ...} -&gt; nil</code></dt>
<dd class="method-description">
<p>
自身と引数に渡した配列の各要素からなる配列の配列を生成して返します。
生成される配列の要素数は self の要素数と同じです。
</p>
<p>
ブロック付きで呼び出した場合は、
self と引数に渡した配列の各要素を順番にブロックに渡します。
</p>
<dl>
<dt class='method-param'>[PARAM] lists:</dt>
<dd>
配列を指定します。
配列以外のオブジェクトを指定した場合は to_ary メソッドによ
る暗黙の型変換を試みます。to_ary メソッドに応答できない場
合は each メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] NoMethodError:</dt>
<dd>
引数に配列以外の(暗黙の型変換が行えない)オブジェク
トを指定した場合に発生します。
</dd>
</dl>
<p>
例:
</p>
<pre>
p [1,2,3].zip([4,5,6], [7,8,9])
    # =&gt; [[1, 4, 7], [2, 5, 8], [3, 6, 9]]

p [1,2].zip([:a,:b,:c], [:A,:B,:C,:D])
    # =&gt; [[1, :a, :A], [2, :b, :B]]

p [1,2,3,4,5].zip([:a,:b,:c], [:A,:B,:C,:D])
    # =&gt; [[1, :a, :A], [2, :b, :B],
    #     [3, :c, :C], [4, nil, :D], [5, nil, nil]]

p [1,2,3].zip([4,5,6], [7,8,9]) {|ary|
  p ary
}
    # =&gt; [1, 4, 7]
    #    [2, 5, 8]
    #    [3, 6, 9]
    #    nil
</pre>
</dd>


<dt class="method-heading" id="I_--7C"><code>self | other -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/=7c.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.3/Array.html#method-i-7C">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
集合の和演算です。両方の配列にいずれかに含まれる要素を全て含む新し
い配列を返します。重複する要素は取り除かれます。
</p>
<p>
要素の重複判定は、<a href="../method/-object/i/eql=3f.html">Object#eql?</a> により行われます。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
配列を指定します。
配列以外のオブジェクトを指定した場合は to_ary メソッドによ
る暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に配列以外の(暗黙の型変換が行えない)オブジェクトを
指定した場合に発生します。
</dd>
</dl>
<pre>
[1, 1, 4, 2, 3] | [4, 5, 5]  #=&gt; [1, 4, 2, 3, 5]
</pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/=26.html">Array#&amp;</a>
</p>
</dd>


</dl>



<div id="footer">
  <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">
    <img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by/3.0/88x31.png" />
  </a>
</div>
</body>
</html>
