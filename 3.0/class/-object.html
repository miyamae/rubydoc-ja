<!DOCTYPE html>
<html lang="ja-JP">
<head>

<meta name="robots" content="noindex">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../style.css">
<link rel="stylesheet" href="../syntax-highlight.css">
<link rel="icon" type="image/png" href="../rurema.png">

<title>class Object (Ruby 3.0.4 リファレンスマニュアル)</title>
<meta name="description" content="全てのクラスのスーパークラス。
オブジェクトの一般的な振舞いを定義します。">
<script src="../script.js"></script>
</head>
<body>


<header>
  <nav>
    <ol class="inline-breadcrumb-list">
      <li>
        <a href="../doc/index.html">Ruby 3.0.4 リファレンスマニュアル</a>
      </li>
      <li>
        <a href="../library/index.html">ライブラリ一覧</a>
      </li>
      <li>
        <a href="../library/_builtin.html">組み込みライブラリ</a>
      </li>
      <li>
        Objectクラス
      </li>
    </ol>
  </nav>

<h1>class Object</h1>
</header>

<main>



  <nav>
    クラス・モジュールの継承リスト:
    <ol class="inline-ancestors-list">
      
        <li>
          <a href="../class/-basic-object.html">BasicObject</a>
        </li>
        
      
        <li>
          <a href="../class/-kernel.html">Kernel</a>
        </li>
        
      
      <li>
        Object
      </li>
    </ol>
  </nav>







<p>
  dynamic include:
  <a href="../class/-j-s-o-n=3a=3a-generator=3a=3a-generator-methods=3a=3a-object.html">JSON::Generator::GeneratorMethods::Object</a> (by <a href="../library/json.html">json</a>)
</p>





<h2>要約</h2>
<p>
全てのクラスのスーパークラス。オブジェクトの一般的な振舞いを定義します。
</p>
<p>
このクラスのメソッドは上書きしたり未定義にしない限り、すべてのオブジェクトで使用することができます。
</p>



<h2>目次</h2>
<dl>

<dt>特異メソッド</dt>
<dd>
<ul class="class-toc">

<li><a href="#S_NEW">new</a></li>

</ul>
</dd>

<dt>インスタンスメソッド</dt>
<dd>
<ul class="class-toc">

<li><a href="#I_--21--7E">!~</a></li>

<li><a href="#I_--3C--3D--3E">&lt;=&gt;</a></li>

<li><a href="#I_--3D--3D">==</a></li>

<li><a href="#I_--3D--3D--3D">===</a></li>

<li><a href="#I_--3D--7E">=~</a></li>

<li><a href="#I__DUMP">_dump</a></li>

<li><a href="#I_CLASS">class</a></li>

<li><a href="#I_CLONE">clone</a></li>

<li><a href="#I_DEFINE_SINGLETON_METHOD">define_singleton_method</a></li>

<li><a href="#I_DISPLAY">display</a></li>

<li><a href="#I_CLONE">dup</a></li>

<li><a href="#I_ENUM_FOR">enum_for</a></li>

<li><a href="#I_EQL--3F">eql?</a></li>

<li><a href="#I_EQUAL--3F">equal?</a></li>

<li><a href="#I_EXTEND">extend</a></li>

<li><a href="#I_FREEZE">freeze</a></li>

<li><a href="#I_FROZEN--3F">frozen?</a></li>

<li><a href="#I_HASH">hash</a></li>

<li><a href="#I_INSPECT">inspect</a></li>

<li><a href="#I_INSTANCE_OF--3F">instance_of?</a></li>

<li><a href="#I_INSTANCE_VARIABLE_DEFINED--3F">instance_variable_defined?</a></li>

<li><a href="#I_INSTANCE_VARIABLE_GET">instance_variable_get</a></li>

<li><a href="#I_INSTANCE_VARIABLE_SET">instance_variable_set</a></li>

<li><a href="#I_INSTANCE_VARIABLES">instance_variables</a></li>

<li><a href="#I_IS_A--3F">is_a?</a></li>

<li><a href="#I_ITSELF">itself</a></li>

<li><a href="#I_IS_A--3F">kind_of?</a></li>

<li><a href="#I_MARSHAL_DUMP">marshal_dump</a></li>

<li><a href="#I_MARSHAL_LOAD">marshal_load</a></li>

<li><a href="#I_METHOD">method</a></li>

<li><a href="#I_METHODS">methods</a></li>

<li><a href="#I_NIL--3F">nil?</a></li>

<li><a href="#I_OBJECT_ID">object_id</a></li>

<li><a href="#I_PRIVATE_METHODS">private_methods</a></li>

<li><a href="#I_PROTECTED_METHODS">protected_methods</a></li>

<li><a href="#I_PUBLIC_METHOD">public_method</a></li>

<li><a href="#I_PUBLIC_METHODS">public_methods</a></li>

<li><a href="#I_PUBLIC_SEND">public_send</a></li>

<li><a href="#I_REMOVE_INSTANCE_VARIABLE">remove_instance_variable</a></li>

<li><a href="#I_RESPOND_TO--3F">respond_to?</a></li>

<li><a href="#I_SEND">send</a></li>

<li><a href="#I_SINGLETON_CLASS">singleton_class</a></li>

<li><a href="#I_SINGLETON_METHOD">singleton_method</a></li>

<li><a href="#I_SINGLETON_METHODS">singleton_methods</a></li>

<li><a href="#I_TAINT">taint</a></li>

<li><a href="#I_TAINTED--3F">tainted?</a></li>

<li><a href="#I_TAP">tap</a></li>

<li><a href="#I_THEN">then</a></li>

<li><a href="#I_TO_A">to_a</a></li>

<li><a href="#I_TO_ARY">to_ary</a></li>

<li><a href="#I_ENUM_FOR">to_enum</a></li>

<li><a href="#I_TO_HASH">to_hash</a></li>

<li><a href="#I_TO_INT">to_int</a></li>

<li><a href="#I_TO_IO">to_io</a></li>

<li><a href="#I_TO_PROC">to_proc</a></li>

<li><a href="#I_TO_REGEXP">to_regexp</a></li>

<li><a href="#I_TO_S">to_s</a></li>

<li><a href="#I_TO_STR">to_str</a></li>

<li><a href="#I_TRUST">trust</a></li>

<li><a href="#I_UNTAINT">untaint</a></li>

<li><a href="#I_UNTRUST">untrust</a></li>

<li><a href="#I_UNTRUSTED--3F">untrusted?</a></li>

<li><a href="#I_THEN">yield_self</a></li>

</ul>
</dd>

<dt>privateメソッド</dt>
<dd>
<ul class="class-toc">

<li><a href="#I_INITIALIZE">initialize</a></li>

<li><a href="#I_INITIALIZE_COPY">initialize_copy</a></li>

<li><a href="#I_RESPOND_TO_MISSING--3F">respond_to_missing?</a></li>

</ul>
</dd>

<dt>定数</dt>
<dd>
<ul class="class-toc">

<li><a href="#C_-A-R-G-F">ARGF</a></li>

<li><a href="#C_-A-R-G-V">ARGV</a></li>

<li><a href="#C_-D-A-T-A">DATA</a></li>

<li><a href="#C_-E-N-V">ENV</a></li>

<li><a href="#C_-R-U-B-Y_-C-O-P-Y-R-I-G-H-T">RUBY_COPYRIGHT</a></li>

<li><a href="#C_-R-U-B-Y_-D-E-S-C-R-I-P-T-I-O-N">RUBY_DESCRIPTION</a></li>

<li><a href="#C_-R-U-B-Y_-E-N-G-I-N-E">RUBY_ENGINE</a></li>

<li><a href="#C_-R-U-B-Y_-E-N-G-I-N-E_-V-E-R-S-I-O-N">RUBY_ENGINE_VERSION</a></li>

<li><a href="#C_-R-U-B-Y_-P-A-T-C-H-L-E-V-E-L">RUBY_PATCHLEVEL</a></li>

<li><a href="#C_-R-U-B-Y_-P-L-A-T-F-O-R-M">RUBY_PLATFORM</a></li>

<li><a href="#C_-R-U-B-Y_-R-E-L-E-A-S-E_-D-A-T-E">RUBY_RELEASE_DATE</a></li>

<li><a href="#C_-R-U-B-Y_-R-E-V-I-S-I-O-N">RUBY_REVISION</a></li>

<li><a href="#C_-R-U-B-Y_-V-E-R-S-I-O-N">RUBY_VERSION</a></li>

<li><a href="#C_-S-C-R-I-P-T_-L-I-N-E-S__">SCRIPT_LINES__</a></li>

<li><a href="#C_-S-T-D-E-R-R">STDERR</a></li>

<li><a href="#C_-S-T-D-I-N">STDIN</a></li>

<li><a href="#C_-S-T-D-O-U-T">STDOUT</a></li>

<li><a href="#C_-T-O-P-L-E-V-E-L_-B-I-N-D-I-N-G">TOPLEVEL_BINDING</a></li>

</ul>
</dd>

</dl>




</dl>


<h2>特異メソッド</h2>
<dl>

<dt class="method-heading" id="S_NEW"><code>new -&gt; Object</code><span class="permalink">[<a href="../method/-object/s/new.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-c-new">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
Objectクラスのインスタンスを生成して返します。
</p>
<pre class="highlight ruby">
<code>
some <span class="o">=</span> <span class="no">Object</span><span class="p">.</span><span class="nf">new</span>
<span class="nb">p</span> some <span class="c1">#=&gt; #&lt;Object:0x2b696d8&gt;
</span></code></pre>
</dd>


</dl>

<h2>インスタンスメソッド</h2>
<dl>

<dt class="method-heading" id="I_--21--7E"><code>self !~ other -&gt; bool</code><span class="permalink">[<a href="../method/-object/i/=21=7e.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-21-7E">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身が other とマッチしない事を判定します。
</p>
<p>
self#=~(obj) を反転した結果と同じ結果を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
判定するオブジェクトを指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
obj <span class="o">=</span> <span class="s1">'regexp'</span>
<span class="nb">p</span> <span class="p">(</span>obj <span class="o">!~</span> <span class="sr">/re/</span><span class="p">)</span> <span class="c1"># =&gt; false
</span>
obj <span class="o">=</span> <span class="k">nil</span>
<span class="nb">p</span> <span class="p">(</span>obj <span class="o">!~</span> <span class="sr">/re/</span><span class="p">)</span> <span class="c1"># =&gt; true
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/=3d=7e.html">Object#=~</a>
</p>
</dd>


<dt class="method-heading" id="I_--3C--3D--3E"><code>self &lt;=&gt; other -&gt; 0 | nil</code><span class="permalink">[<a href="../method/-object/i/=3c=3d=3e.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-3C-3D-3E">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self === other である場合に 0 を返します。そうでない場合には nil を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="no">Object</span><span class="p">.</span><span class="nf">new</span>
b <span class="o">=</span> <span class="no">Object</span><span class="p">.</span><span class="nf">new</span>
a <span class="o">&lt;=&gt;</span> a <span class="c1"># =&gt; 0
</span>a <span class="o">&lt;=&gt;</span> b <span class="c1"># =&gt; nil
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/=3d=3d=3d.html">Object#===</a>
</p>
</dd>


<dt class="method-heading" id="I_--3D--3D"><code>self == other -&gt; bool</code><span class="permalink">[<a href="../method/-object/i/=3d=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-3D-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトと other が等しければ真を返します。
</p>
<p>
このメソッドは各クラスの性質に合わせて再定義すべきです。多くの場合、オブジェクトの内容が等しければ真を返すように（同値性を判定するように）再定義されることが期待されています。
</p>
<p>
デフォルトでは equal? と同じオブジェクトの同一性判定になっています。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
比較するオブジェクトです。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="nb">p</span><span class="p">(</span><span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span> <span class="o">==</span> <span class="s2">"</span><span class="s2">bar</span><span class="s2">"</span><span class="p">)</span> <span class="c1">#=&gt; false
</span><span class="nb">p</span><span class="p">(</span><span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span> <span class="o">==</span> <span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span><span class="p">)</span> <span class="c1">#=&gt; true
</span>
<span class="nb">p</span><span class="p">(</span><span class="mi">4</span> <span class="o">==</span> <span class="mi">4</span><span class="p">)</span> <span class="c1">#=&gt; true
</span><span class="nb">p</span><span class="p">(</span><span class="mi">4</span> <span class="o">==</span> <span class="mf">4.0</span><span class="p">)</span> <span class="c1">#=&gt; true
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/equal=3f.html">Object#equal?</a>,<a href="../method/-object/i/eql=3f.html">Object#eql?</a>
</p>
</dd>


<dt class="method-heading" id="I_--3D--3D--3D"><code>self === other -&gt; bool</code><span class="permalink">[<a href="../method/-object/i/=3d=3d=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-3D-3D-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
メソッド <a href="../method/-object/i/=3d=3d.html">Object#==</a> の別名です。
case 式で使用されます。このメソッドは case 式での振る舞いを考慮して、各クラスの性質に合わせて再定義すべきです。
</p>
<p>
一般的に所属性のチェックを実現するため適宜再定義されます。
</p>
<p>
when 節の式をレシーバーとして === を呼び出すことに注意してください。
</p>
<p>
また <a href="../method/-enumerable/i/grep.html">Enumerable#grep</a> でも使用されます。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
比較するオブジェクトです。
</dd>
</dl>
<pre class="highlight ruby">
<code>
age <span class="o">=</span> <span class="mi">12</span>
result <span class="o">=</span>
<span class="k">case</span> age
<span class="k">when</span> <span class="mi">0</span> <span class="o">..</span> <span class="mi">2</span>
  <span class="s2">"</span><span class="s2">baby</span><span class="s2">"</span>
<span class="k">when</span> <span class="mi">3</span> <span class="o">..</span> <span class="mi">6</span>
  <span class="s2">"</span><span class="s2">little child</span><span class="s2">"</span>
<span class="k">when</span> <span class="mi">7</span> <span class="o">..</span> <span class="mi">12</span>
  <span class="s2">"</span><span class="s2">child</span><span class="s2">"</span>
<span class="k">when</span> <span class="mi">13</span> <span class="o">..</span> <span class="mi">18</span>
  <span class="s2">"</span><span class="s2">youth</span><span class="s2">"</span>
<span class="k">else</span>
  <span class="s2">"</span><span class="s2">adult</span><span class="s2">"</span>
<span class="k">end</span>

<span class="nb">puts</span> result <span class="c1">#=&gt; &quot;child&quot;
</span>
<span class="k">def</span> <span class="nf">check</span> arg
  <span class="k">case</span> arg
  <span class="k">when</span> <span class="sr">/ruby(?!\s*on\s*rails)/i</span>
    <span class="s2">"</span><span class="s2">hit! </span><span class="si">#{</span><span class="n">arg</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">when</span> <span class="no">String</span>
    <span class="s2">"</span><span class="s2">Instance of String class. But don't hit.</span><span class="s2">"</span>
  <span class="k">else</span>
    <span class="s2">"</span><span class="s2">unknown</span><span class="s2">"</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="nb">puts</span> check<span class="p">(</span><span class="p">[</span><span class="p">]</span><span class="p">)</span> <span class="c1">#=&gt; unknown
</span><span class="nb">puts</span> check<span class="p">(</span><span class="s2">"</span><span class="s2">mash-up in Ruby on Rails</span><span class="s2">"</span><span class="p">)</span> <span class="c1">#=&gt; instance of String class. But not hit...
</span><span class="nb">puts</span> check<span class="p">(</span><span class="s2">"</span><span class="s2">&lt;Ruby's world&gt;</span><span class="s2">"</span><span class="p">)</span> <span class="c1">#=&gt; hit! &lt;Ruby's world&gt;
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/=3d=3d.html">Object#==</a>, <a href="../method/-range/i/=3d=3d=3d.html">Range#===</a>, <a href="../method/-module/i/=3d=3d=3d.html">Module#===</a>, <a href="../method/-regexp/i/=3d=3d=3d.html">Regexp#===</a>, <a href="../method/-enumerable/i/grep.html">Enumerable#grep</a>
</p>
</dd>


<dt class="method-heading" id="I_--3D--7E"><code>self =~ other -&gt; nil</code><span class="permalink">[<a href="../method/-object/i/=3d=7e.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-3D-7E">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
右辺に正規表現オブジェクトを置いた正規表現マッチ obj =~ /RE/
をサポートするためのメソッドです。常に nil を返します。
</p>
<p>
このメソッドは Ruby 2.6 から deprecated です。
</p>
<p>
意図せずに Array などに対して呼ばれた時にバグの原因になっていたため、代わりに <a href="../method/-nil-class/i/=3d=7e.html">NilClass#=~</a> が定義されています。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
任意のオブジェクトです。結果に影響しません。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
obj <span class="o">=</span> <span class="s1">'regexp'</span>
<span class="nb">p</span><span class="p">(</span>obj <span class="o">=~</span> <span class="sr">/re/</span><span class="p">)</span> <span class="c1">#=&gt; 0
</span>
obj <span class="o">=</span> <span class="k">nil</span>
<span class="nb">p</span><span class="p">(</span>obj <span class="o">=~</span> <span class="sr">/re/</span><span class="p">)</span> <span class="c1">#=&gt; nil
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-string/i/=3d=7e.html">String#=~</a>
</p>
</dd>


<dt class="method-heading" id="I__DUMP"><code>_dump(limit) -&gt; String</code><span class="permalink">[<a href="../method/-object/i/_dump.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-_dump">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../method/-marshal/m/dump.html">Marshal.#dump</a> において出力するオブジェクトがメソッド _dump
を定義している場合には、そのメソッドの結果が書き出されます。
</p>
<p>
バージョン1.8.0以降では<a href="../method/-object/i/marshal_dump.html">Object#marshal_dump</a>, <a href="../method/-object/i/marshal_load.html">Object#marshal_load</a>の使用が推奨されます。 Marshal.dump するオブジェクトが _dump と marshal_dump の両方のメソッドを持つ場合は marshal_dump が優先されます。
</p>
<p>
メソッド _dump は引数として再帰を制限するレベル limit を受け取り、オブジェクトを文字列化したものを返します。
</p>
<p>
インスタンスがメソッド _dump を持つクラスは必ず同じフォーマットを読み戻すクラスメソッド _load を定義する必要があります。_load はオブジェクトを表現した文字列を受け取り、それをオブジェクトに戻したものを返す必要があります。
</p>
<dl>
<dt class='method-param'>[PARAM] limit:</dt>
<dd>
再帰の制限レベルを表す整数です。
</dd>
<dt>[RETURN]</dt>
<dd>
オブジェクトを文字列化したものを返すように定義すべきです。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Foo</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span>arg<span class="p">)</span>
    <span class="vi">@foo</span> <span class="o">=</span> arg
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">_dump</span><span class="p">(</span>limit<span class="p">)</span>
    <span class="no">Marshal</span><span class="p">.</span><span class="nf">dump</span><span class="p">(</span><span class="vi">@foo</span>, limit<span class="p">)</span>
  <span class="k">end</span>
  <span class="k">def</span> <span class="nc">self</span><span class="p">.</span><span class="nf">_load</span><span class="p">(</span><span class="nf">obj</span><span class="p">)</span>
    <span class="nb">p</span> obj
    <span class="no">Foo</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="no">Marshal</span><span class="p">.</span><span class="nf">load</span><span class="p">(</span>obj<span class="p">)</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
foo <span class="o">=</span> <span class="no">Foo</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="p">[</span><span class="s1">'foo'</span>, <span class="s1">'bar'</span><span class="p">]</span><span class="p">)</span>
<span class="nb">p</span> foo                      <span class="c1">#=&gt; #&lt;Foo:0xbaf234 @foo=[&quot;foo&quot;, &quot;bar&quot;]&gt;
</span>dms <span class="o">=</span> <span class="no">Marshal</span><span class="p">.</span><span class="nf">dump</span><span class="p">(</span>foo<span class="p">)</span>
<span class="nb">p</span> dms                      <span class="c1">#=&gt; &quot;\004\bu:\bFoo\023\004\b[\a\&quot;\bfoo\&quot;\bbar&quot;
</span>result <span class="o">=</span> <span class="no">Marshal</span><span class="p">.</span><span class="nf">load</span><span class="p">(</span>dms<span class="p">)</span> <span class="c1">#=&gt; &quot;\004\b[\a\&quot;\bfoo\&quot;\bbar&quot; # self._load の引数
</span><span class="nb">p</span> result                   <span class="c1">#=&gt; #&lt;Foo:0xbaf07c @foo=[&quot;foo&quot;, &quot;bar&quot;]&gt;
</span></code></pre>
<p>
インスタンス変数の情報は普通マーシャルデータに含まれるので、上例のように _dump を定義する必要はありません(ただし _dump を定義するとインスタンス変数の情報は dump されなくなります)。
_dump/_load はより高度な制御を行いたい場合や拡張ライブラリで定義したクラスのインスタンスがインスタンス変数以外に情報を保持する場合に利用します。(例えば、クラス <a href="../class/-time.html">Time</a> は、_dump/_load を定義しています)
</p>
<p>
[SEE_ALSO] <a href="../method/-object/i/marshal_dump.html">Object#marshal_dump</a>, <a href="../method/-object/i/marshal_load.html">Object#marshal_load</a>, <a href="../method/-class/i/_load.html">Class#_load</a>
</p>
</dd>


<dt class="method-heading" id="I_CLASS"><code>class -&gt; Class</code><span class="permalink">[<a href="../method/-object/i/class.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-class">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
レシーバのクラスを返します。
</p>
<pre class="highlight ruby">
<code>
<span class="nb">p</span> <span class="s2">"</span><span class="s2">ruby</span><span class="s2">"</span><span class="p">.</span><span class="nf">class</span> <span class="c1">#=&gt; String
</span><span class="nb">p</span> <span class="mi">100</span><span class="p">.</span><span class="nf">class</span> <span class="c1">#=&gt; Integer
</span><span class="nb">p</span> <span class="no">ARGV</span><span class="p">.</span><span class="nf">class</span> <span class="c1">#=&gt; Array
</span><span class="nb">p</span> <span class="nc">self</span><span class="p">.</span><span class="nf">class</span> <span class="c1">#=&gt; Object
</span><span class="nb">p</span> <span class="no">Class</span><span class="p">.</span><span class="nf">class</span> <span class="c1">#=&gt; Class
</span><span class="nb">p</span> <span class="no">Kernel</span><span class="p">.</span><span class="nf">class</span> <span class="c1">#=&gt; Module
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-class/i/superclass.html">Class#superclass</a>,<a href="../method/-object/i/kind_of=3f.html">Object#kind_of?</a>,<a href="../method/-object/i/instance_of=3f.html">Object#instance_of?</a>
</p>
</dd>


<dt class="method-heading" id="I_CLONE"><code>clone(freeze: true) -&gt; object</code><span class="permalink">[<a href="../method/-object/i/clone.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-clone">rdoc</a>]</span></dt>
<dt class="method-heading"><code>dup -&gt; object</code></dt>
<dd class="method-description">
<p>
オブジェクトの複製を作成して返します。
</p>
<p>
dup はオブジェクトの内容, taint 情報をコピーし、
clone はそれに加えて freeze, 特異メソッドなどの情報も含めた完全な複製を作成します。
</p>
<p>
clone や dup は浅い(shallow)コピーであることに注意してください。後述。
</p>
<p>
<a href="../class/-true-class.html">TrueClass</a>, <a href="../class/-false-class.html">FalseClass</a>, <a href="../class/-nil-class.html">NilClass</a>, <a href="../class/-symbol.html">Symbol</a>, そして <a href="../class/-numeric.html">Numeric</a> クラスのインスタンスなど一部のオブジェクトは複製ではなくインスタンス自身を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] freeze:</dt>
<dd>
false を指定すると freeze されていないコピーを返します。
</dd>
<dt>[EXCEPTION] ArgumentError:</dt>
<dd>
<a href="../class/-true-class.html">TrueClass</a> などの常に freeze されているオブジェクトの freeze されていないコピーを作成しようとしたときに発生します。
</dd>
</dl>
<pre class="highlight ruby">
<code>
obj <span class="o">=</span> <span class="s2">"</span><span class="s2">string</span><span class="s2">"</span>
obj<span class="p">.</span><span class="nf">taint</span>
<span class="k">def</span> <span class="nf">obj</span><span class="p">.</span><span class="nf">fuga</span>
<span class="k">end</span>
obj<span class="p">.</span><span class="nf">freeze</span>

<span class="nb">p</span><span class="p">(</span>obj<span class="p">.</span><span class="nf">equal?</span><span class="p">(</span>obj<span class="p">)</span><span class="p">)</span>          <span class="c1">#=&gt; true
</span><span class="nb">p</span><span class="p">(</span>obj <span class="o">==</span> obj<span class="p">)</span>               <span class="c1">#=&gt; true
</span><span class="nb">p</span><span class="p">(</span>obj<span class="p">.</span><span class="nf">tainted?</span><span class="p">)</span>             <span class="c1">#=&gt; false
</span><span class="nb">p</span><span class="p">(</span>obj<span class="p">.</span><span class="nf">frozen?</span><span class="p">)</span>              <span class="c1">#=&gt; true
</span><span class="nb">p</span><span class="p">(</span>obj<span class="p">.</span><span class="nf">respond_to?</span><span class="p">(</span><span class="ss">:fuga</span><span class="p">)</span><span class="p">)</span>   <span class="c1">#=&gt; true
</span>
obj_c <span class="o">=</span> obj<span class="p">.</span><span class="nf">clone</span>

<span class="nb">p</span><span class="p">(</span>obj<span class="p">.</span><span class="nf">equal?</span><span class="p">(</span>obj_c<span class="p">)</span><span class="p">)</span>        <span class="c1">#=&gt; false
</span><span class="nb">p</span><span class="p">(</span>obj <span class="o">==</span> obj_c<span class="p">)</span>             <span class="c1">#=&gt; true
</span><span class="nb">p</span><span class="p">(</span>obj_c<span class="p">.</span><span class="nf">tainted?</span><span class="p">)</span>           <span class="c1">#=&gt; false
</span><span class="nb">p</span><span class="p">(</span>obj_c<span class="p">.</span><span class="nf">frozen?</span><span class="p">)</span>            <span class="c1">#=&gt; true
</span><span class="nb">p</span><span class="p">(</span>obj_c<span class="p">.</span><span class="nf">respond_to?</span><span class="p">(</span><span class="ss">:fuga</span><span class="p">)</span><span class="p">)</span> <span class="c1">#=&gt; true
</span>
obj_d <span class="o">=</span> obj<span class="p">.</span><span class="nf">dup</span>

<span class="nb">p</span><span class="p">(</span>obj<span class="p">.</span><span class="nf">equal?</span><span class="p">(</span>obj_d<span class="p">)</span><span class="p">)</span>        <span class="c1">#=&gt; false
</span><span class="nb">p</span><span class="p">(</span>obj <span class="o">==</span> obj_d<span class="p">)</span>             <span class="c1">#=&gt; true
</span><span class="nb">p</span><span class="p">(</span>obj_d<span class="p">.</span><span class="nf">tainted?</span><span class="p">)</span>           <span class="c1">#=&gt; false
</span><span class="nb">p</span><span class="p">(</span>obj_d<span class="p">.</span><span class="nf">frozen?</span><span class="p">)</span>            <span class="c1">#=&gt; false
</span><span class="nb">p</span><span class="p">(</span>obj_d<span class="p">.</span><span class="nf">respond_to?</span><span class="p">(</span><span class="ss">:fuga</span><span class="p">)</span><span class="p">)</span> <span class="c1">#=&gt; false
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/initialize_copy.html">Object#initialize_copy</a>
</p>
<h3 >深いコピーと浅いコピー</h3>
<p>
clone や dup はオブジェクト自身を複製するだけで、オブジェクトの指している先(たとえば配列の要素など)までは複製しません。これを浅いコピー(shallow copy)といいます。
</p>
<p>
深い(deep)コピーが必要な場合には、
<a href="../class/-marshal.html">Marshal</a>モジュールを利用して
</p>
<pre class="highlight ruby">
<code>
<span class="no">Marshal</span><span class="p">.</span><span class="nf">load</span><span class="p">(</span><span class="no">Marshal</span><span class="p">.</span><span class="nf">dump</span><span class="p">(</span>obj<span class="p">)</span><span class="p">)</span>
</code></pre>
<p>
このように複製を作成する方法があります。ただしMarshal出来ないオブジェクトが含まれている場合には使えません。
</p>
<pre class="highlight ruby">
<code>
obj <span class="o">=</span> <span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>,<span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>,<span class="s2">"</span><span class="s2">c</span><span class="s2">"</span><span class="p">]</span>

obj_d <span class="o">=</span> obj<span class="p">.</span><span class="nf">dup</span>
obj_d<span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s2">"</span><span class="s2">PLUS</span><span class="s2">"</span>

<span class="nb">p</span> obj   <span class="c1">#=&gt; [&quot;aPLUS&quot;, &quot;b&quot;, &quot;c&quot;]
</span><span class="nb">p</span> obj_d <span class="c1">#=&gt; [&quot;aPLUS&quot;, &quot;b&quot;, &quot;c&quot;]
</span>
obj_m <span class="o">=</span> <span class="no">Marshal</span><span class="p">.</span><span class="nf">load</span><span class="p">(</span><span class="no">Marshal</span><span class="p">.</span><span class="nf">dump</span><span class="p">(</span>obj<span class="p">)</span><span class="p">)</span>
obj_m<span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s2">"</span><span class="s2">PLUS</span><span class="s2">"</span>

<span class="nb">p</span> obj   <span class="c1">#=&gt; [&quot;aPLUS&quot;, &quot;b&quot;, &quot;c&quot;]
</span><span class="nb">p</span> obj_m <span class="c1">#=&gt; [&quot;aPLUS&quot;, &quot;bPLUS&quot;, &quot;c&quot;]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_DEFINE_SINGLETON_METHOD"><code>define_singleton_method(symbol, method) -&gt; Symbol</code><span class="permalink">[<a href="../method/-object/i/define_singleton_method.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-define_singleton_method">rdoc</a>]</span></dt>
<dt class="method-heading"><code>define_singleton_method(symbol) { ... } -&gt; Symbol</code></dt>
<dd class="method-description">
<p>
self に特異メソッド name を定義します。
</p>
<dl>
<dt class='method-param'>[PARAM] symbol:</dt>
<dd>
メソッド名を <a href="../class/-string.html">String</a> または <a href="../class/-symbol.html">Symbol</a> で指定します。
</dd>
<dt class='method-param'>[PARAM] method:</dt>
<dd>
<a href="../class/-proc.html">Proc</a>、<a href="../class/-method.html">Method</a> あるいは <a href="../class/-unbound-method.html">UnboundMethod</a> のいずれかのインスタンスを指定します。
</dd>
<dt>[RETURN]</dt>
<dd>
メソッド名を表す <a href="../class/-symbol.html">Symbol</a> を返します。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">A</span>
  <span class="k">class</span> <span class="o">&lt;&lt;</span> <span class="nc">self</span>
    <span class="k">def</span> <span class="nf">class_name</span>
      <span class="nb">to_s</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
<span class="no">A</span><span class="p">.</span><span class="nf">define_singleton_method</span><span class="p">(</span><span class="ss">:who_am_i</span><span class="p">)</span> <span class="k">do</span>
  <span class="s2">"</span><span class="s2">I am: </span><span class="si">#{</span><span class="n">class_name</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>
<span class="no">A</span><span class="p">.</span><span class="nf">who_am_i</span>   <span class="c1"># ==&gt; &quot;I am: A&quot;
</span>
guy <span class="o">=</span> <span class="s2">"</span><span class="s2">Bob</span><span class="s2">"</span>
guy<span class="p">.</span><span class="nf">define_singleton_method</span><span class="p">(</span><span class="ss">:hello</span><span class="p">)</span> <span class="p">{</span> <span class="s2">"</span><span class="si">#{</span><span class="nc">self</span><span class="si">}</span><span class="s2">: Hello there!</span><span class="s2">"</span> <span class="p">}</span>
guy<span class="p">.</span><span class="nf">hello</span>    <span class="c1">#=&gt;  &quot;Bob: Hello there!&quot;
</span></code></pre>
</dd>


<dt class="method-heading" id="I_DISPLAY"><code>display(out = $stdout) -&gt; nil</code><span class="permalink">[<a href="../method/-object/i/display.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-display">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトを out に出力します。
</p>
<p>
以下のように定義されています。
</p>
<pre class="highlight ruby">
<code>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Object</span>
  <span class="k">def</span> <span class="nf">display</span><span class="p">(</span>out <span class="o">=</span> <span class="vg">$stdout</span><span class="p">)</span>
    out<span class="p">.</span><span class="nf">write</span> <span class="nc">self</span>
    <span class="k">nil</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
<dl>
<dt class='method-param'>[PARAM] out:</dt>
<dd>
出力先のIOオブジェクトです。指定しない場合は標準出力に出力されます。
</dd>
<dt>[RETURN]</dt>
<dd>
nil を返します。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="no">Object</span><span class="p">.</span><span class="nf">new</span><span class="p">.</span><span class="nf">display</span> <span class="c1">#=&gt; #&lt;Object:0xbb0210&gt;
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-kernel/v/stdout.html">$stdout</a>
</p>
</dd>


<dt class="method-heading" id="I_ENUM_FOR"><code>to_enum(method = :each, *args) -&gt; Enumerator</code><span class="permalink">[<a href="../method/-object/i/enum_for.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-enum_for">rdoc</a>]</span></dt>
<dt class="method-heading"><code>enum_for(method = :each, *args) -&gt; Enumerator</code></dt>
<dt class="method-heading"><code>to_enum(method = :each, *args) {|*args| ... } -&gt; Enumerator</code></dt>
<dt class="method-heading"><code>enum_for(method = :each, *args) {|*args| ... } -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
<a href="../method/-enumerator/s/new.html">Enumerator.new</a>(self, method, *args) を返します。
</p>
<p>
ブロックを指定した場合は <a href="../method/-enumerator/i/size.html">Enumerator#size</a> がブロックの評価結果を返します。ブロックパラメータは引数 args です。
</p>
<dl>
<dt class='method-param'>[PARAM] method:</dt>
<dd>
メソッド名の文字列かシンボルです。
</dd>
<dt class='method-param'>[PARAM] args:</dt>
<dd>
呼び出すメソッドに渡される引数です。
</dd>
</dl>
<pre class="highlight ruby">
<code>
str <span class="o">=</span> <span class="s2">"</span><span class="s2">xyz</span><span class="s2">"</span>

enum <span class="o">=</span> str<span class="p">.</span><span class="nf">enum_for</span><span class="p">(</span><span class="ss">:each_byte</span><span class="p">)</span>
<span class="nb">p</span><span class="p">(</span>a <span class="o">=</span> enum<span class="p">.</span><span class="nf">map</span><span class="p">{</span><span class="o">|</span>b<span class="o">|</span> <span class="s1">'%02x'</span> <span class="o">%</span> b <span class="p">}</span><span class="p">)</span> <span class="c1">#=&gt; [&quot;78&quot;, &quot;79&quot;, &quot;7a&quot;]
</span>
<span class="c1"># protects an array from being modified
</span>a <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span>
<span class="nb">p</span><span class="p">(</span>a<span class="p">.</span><span class="nf">to_enum</span><span class="p">)</span> <span class="c1">#=&gt; #&lt;Enumerator: [1, 2, 3]:each&gt;
</span></code></pre>
<pre class="highlight ruby">
<span class="caption">例(ブロックを指定する場合)</span>
<code>
<span class="k">module</span> <span class="nn">Enumerable</span>
  <span class="k">def</span> <span class="nf">repeat</span><span class="p">(</span>n<span class="p">)</span>
    <span class="nb">raise</span> <span class="no">ArgumentError</span>, <span class="s2">"</span><span class="si">#{</span><span class="n">n</span><span class="si">}</span><span class="s2"> is negative!</span><span class="s2">"</span> <span class="k">if</span> n <span class="o">&lt;</span> <span class="mi">0</span>
    <span class="k">unless</span> block_given?
      <span class="c1"># __method__ はここでは :repeat
</span>      <span class="k">return</span> to_enum<span class="p">(</span>__method__, n<span class="p">)</span> <span class="k">do</span>
        <span class="c1"># size メソッドが nil でなければ size * n を返す。
</span>        sz <span class="o">=</span> size
        sz <span class="o">*</span> n <span class="k">if</span> sz
      <span class="k">end</span>
    <span class="k">end</span>
    each <span class="k">do</span> <span class="o">|</span><span class="o">*</span>val<span class="o">|</span>
      n<span class="p">.</span><span class="nf">times</span> <span class="p">{</span> <span class="k">yield</span> <span class="o">*</span>val <span class="p">}</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

%i[hello world<span class="s2">]</span><span class="p">.</span><span class="nf">repeat</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span>w<span class="o">|</span> <span class="nb">puts</span> w <span class="p">}</span>
<span class="c1"># =&gt; 'hello', 'hello', 'world', 'world'
</span>enum <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">14</span><span class="p">)</span><span class="p">.</span><span class="nf">repeat</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="c1"># =&gt; #&lt;Enumerator: 1..14:repeat(3)&gt;
</span>enum<span class="p">.</span><span class="nf">first</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="c1"># =&gt; [1, 1, 1, 2]
</span>enum<span class="p">.</span><span class="nf">size</span> <span class="c1"># =&gt; 42
</span></code></pre>
<p>
[SEE_ALSO] <a href="../class/-enumerator.html">Enumerator</a>, <a href="../method/-enumerator/i/size.html">Enumerator#size</a>
</p>
</dd>


<dt class="method-heading" id="I_EQL--3F"><code>eql?(other) -&gt; bool</code><span class="permalink">[<a href="../method/-object/i/eql=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-eql-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトと other が等しければ真を返します。<a href="../class/-hash.html">Hash</a> で二つのキーが等しいかどうかを判定するのに使われます。
</p>
<p>
このメソッドは各クラスの性質に合わせて再定義すべきです。多くの場合、 == と同様に同値性の判定をするように再定義されていますが、適切にキー判定ができるようにより厳しくなっている場合もあります。
</p>
<p>
デフォルトでは equal? と同じオブジェクトの同一性判定になっています。
</p>
<p>
このメソッドを再定義した時には <a href="../method/-object/i/hash.html">Object#hash</a> メソッドも再定義しなければなりません。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
比較するオブジェクトです。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="nb">p</span><span class="p">(</span><span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span><span class="p">.</span><span class="nf">eql?</span><span class="p">(</span><span class="s2">"</span><span class="s2">bar</span><span class="s2">"</span><span class="p">)</span><span class="p">)</span> <span class="c1">#=&gt; false
</span><span class="nb">p</span><span class="p">(</span><span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span><span class="p">.</span><span class="nf">eql?</span><span class="p">(</span><span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span><span class="p">)</span><span class="p">)</span> <span class="c1">#=&gt; true
</span>
<span class="nb">p</span><span class="p">(</span><span class="mi">4</span><span class="p">.</span><span class="nf">eql?</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="p">)</span> <span class="c1">#=&gt; true
</span><span class="nb">p</span><span class="p">(</span><span class="mi">4</span><span class="p">.</span><span class="nf">eql?</span><span class="p">(</span><span class="mf">4.0</span><span class="p">)</span><span class="p">)</span> <span class="c1">#=&gt; false
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/hash.html">Object#hash</a>,<a href="../method/-object/i/equal=3f.html">Object#equal?</a>,<a href="../method/-object/i/=3d=3d.html">Object#==</a>
</p>
</dd>


<dt class="method-heading" id="I_EQUAL--3F"><code>equal?(other) -&gt; bool</code><span class="permalink">[<a href="../method/-object/i/equal=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-equal-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
other が self 自身の時、真を返します。
</p>
<p>
二つのオブジェクトが同一のものかどうか調べる時に使用します。このメソッドを再定義してはいけません。
</p>
<p>
お互いの<a href="../method/-object/i/object_id.html">Object#object_id</a>が一致するかどうかを調べます。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
比較するオブジェクトです。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="nb">p</span><span class="p">(</span><span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span><span class="p">.</span><span class="nf">equal?</span><span class="p">(</span><span class="s2">"</span><span class="s2">bar</span><span class="s2">"</span><span class="p">)</span><span class="p">)</span> <span class="c1">#=&gt; false
</span><span class="nb">p</span><span class="p">(</span><span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span><span class="p">.</span><span class="nf">equal?</span><span class="p">(</span><span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span><span class="p">)</span><span class="p">)</span> <span class="c1">#=&gt; false
</span>
<span class="nb">p</span><span class="p">(</span><span class="mi">4</span><span class="p">.</span><span class="nf">equal?</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="p">)</span> <span class="c1">#=&gt; true
</span><span class="nb">p</span><span class="p">(</span><span class="mi">4</span><span class="p">.</span><span class="nf">equal?</span><span class="p">(</span><span class="mf">4.0</span><span class="p">)</span><span class="p">)</span> <span class="c1">#=&gt; false
</span>
<span class="nb">p</span><span class="p">(</span><span class="ss">:foo</span><span class="p">.</span><span class="nf">equal?</span> <span class="ss">:foo</span><span class="p">)</span> <span class="c1">#=&gt; true
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/object_id.html">Object#object_id</a>,<a href="../method/-object/i/=3d=3d.html">Object#==</a>,<a href="../method/-object/i/eql=3f.html">Object#eql?</a>,<a href="../class/-symbol.html">Symbol</a>
</p>
</dd>


<dt class="method-heading" id="I_EXTEND"><code>extend(*modules) -&gt; self</code><span class="permalink">[<a href="../method/-object/i/extend.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-extend">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
引数で指定したモジュールのインスタンスメソッドを self の特異メソッドとして追加します。
</p>
<p>
<a href="../method/-module/i/include.html">Module#include</a> は、クラス(のインスタンス)に機能を追加しますが、extend は、ある特定のオブジェクトだけにモジュールの機能を追加したいときに使用します。
</p>
<p>
引数に複数のモジュールを指定した場合、最後の引数から逆順に extend を行います。
</p>
<dl>
<dt class='method-param'>[PARAM] modules:</dt>
<dd>
モジュールを任意個指定します（クラスは不可）。
</dd>
<dt>[RETURN]</dt>
<dd>
self を返します。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="k">module</span> <span class="nn">Foo</span>
  <span class="k">def</span> <span class="nf">a</span>
    <span class="s1">'ok Foo'</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">module</span> <span class="nn">Bar</span>
  <span class="k">def</span> <span class="nf">b</span>
    <span class="s1">'ok Bar'</span>
  <span class="k">end</span>
<span class="k">end</span>

obj <span class="o">=</span> <span class="no">Object</span><span class="p">.</span><span class="nf">new</span>
obj<span class="p">.</span><span class="nf">extend</span> <span class="no">Foo</span>, <span class="no">Bar</span>
<span class="nb">p</span> obj<span class="p">.</span><span class="nf">a</span> <span class="c1">#=&gt; &quot;ok Foo&quot;
</span><span class="nb">p</span> obj<span class="p">.</span><span class="nf">b</span> <span class="c1">#=&gt; &quot;ok Bar&quot;
</span>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Klass</span>
  include <span class="no">Foo</span>
  <span class="nb">extend</span> <span class="no">Bar</span>
<span class="k">end</span>

<span class="nb">p</span> <span class="no">Klass</span><span class="p">.</span><span class="nf">new</span><span class="p">.</span><span class="nf">a</span> <span class="c1">#=&gt; &quot;ok Foo&quot;
</span><span class="nb">p</span> <span class="no">Klass</span><span class="p">.</span><span class="nf">b</span>     <span class="c1">#=&gt; &quot;ok Bar&quot;
</span></code></pre>
<p>
extend の機能は、「特異クラスに対する <a href="../method/-module/i/include.html">Module#include</a>」と言い替えることもできます。ただしその場合、フック用のメソッドが <a href="../method/-module/i/extended.html">Module#extended</a> ではなく <a href="../method/-module/i/included.html">Module#included</a> になるという違いがあります。
</p>
<pre class="highlight ruby">
<code>
<span class="c1"># obj.extend Foo, Bar とほぼ同じ
</span><span class="k">class</span> <span class="o">&lt;&lt;</span> obj
  include <span class="no">Foo</span>, <span class="no">Bar</span>
<span class="k">end</span>
</code></pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/extend_object.html">Module#extend_object</a>,<a href="../method/-module/i/include.html">Module#include</a>,<a href="../method/-module/i/extended.html">Module#extended</a>
</p>
</dd>


<dt class="method-heading" id="I_FREEZE"><code>freeze -&gt; self</code><span class="permalink">[<a href="../method/-object/i/freeze.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-freeze">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトを凍結（内容の変更を禁止）します。
</p>
<p>
凍結されたオブジェクトの変更は例外 <a href="../class/-frozen-error.html">FrozenError</a> を発生させます。いったん凍結されたオブジェクトを元に戻す方法はありません。
</p>
<p>
凍結されるのはオブジェクトであり、変数ではありません。代入などで変数の指すオブジェクトが変化してしまうことは freeze では防げません。 freeze が防ぐのは、
`破壊的な操作' と呼ばれるもの一般です。変数への参照自体を凍結したい場合は、グローバル変数なら <a href="../method/-kernel/m/trace_var.html">Kernel.#trace_var</a> が使えます。
</p>
<dl>
<dt>[RETURN]</dt>
<dd>
self を返します。
</dd>
</dl>
<pre class="highlight ruby">
<code>
a1 <span class="o">=</span> <span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span><span class="p">.</span><span class="nf">freeze</span>
a1 <span class="o">=</span> <span class="s2">"</span><span class="s2">bar</span><span class="s2">"</span>
<span class="nb">p</span> a1 <span class="c1">#=&gt; &quot;bar&quot;
</span>
a2 <span class="o">=</span> <span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span><span class="p">.</span><span class="nf">freeze</span>
a2<span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="s2">"</span><span class="s2">bar</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># can't modify frozen String (FrozenError)
</span></code></pre>
<p>
凍結を解除することはできませんが、<a href="../method/-object/i/dup.html">Object#dup</a> を使えばほぼ同じ内容の凍結されていないオブジェクトを得ることはできます。
</p>
<pre class="highlight ruby">
<code>
a <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="p">.</span><span class="nf">freeze</span>
<span class="nb">p</span> a<span class="p">.</span><span class="nf">frozen?</span>     <span class="c1">#=&gt; true
</span>
a<span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span>
<span class="nb">p</span> a             <span class="c1"># can't modify frozen Array (FrozenError)
</span>
b <span class="o">=</span> a<span class="p">.</span><span class="nf">dup</span>
<span class="nb">p</span> b             <span class="c1">#=&gt; [1]
</span><span class="nb">p</span> b<span class="p">.</span><span class="nf">frozen?</span>     <span class="c1">#=&gt; false
</span>
b<span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span>
<span class="nb">p</span> b             <span class="c1">#=&gt; [&quot;foo&quot;]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/frozen=3f.html">Object#frozen?</a>,<a href="../method/-object/i/dup.html">Object#dup</a>,<a href="../method/-kernel/m/trace_var.html">Kernel.#trace_var</a>
</p>
</dd>


<dt class="method-heading" id="I_FROZEN--3F"><code>frozen? -&gt; bool</code><span class="permalink">[<a href="../method/-object/i/frozen=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-frozen-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトが凍結（内容の変更を禁止）されているときに真を返します。
</p>
<pre class="highlight ruby">
<code>
obj <span class="o">=</span> <span class="s2">"</span><span class="s2">someone</span><span class="s2">"</span>
<span class="nb">p</span> obj<span class="p">.</span><span class="nf">frozen?</span> <span class="c1">#=&gt; false
</span>obj<span class="p">.</span><span class="nf">freeze</span>
<span class="nb">p</span> obj<span class="p">.</span><span class="nf">frozen?</span> <span class="c1">#=&gt; true
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/freeze.html">Object#freeze</a>
</p>
</dd>


<dt class="method-heading" id="I_HASH"><code>hash -&gt; Integer</code><span class="permalink">[<a href="../method/-object/i/hash.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-hash">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトのハッシュ値を返します。このハッシュ値は、<a href="../method/-object/i/eql=3f.html">Object#eql?</a> と合わせて <a href="../class/-hash.html">Hash</a> クラスで、2つのオブジェクトを同一のキーとするか判定するために用いられます。
</p>
<p>
2つのオブジェクトのハッシュ値が異なるとき、直ちに異なるキーとして判定されます。逆に、2つのハッシュ値が同じとき、さらに <a href="../method/-object/i/eql=3f.html">Object#eql?</a> での比較により判定されます。そのため、同じキーとして判定される状況は <a href="../method/-object/i/eql=3f.html">Object#eql?</a> の比較で真となる場合のみであり、このとき前段階としてハッシュ値どうしが等しい必要があります。つまり、
</p>
<pre>
A.eql?(B) ならば A.hash == B.hash
</pre>
<p>
の関係が満たされている必要があります。
</p>
<p>
ただし、ハッシュのキーとして <a href="../class/-integer.html">Integer</a>, <a href="../class/-symbol.html">Symbol</a>, <a href="../class/-string.html">String</a> などの特定の組み込みクラスが使われるときは、組込みのハッシュ関数が使用され、hash メソッドは呼ばれません。
</p>
<p>
hash メソッドを再定義する場合は、一様に分布する任意の整数を返すようにします。
</p>
<dl>
<dt>[RETURN]</dt>
<dd>
ハッシュ値を返します。Ruby 内部の固定長整数 fixnum に収まらない場合は切り捨てられます。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="nb">p</span> <span class="nc">self</span><span class="p">.</span><span class="nf">hash</span> <span class="c1">#=&gt; 2013505522753096494
</span><span class="nb">p</span> <span class="mi">0</span><span class="p">.</span><span class="nf">hash</span>    <span class="c1">#=&gt; 2647535320520409998
</span><span class="nb">p</span> <span class="mf">0.0</span><span class="p">.</span><span class="nf">hash</span>  <span class="c1">#=&gt; -2975129765814025835
</span><span class="nb">p</span> <span class="k">nil</span><span class="p">.</span><span class="nf">hash</span>  <span class="c1">#=&gt; 2401531420355998067
</span>
<span class="nb">p</span> <span class="s2">"</span><span class="s2">ruby</span><span class="s2">"</span><span class="p">.</span><span class="nf">hash</span> <span class="c1">#=&gt; 4460896024486900438
</span><span class="nb">p</span> <span class="s2">"</span><span class="s2">ruby</span><span class="s2">"</span><span class="p">.</span><span class="nf">hash</span> <span class="c1">#=&gt; 4460896024486900438
</span><span class="nb">p</span> <span class="ss">:ruby</span><span class="p">.</span><span class="nf">hash</span>  <span class="c1">#=&gt; 3979895509189707770
</span><span class="nb">p</span> <span class="ss">:ruby</span><span class="p">.</span><span class="nf">hash</span>  <span class="c1">#=&gt; 3979895509189707770
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/eql=3f.html">Object#eql?</a>, <a href="../method/-hash/i/=5b=5d.html">Hash#[]</a>
</p>
</dd>


<dt class="method-heading" id="I_INSPECT"><code>inspect -&gt; String</code><span class="permalink">[<a href="../method/-object/i/inspect.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-inspect">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトを人間が読める形式に変換した文字列を返します。
</p>
<p>
組み込み関数 <a href="../method/-kernel/m/p.html">Kernel.#p</a> は、このメソッドの結果を使用してオブジェクトを表示します。
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span> <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="o">..</span><span class="mi">4</span>, <span class="s1">'five'</span> <span class="p">]</span><span class="p">.</span><span class="nf">inspect</span>   <span class="c1"># =&gt; &quot;[1, 2, 3..4, \&quot;five\&quot;]&quot;
</span><span class="no">Time</span><span class="p">.</span><span class="nf">new</span><span class="p">.</span><span class="nf">inspect</span>                 <span class="c1"># =&gt; &quot;2008-03-08 19:43:39 +0900&quot;
</span></code></pre>
<p>
inspect メソッドをオーバーライドしなかった場合、クラス名とインスタンス変数の名前、値の組を元にした文字列を返します。
</p>
<pre class="highlight ruby">
<code>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Foo</span>
<span class="k">end</span>
<span class="no">Foo</span><span class="p">.</span><span class="nf">new</span><span class="p">.</span><span class="nf">inspect</span>                  <span class="c1"># =&gt; &quot;#&lt;Foo:0x0300c868&gt;&quot;
</span>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Bar</span>
  <span class="k">def</span> <span class="nf">initialize</span>
    <span class="vi">@bar</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="k">end</span>
<span class="k">end</span>
<span class="no">Bar</span><span class="p">.</span><span class="nf">new</span><span class="p">.</span><span class="nf">inspect</span>                  <span class="c1"># =&gt; &quot;#&lt;Bar:0x0300c868 @bar=1&gt;&quot;
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-kernel/m/p.html">Kernel.#p</a>
</p>
</dd>


<dt class="method-heading" id="I_INSTANCE_OF--3F"><code>instance_of?(klass) -&gt; bool</code><span class="permalink">[<a href="../method/-object/i/instance_of=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-instance_of-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトがクラス klass の直接のインスタンスである時真を返します。
</p>
<p>
obj.instance_of?(c) が成立する時には、常に obj.kind_of?(c) も成立します。
</p>
<dl>
<dt class='method-param'>[PARAM] klass:</dt>
<dd>
<a href="../class/-class.html">Class</a>かそのサブクラスのインスタンスです。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">C</span> <span class="o">&lt;</span> <span class="no">Object</span>
<span class="k">end</span>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">S</span> <span class="o">&lt;</span> <span class="no">C</span>
<span class="k">end</span>

obj <span class="o">=</span> <span class="no">S</span><span class="p">.</span><span class="nf">new</span>
<span class="nb">p</span> obj<span class="p">.</span><span class="nf">instance_of?</span><span class="p">(</span><span class="no">S</span><span class="p">)</span>       <span class="c1"># true
</span><span class="nb">p</span> obj<span class="p">.</span><span class="nf">instance_of?</span><span class="p">(</span><span class="no">C</span><span class="p">)</span>       <span class="c1"># false
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/kind_of=3f.html">Object#kind_of?</a>,<a href="../method/-object/i/class.html">Object#class</a>
</p>
</dd>


<dt class="method-heading" id="I_INSTANCE_VARIABLE_DEFINED--3F"><code>instance_variable_defined?(var) -&gt; bool</code><span class="permalink">[<a href="../method/-object/i/instance_variable_defined=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-instance_variable_defined-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
インスタンス変数 var が定義されていたら真を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] var:</dt>
<dd>
インスタンス変数名を文字列か <a href="../class/-symbol.html">Symbol</a> で指定します。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Fred</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span>p1, p2<span class="p">)</span>
    <span class="vi">@a</span>, <span class="vi">@b</span> <span class="o">=</span> p1, p2
  <span class="k">end</span>
<span class="k">end</span>
fred <span class="o">=</span> <span class="no">Fred</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s1">'cat'</span>, <span class="mi">99</span><span class="p">)</span>
<span class="nb">p</span> fred<span class="p">.</span><span class="nf">instance_variable_defined?</span><span class="p">(</span><span class="ss">:<span class="vi">@a</span><span class="p">)</span>    <span class="c1">#=&gt; true
</span>p</span> fred<span class="p">.</span><span class="nf">instance_variable_defined?</span><span class="p">(</span><span class="s2">"</span><span class="s2">@b</span><span class="s2">"</span><span class="p">)</span>   <span class="c1">#=&gt; true
</span><span class="nb">p</span> fred<span class="p">.</span><span class="nf">instance_variable_defined?</span><span class="p">(</span><span class="s2">"</span><span class="s2">@c</span><span class="s2">"</span><span class="p">)</span>   <span class="c1">#=&gt; false
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/instance_variable_get.html">Object#instance_variable_get</a>,<a href="../method/-object/i/instance_variable_set.html">Object#instance_variable_set</a>,<a href="../method/-object/i/instance_variables.html">Object#instance_variables</a>
</p>
</dd>


<dt class="method-heading" id="I_INSTANCE_VARIABLE_GET"><code>instance_variable_get(var) -&gt; object | nil</code><span class="permalink">[<a href="../method/-object/i/instance_variable_get.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-instance_variable_get">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトのインスタンス変数の値を取得して返します。
</p>
<p>
インスタンス変数が定義されていなければ nil を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] var:</dt>
<dd>
インスタンス変数名を文字列か <a href="../class/-symbol.html">Symbol</a> で指定します。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Foo</span>
  <span class="k">def</span> <span class="nf">initialize</span>
    <span class="vi">@foo</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="k">end</span>
<span class="k">end</span>

obj <span class="o">=</span> <span class="no">Foo</span><span class="p">.</span><span class="nf">new</span>
<span class="nb">p</span> obj<span class="p">.</span><span class="nf">instance_variable_get</span><span class="p">(</span><span class="s2">"</span><span class="s2">@foo</span><span class="s2">"</span><span class="p">)</span>     <span class="c1">#=&gt; 1
</span><span class="nb">p</span> obj<span class="p">.</span><span class="nf">instance_variable_get</span><span class="p">(</span><span class="ss">:<span class="vi">@foo</span><span class="p">)</span>      <span class="c1">#=&gt; 1
</span>p</span> obj<span class="p">.</span><span class="nf">instance_variable_get</span><span class="p">(</span><span class="ss">:<span class="vi">@bar</span><span class="p">)</span>      <span class="c1">#=&gt; nil
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/instance_variable_set.html">Object#instance_variable_set</a>,<a href="../method/-object/i/instance_variables.html">Object#instance_variables</a>,<a href="../method/-object/i/instance_variable_defined=3f.html">Object#instance_variable_defined?</a>
</p>
</dd>


<dt class="method-heading" id="I_INSTANCE_VARIABLE_SET"><code>instance_variable_set(var, value) -&gt; object</code><span class="permalink">[<a href="../method/-object/i/instance_variable_set.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-instance_variable_set">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトのインスタンス変数 var に値 value を設定します。
</p>
<p>
インスタンス変数が定義されていなければ新たに定義されます。
</p>
<dl>
<dt class='method-param'>[PARAM] var:</dt>
<dd>
インスタンス変数名を文字列か <a href="../class/-symbol.html">Symbol</a> で指定します。
</dd>
<dt class='method-param'>[PARAM] value:</dt>
<dd>
設定する値です。
</dd>
<dt>[RETURN]</dt>
<dd>
value を返します。
</dd>
</dl>
<pre class="highlight ruby">
<code>
obj <span class="o">=</span> <span class="no">Object</span><span class="p">.</span><span class="nf">new</span>
<span class="nb">p</span> obj<span class="p">.</span><span class="nf">instance_variable_set</span><span class="p">(</span><span class="s2">"</span><span class="s2">@foo</span><span class="s2">"</span>, <span class="mi">1</span><span class="p">)</span>  <span class="c1">#=&gt; 1
</span><span class="nb">p</span> obj<span class="p">.</span><span class="nf">instance_variable_set</span><span class="p">(</span><span class="ss">:<span class="vi">@foo</span>, <span class="mi">2</span><span class="p">)</span>   <span class="c1">#=&gt; 2
</span>p</span> obj<span class="p">.</span><span class="nf">instance_variable_get</span><span class="p">(</span><span class="ss">:<span class="vi">@foo</span><span class="p">)</span>      <span class="c1">#=&gt; 2
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/instance_variable_get.html">Object#instance_variable_get</a>,<a href="../method/-object/i/instance_variables.html">Object#instance_variables</a>,<a href="../method/-object/i/instance_variable_defined=3f.html">Object#instance_variable_defined?</a>
</p>
</dd>


<dt class="method-heading" id="I_INSTANCE_VARIABLES"><code>instance_variables -&gt; [Symbol]</code><span class="permalink">[<a href="../method/-object/i/instance_variables.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-instance_variables">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトのインスタンス変数名をシンボルの配列として返します。
</p>
<pre class="highlight ruby">
<code>
obj <span class="o">=</span> <span class="no">Object</span><span class="p">.</span><span class="nf">new</span>
obj<span class="p">.</span><span class="nf">instance_eval</span> <span class="p">{</span> <span class="vi">@foo</span>, <span class="vi">@bar</span> <span class="o">=</span> <span class="k">nil</span> <span class="p">}</span>
<span class="nb">p</span> obj<span class="p">.</span><span class="nf">instance_variables</span>

<span class="c1">#=&gt; [:@foo, :@bar]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/instance_variable_get.html">Object#instance_variable_get</a>, <a href="../method/-kernel/m/local_variables.html">Kernel.#local_variables</a>, <a href="../method/-kernel/m/global_variables.html">Kernel.#global_variables</a>, <a href="../method/-module/s/constants.html">Module.constants</a>, <a href="../method/-module/i/constants.html">Module#constants</a>, <a href="../method/-module/i/class_variables.html">Module#class_variables</a>
</p>
</dd>


<dt class="method-heading" id="I_IS_A--3F"><code>is_a?(mod) -&gt; bool</code><span class="permalink">[<a href="../method/-object/i/is_a=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-is_a-3F">rdoc</a>]</span></dt>
<dt class="method-heading"><code>kind_of?(mod) -&gt; bool</code></dt>
<dd class="method-description">
<p>
オブジェクトが指定されたクラス mod かそのサブクラスのインスタンスであるとき真を返します。
</p>
<p>
また、オブジェクトがモジュール mod をインクルードしたクラスかそのサブクラスのインスタンスである場合にも真を返します。
<a href="../method/-module/i/include.html">Module#include</a>だけではなく、<a href="../method/-object/i/extend.html">Object#extend</a>や<a href="../method/-module/i/prepend.html">Module#prepend</a>によってサブクラスのインスタンスになる場合も含みます。上記のいずれでもない場合に false を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] mod:</dt>
<dd>
クラスやモジュールなど、<a href="../class/-module.html">Module</a>かそのサブクラスのインスタンスです。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="k">module</span> <span class="nn">M</span>
<span class="k">end</span>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">C</span> <span class="o">&lt;</span> <span class="no">Object</span>
  include <span class="no">M</span>
<span class="k">end</span>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">S</span> <span class="o">&lt;</span> <span class="no">C</span>
<span class="k">end</span>

obj <span class="o">=</span> <span class="no">S</span><span class="p">.</span><span class="nf">new</span>
<span class="nb">p</span> obj<span class="p">.</span><span class="nf">is_a?</span><span class="p">(</span><span class="no">S</span><span class="p">)</span>       <span class="c1"># true
</span><span class="nb">p</span> obj<span class="p">.</span><span class="nf">is_a?</span><span class="p">(</span><span class="no">C</span><span class="p">)</span>       <span class="c1"># true
</span><span class="nb">p</span> obj<span class="p">.</span><span class="nf">is_a?</span><span class="p">(</span><span class="no">Object</span><span class="p">)</span>  <span class="c1"># true
</span><span class="nb">p</span> obj<span class="p">.</span><span class="nf">is_a?</span><span class="p">(</span><span class="no">M</span><span class="p">)</span>       <span class="c1"># true
</span><span class="nb">p</span> obj<span class="p">.</span><span class="nf">is_a?</span><span class="p">(</span><span class="no">Hash</span><span class="p">)</span>    <span class="c1"># false
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/instance_of=3f.html">Object#instance_of?</a>,<a href="../method/-module/i/=3d=3d=3d.html">Module#===</a>,<a href="../method/-object/i/class.html">Object#class</a>
</p>
</dd>


<dt class="method-heading" id="I_ITSELF"><code>itself -&gt; object</code><span class="permalink">[<a href="../method/-object/i/itself.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-itself">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self を返します。
</p>
<pre class="highlight ruby">
<code>
string <span class="o">=</span> <span class="s1">'my string'</span> <span class="c1"># =&gt; &quot;my string&quot;
</span>string<span class="p">.</span><span class="nf">itself</span><span class="p">.</span><span class="nf">object_id</span> <span class="o">==</span> string<span class="p">.</span><span class="nf">object_id</span> <span class="c1"># =&gt; true
</span></code></pre>
</dd>


<dt class="method-heading" id="I_MARSHAL_DUMP"><code>marshal_dump -&gt; object</code><span class="permalink">[<a href="../method/-object/i/marshal_dump.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-marshal_dump">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../method/-marshal/m/dump.html">Marshal.#dump</a> を制御するメソッドです。
</p>
<p>
Marshal.dump(some) において、出力するオブジェクト some がメソッド marshal_dump を持つ場合には、その返り値がダンプされたものが Marshal.dump(some) の返り値となります。
</p>
<p>
marshal_dump/marshal_load の仕組みは Ruby 1.8.0 から導入されました。これから書くプログラムでは _dump/_load ではなく
marshal_dump/marshal_load を使うべきです。
</p>
<dl>
<dt>[RETURN]</dt>
<dd>
任意のオブジェクトで marshal_load の引数に利用できます。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Foo</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span>arg<span class="p">)</span>
    <span class="vi">@foo</span> <span class="o">=</span> arg
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">marshal_dump</span>
    <span class="vi">@foo</span>
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">marshal_load</span><span class="p">(</span>obj<span class="p">)</span>
    <span class="nb">p</span> obj
    <span class="vi">@foo</span> <span class="o">=</span> obj
  <span class="k">end</span>
<span class="k">end</span>
foo <span class="o">=</span> <span class="no">Foo</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="p">[</span><span class="s1">'foo'</span>, <span class="s1">'bar'</span><span class="p">]</span><span class="p">)</span>
<span class="nb">p</span> foo                      <span class="c1">#=&gt; #&lt;Foo:0xbaf3b0 @foo=[&quot;foo&quot;, &quot;bar&quot;]&gt;
</span>dms <span class="o">=</span> <span class="no">Marshal</span><span class="p">.</span><span class="nf">dump</span><span class="p">(</span>foo<span class="p">)</span>
<span class="nb">p</span> dms                      <span class="c1">#=&gt; &quot;\004\bU:\bFoo[\a\&quot;\bfoo\&quot;\bbar&quot;
</span>result <span class="o">=</span> <span class="no">Marshal</span><span class="p">.</span><span class="nf">load</span><span class="p">(</span>dms<span class="p">)</span> <span class="c1">#=&gt; [&quot;foo&quot;, &quot;bar&quot;] # marshal_load の引数
</span><span class="nb">p</span> result                   <span class="c1">#=&gt; #&lt;Foo:0xbaf2ac @foo=[&quot;foo&quot;, &quot;bar&quot;]&gt;
</span></code></pre>
<p>
インスタンス変数の情報は普通マーシャルデータに含まれるので、上例のように marshal_dump を定義する必要はありません
(ただし marshal_dump を定義するとインスタンス変数の情報はダンプされなくなるので、marshal_dump/marshal_load で扱う必要があります)。
marshal_dump/marshal_load はより高度な制御を行いたい場合や拡張ライブラリで定義したクラスのインスタンスがインスタンス変数以外に情報を保持する場合に利用します。
</p>
<p>
特に、marshal_dump/marshal_load を定義したオブジェクトは特異メソッドが定義されていてもマーシャルできるようになります
(特異メソッドの情報が自動的に dump されるようになるわけではなく、
marshal_dump/marshal_load によりそれを実現する余地があるということです)。
</p>
<p>
[SEE_ALSO] <a href="../method/-object/i/marshal_load.html">Object#marshal_load</a>, <a href="../class/-marshal.html">Marshal</a>
</p>
</dd>


<dt class="method-heading" id="I_MARSHAL_LOAD"><code>marshal_load(obj) -&gt; object</code><span class="permalink">[<a href="../method/-object/i/marshal_load.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-marshal_load">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../method/-marshal/m/load.html">Marshal.#load</a> を制御するメソッドです。
</p>
<p>
some のダンプ結果（Marshal.dump(some)） をロードする（Marshal.load(Marshal.dump(some))）には some がメソッド marshal_load を持っていなければなりません。このとき、marshal_dump の返り値が marshal_load の引数に利用されます。
marshal_load 時の self は、生成されたばかり（<a href="../method/-class/i/allocate.html">Class#allocate</a> されたばかり） の状態です。
</p>
<p>
marshal_dump/marshal_load の仕組みは Ruby 1.8.0 から導入されました。これから書くプログラムでは _dump/_load ではなく
marshal_dump/marshal_load を使うべきです。
</p>
<dl>
<dt class='method-param'>[PARAM] obj:</dt>
<dd>
marshal_dump の返り値のコピーです。
</dd>
<dt>[RETURN]</dt>
<dd>
返り値は無視されます。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-object/i/marshal_dump.html">Object#marshal_dump</a>, <a href="../class/-marshal.html">Marshal</a>
</p>
</dd>


<dt class="method-heading" id="I_METHOD"><code>method(name) -&gt; Method</code><span class="permalink">[<a href="../method/-object/i/method.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-method">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトのメソッド name をオブジェクト化した
<a href="../class/-method.html">Method</a> オブジェクトを返します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
メソッド名を<a href="../class/-symbol.html">Symbol</a> または<a href="../class/-string.html">String</a>で指定します。
</dd>
<dt>[EXCEPTION] NameError:</dt>
<dd>
定義されていないメソッド名を引数として与えると発生します。
</dd>
</dl>
<pre class="highlight ruby">
<code>
me <span class="o">=</span> <span class="o">-</span><span class="mi">365</span><span class="p">.</span><span class="nf">method</span><span class="p">(</span><span class="ss">:abs</span><span class="p">)</span>
<span class="nb">p</span> me <span class="c1">#=&gt; #&lt;Method: Integer#abs&gt;
</span><span class="nb">p</span> me<span class="p">.</span><span class="nf">call</span> <span class="c1">#=&gt; 365
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/instance_method.html">Module#instance_method</a>, <a href="../class/-method.html">Method</a>, <a href="../method/-basic-object/i/__send__.html">BasicObject#__send__</a>, <a href="../method/-object/i/send.html">Object#send</a>, <a href="../method/-kernel/m/eval.html">Kernel.#eval</a>, <a href="../method/-object/i/singleton_method.html">Object#singleton_method</a>
</p>
</dd>


<dt class="method-heading" id="I_METHODS"><code>methods(include_inherited = true) -&gt; [Symbol]</code><span class="permalink">[<a href="../method/-object/i/methods.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-methods">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
そのオブジェクトに対して呼び出せるメソッド名の一覧を返します。このメソッドは public メソッドおよび protected メソッドの名前を返します。
</p>
<p>
ただし特別に、引数が偽の時は <a href="../method/-object/i/singleton_methods.html">Object#singleton_methods</a>(false) と同じになっています。
</p>
<dl>
<dt class='method-param'>[PARAM] include_inherited:</dt>
<dd>
引数が偽の時は <a href="../method/-object/i/singleton_methods.html">Object#singleton_methods</a>(false) と同じになります。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例1</span>
<code>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Parent</span>
  private;   <span class="k">def</span> <span class="nf">private_parent</span><span class="p">(</span><span class="p">)</span>   <span class="k">end</span>
  protected; <span class="k">def</span> <span class="nf">protected_parent</span><span class="p">(</span><span class="p">)</span> <span class="k">end</span>
  public;    <span class="k">def</span> <span class="nf">public_parent</span><span class="p">(</span><span class="p">)</span>    <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Foo</span> <span class="o">&lt;</span> <span class="no">Parent</span>
  private;   <span class="k">def</span> <span class="nf">private_foo</span><span class="p">(</span><span class="p">)</span>   <span class="k">end</span>
  protected; <span class="k">def</span> <span class="nf">protected_foo</span><span class="p">(</span><span class="p">)</span> <span class="k">end</span>
  public;    <span class="k">def</span> <span class="nf">public_foo</span><span class="p">(</span><span class="p">)</span>    <span class="k">end</span>
<span class="k">end</span>

obj <span class="o">=</span> <span class="no">Foo</span><span class="p">.</span><span class="nf">new</span>
<span class="k">class</span> <span class="o">&lt;&lt;</span>obj
    private;   <span class="k">def</span> <span class="nf">private_singleton</span><span class="p">(</span><span class="p">)</span>   <span class="k">end</span>
    protected; <span class="k">def</span> <span class="nf">protected_singleton</span><span class="p">(</span><span class="p">)</span> <span class="k">end</span>
    public;    <span class="k">def</span> <span class="nf">public_singleton</span><span class="p">(</span><span class="p">)</span>    <span class="k">end</span>
<span class="k">end</span>

<span class="c1"># あるオブジェクトの応答できるメソッドの一覧を得る。
</span><span class="nb">p</span> obj<span class="p">.</span><span class="nf">methods</span><span class="p">(</span><span class="k">false</span><span class="p">)</span>
<span class="nb">p</span> obj<span class="p">.</span><span class="nf">public_methods</span><span class="p">(</span><span class="k">false</span><span class="p">)</span>
<span class="nb">p</span> obj<span class="p">.</span><span class="nf">private_methods</span><span class="p">(</span><span class="k">false</span><span class="p">)</span>
<span class="nb">p</span> obj<span class="p">.</span><span class="nf">protected_methods</span><span class="p">(</span><span class="k">false</span><span class="p">)</span>

<span class="c1"># 実行結果
</span><span class="p">[</span><span class="ss">:protected_singleton</span>, <span class="ss">:public_singleton</span><span class="p">]</span>
<span class="p">[</span><span class="ss">:public_singleton</span>, <span class="ss">:public_foo</span><span class="p">]</span>
<span class="p">[</span><span class="ss">:private_singleton</span>, <span class="ss">:private_foo</span><span class="p">]</span>
<span class="p">[</span><span class="ss">:protected_singleton</span>, <span class="ss">:protected_foo</span><span class="p">]</span>
</code></pre>
<pre class="highlight ruby">
<span class="caption">例2</span>
<code>
<span class="c1"># あるオブジェクトの応答できるメソッドの一覧を得る。
</span><span class="c1"># 自身のクラスの親クラスのインスタンスメソッドも含めるために true を指定して
</span><span class="c1"># いるが、Object のインスタンスメソッドは一覧から排除している。
</span><span class="nb">p</span> obj<span class="p">.</span><span class="nf">methods</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>           <span class="o">-</span> <span class="no">Object</span><span class="p">.</span><span class="nf">instance_methods</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>
<span class="nb">p</span> obj<span class="p">.</span><span class="nf">public_methods</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>    <span class="o">-</span> <span class="no">Object</span><span class="p">.</span><span class="nf">public_instance_methods</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>
<span class="nb">p</span> obj<span class="p">.</span><span class="nf">private_methods</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>   <span class="o">-</span> <span class="no">Object</span><span class="p">.</span><span class="nf">private_instance_methods</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>
<span class="nb">p</span> obj<span class="p">.</span><span class="nf">protected_methods</span><span class="p">(</span><span class="k">true</span><span class="p">)</span> <span class="o">-</span> <span class="no">Object</span><span class="p">.</span><span class="nf">protected_instance_methods</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>

<span class="c1"># 実行結果
</span><span class="p">[</span><span class="ss">:protected_singleton</span>, <span class="ss">:public_singleton</span>, <span class="ss">:protected_foo</span>, <span class="ss">:public_foo</span>, <span class="ss">:protected_parent</span>, <span class="ss">:public_parent</span><span class="p">]</span>
<span class="p">[</span><span class="ss">:public_singleton</span>, <span class="ss">:public_foo</span>, <span class="ss">:public_parent</span><span class="p">]</span>
<span class="p">[</span><span class="ss">:private_singleton</span>, <span class="ss">:private_foo</span>, <span class="ss">:private_parent</span><span class="p">]</span>
<span class="p">[</span><span class="ss">:protected_singleton</span>, <span class="ss">:protected_foo</span>, <span class="ss">:protected_parent</span><span class="p">]</span>
</code></pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/instance_methods.html">Module#instance_methods</a>,<a href="../method/-object/i/singleton_methods.html">Object#singleton_methods</a>
</p>
</dd>


<dt class="method-heading" id="I_NIL--3F"><code>nil? -&gt; bool</code><span class="permalink">[<a href="../method/-object/i/nil=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-nil-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
レシーバが nil であれば真を返します。
</p>
<pre>
p false.nil? #=&gt; false
p nil.nil? #=&gt; true
</pre>
<p>
[SEE_ALSO] <a href="../class/-nil-class.html">NilClass</a>
</p>
</dd>


<dt class="method-heading" id="I_OBJECT_ID"><code>object_id -&gt; Integer</code><span class="permalink">[<a href="../method/-object/i/object_id.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-object_id">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
各オブジェクトに対して一意な整数を返します。あるオブジェクトに対してどのような整数が割り当てられるかは不定です。
</p>
<p>
Rubyでは、(Garbage Collectされていない)アクティブなオブジェクト間で重複しない整数(object_id)が各オブジェクトにひとつずつ割り当てられています。このメソッドはその値を返します。
</p>
<p>
<a href="../class/-true-class.html">TrueClass</a>, <a href="../class/-false-class.html">FalseClass</a>, <a href="../class/-nil-class.html">NilClass</a>, <a href="../class/-symbol.html">Symbol</a>, <a href="../class/-integer.html">Integer</a> クラスのインスタンスなど Immutable（変更不可）なオブジェクトの一部は同じ内容ならば必ず同じ object_id になります。
</p>
<p>
これは、Immutable ならば複数の場所から参照されても`破壊的操作'による問題が発生しないので、同じ内容のインスタンスを複数生成しないという内部実装が理由です。
</p>
<pre class="highlight ruby">
<code>
<span class="nb">p</span> <span class="s2">"</span><span class="s2">ruby</span><span class="s2">"</span><span class="p">.</span><span class="nf">object_id</span> <span class="c1">#=&gt; 60
</span><span class="nb">p</span> <span class="s2">"</span><span class="s2">ruby</span><span class="s2">"</span><span class="p">.</span><span class="nf">object_id</span> <span class="c1">#=&gt; 80
</span>
<span class="nb">p</span> <span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">object_id</span> <span class="c1">#=&gt; 100
</span><span class="nb">p</span> <span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">object_id</span> <span class="c1">#=&gt; 120
</span>
<span class="nb">p</span> <span class="ss">:ruby</span><span class="p">.</span><span class="nf">object_id</span> <span class="c1">#=&gt; 710428
</span><span class="nb">p</span> <span class="ss">:ruby</span><span class="p">.</span><span class="nf">object_id</span> <span class="c1">#=&gt; 710428
</span>
<span class="nb">p</span> <span class="mi">11</span><span class="p">.</span><span class="nf">object_id</span> <span class="c1">#=&gt; 23
</span><span class="nb">p</span> <span class="mi">11</span><span class="p">.</span><span class="nf">object_id</span> <span class="c1">#=&gt; 23
</span>
<span class="nb">p</span> <span class="k">true</span><span class="p">.</span><span class="nf">object_id</span> <span class="c1">#=&gt; 20
</span><span class="nb">p</span> <span class="k">true</span><span class="p">.</span><span class="nf">object_id</span> <span class="c1">#=&gt; 20
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/equal=3f.html">Object#equal?</a>,<a href="../class/-symbol.html">Symbol</a>
</p>
</dd>


<dt class="method-heading" id="I_PRIVATE_METHODS"><code>private_methods(include_inherited = true) -&gt; [Symbol]</code><span class="permalink">[<a href="../method/-object/i/private_methods.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-private_methods">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
そのオブジェクトが理解できる private メソッド名の一覧を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] include_inherited:</dt>
<dd>
偽となる値を指定すると自身のクラスのスーパークラスで定義されたメソッドを除きます。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-module/i/private_instance_methods.html">Module#private_instance_methods</a>,<a href="../method/-object/i/methods.html">Object#methods</a>,<a href="../method/-object/i/singleton_methods.html">Object#singleton_methods</a>
</p>
</dd>


<dt class="method-heading" id="I_PROTECTED_METHODS"><code>protected_methods(include_inherited = true) -&gt; [Symbol]</code><span class="permalink">[<a href="../method/-object/i/protected_methods.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-protected_methods">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
そのオブジェクトが理解できる protected メソッド名の一覧を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] include_inherited:</dt>
<dd>
偽となる値を指定すると自身のクラスのスーパークラスで定義されたメソッドを除きます。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-module/i/protected_instance_methods.html">Module#protected_instance_methods</a>,<a href="../method/-object/i/methods.html">Object#methods</a>,<a href="../method/-object/i/singleton_methods.html">Object#singleton_methods</a>
</p>
</dd>


<dt class="method-heading" id="I_PUBLIC_METHOD"><code>public_method(name) -&gt; Method</code><span class="permalink">[<a href="../method/-object/i/public_method.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-public_method">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトの public メソッド name をオブジェクト化した
<a href="../class/-method.html">Method</a> オブジェクトを返します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
メソッド名を <a href="../class/-symbol.html">Symbol</a> または <a href="../class/-string.html">String</a> で指定します。
</dd>
<dt>[EXCEPTION] NameError:</dt>
<dd>
定義されていないメソッド名や、
protected メソッド名、 private メソッド名を引数として与えると発生します。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="mi">1</span><span class="p">.</span><span class="nf">public_method</span><span class="p">(</span><span class="ss">:to_int</span><span class="p">)</span> <span class="c1">#=&gt; #&lt;Method: Integer#to_int&gt;
</span><span class="mi">1</span><span class="p">.</span><span class="nf">public_method</span><span class="p">(</span><span class="ss">:p</span><span class="p">)</span>      <span class="c1">#   method `p' for class `Integer' is private (NameError)
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/method.html">Object#method</a>,<a href="../method/-object/i/public_send.html">Object#public_send</a>,<a href="../method/-module/i/public_instance_method.html">Module#public_instance_method</a>
</p>
</dd>


<dt class="method-heading" id="I_PUBLIC_METHODS"><code>public_methods(include_inherited = true) -&gt; [Symbol]</code><span class="permalink">[<a href="../method/-object/i/public_methods.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-public_methods">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
そのオブジェクトが理解できる public メソッド名の一覧を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] include_inherited:</dt>
<dd>
偽となる値を指定すると自身のクラスのスーパークラスで定義されたメソッドを除きます。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-module/i/public_instance_methods.html">Module#public_instance_methods</a>,<a href="../method/-object/i/methods.html">Object#methods</a>,<a href="../method/-object/i/singleton_methods.html">Object#singleton_methods</a>
</p>
</dd>


<dt class="method-heading" id="I_PUBLIC_SEND"><code>public_send(name, *args) -&gt; object</code><span class="permalink">[<a href="../method/-object/i/public_send.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-public_send">rdoc</a>]</span></dt>
<dt class="method-heading"><code>public_send(name, *args) { .... } -&gt; object</code></dt>
<dd class="method-description">
<p>
オブジェクトの public メソッド name を args を引数にして呼び出し、メソッドの実行結果を返します。
</p>
<p>
ブロック付きで呼ばれたときはブロックもそのまま引き渡します。
</p>
<pre class="highlight ruby">
<code>
<span class="mi">1</span><span class="p">.</span><span class="nf">public_send</span><span class="p">(</span><span class="ss">:<span class="o">+</span>, <span class="mi">2</span><span class="p">)</span>  <span class="c1"># =&gt; 3
</span></code></pre>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
文字列か<a href="../class/-symbol.html">Symbol</a> で指定するメソッド名です。
</dd>
<dt class='method-param'>[PARAM] args:</dt>
<dd>
呼び出すメソッドに渡す引数です。
</dd>
<dt>[EXCEPTION] ArgumentError:</dt>
<dd>
name を指定しなかった場合に発生します。
</dd>
<dt>[EXCEPTION] NoMethodError:</dt>
<dd>
protected メソッドや private メソッドに対して実行した場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="mi">1</span><span class="p">.</span><span class="nf">public_send</span><span class="p">(</span><span class="ss">:puts</span>, <span class="s2">"</span><span class="s2">hello</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; NoMethodError
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-basic-object/i/__send__.html">BasicObject#__send__</a>, <a href="../method/-object/i/send.html">Object#send</a>
</p>
</dd>


<dt class="method-heading" id="I_REMOVE_INSTANCE_VARIABLE"><code>remove_instance_variable(name) -&gt; object</code><span class="permalink">[<a href="../method/-object/i/remove_instance_variable.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-remove_instance_variable">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトからインスタンス変数 name を取り除き、そのインスタンス変数に設定されていた値を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
削除するインスタンス変数の名前をシンボルか文字列で指定します。
</dd>
<dt>[EXCEPTION] NameError:</dt>
<dd>
オブジェクトがインスタンス変数 name を持たない場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Foo</span>
  <span class="k">def</span> <span class="nf">foo</span>
    <span class="vi">@foo</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="nb">p</span> remove_instance_variable<span class="p">(</span><span class="ss">:<span class="vi">@foo</span><span class="p">)</span> <span class="c1">#=&gt; 1
</span>    p</span> remove_instance_variable<span class="p">(</span><span class="ss">:<span class="vi">@foo</span><span class="p">)</span> <span class="c1"># instance variable @foo not defined (NameError)
</span>  end</span>
<span class="k">end</span>
<span class="no">Foo</span><span class="p">.</span><span class="nf">new</span><span class="p">.</span><span class="nf">foo</span>
</code></pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/remove_class_variable.html">Module#remove_class_variable</a>,<a href="../method/-module/i/remove_const.html">Module#remove_const</a>
</p>
</dd>


<dt class="method-heading" id="I_RESPOND_TO--3F"><code>respond_to?(name, include_all = false) -&gt; bool</code><span class="permalink">[<a href="../method/-object/i/respond_to=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-respond_to-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトがメソッド name を持つとき真を返します。
</p>
<p>
オブジェクトが メソッド name を持つというのは、オブジェクトが メソッド name に応答できることをいいます。
</p>
<p>
Windows での <a href="../method/-process/s/fork.html">Process.fork</a> や GNU/Linux での <a href="../method/-file/s/lchmod.html">File.lchmod</a> のような <a href="../class/-not-implemented-error.html">NotImplementedError</a> が発生する場合は false を返します。
</p>
<p>
※ NotImplementedError が発生する場合に false を返すのは
Rubyの組み込みライブラリや標準ライブラリなど、C言語で実装されているメソッドのみです。
Rubyで実装されたメソッドで NotImplementedError が発生する場合は true を返します。
</p>
<p>
メソッドが定義されていない場合は、<a href="../method/-object/i/respond_to_missing=3f.html">Object#respond_to_missing?</a> を呼び出してその結果を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
<a href="../class/-symbol.html">Symbol</a> または文字列で指定するメソッド名です。
</dd>
<dt class='method-param'>[PARAM] include_all:</dt>
<dd>
private メソッドと protected メソッドを確認の対象に含めるかを true か false で指定します。省略した場合は false(含めない) を指定した事になります。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">F</span>
  <span class="k">def</span> <span class="nf">hello</span>
    <span class="s2">"</span><span class="s2">Bonjour</span><span class="s2">"</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">D</span>
  private
  <span class="k">def</span> <span class="nf">hello</span>
    <span class="s2">"</span><span class="s2">Guten Tag</span><span class="s2">"</span>
  <span class="k">end</span>
<span class="k">end</span>
list <span class="o">=</span> <span class="p">[</span><span class="no">F</span><span class="p">.</span><span class="nf">new</span>,<span class="no">D</span><span class="p">.</span><span class="nf">new</span><span class="p">]</span>

list<span class="p">.</span><span class="nf">each</span><span class="p">{</span><span class="o">|</span>it<span class="o">|</span> <span class="nb">puts</span> it<span class="p">.</span><span class="nf">hello</span> <span class="k">if</span> it<span class="p">.</span><span class="nf">respond_to?</span><span class="p">(</span><span class="ss">:hello</span><span class="p">)</span><span class="p">}</span>
<span class="c1">#=&gt; Bonjour
</span>
list<span class="p">.</span><span class="nf">each</span><span class="p">{</span><span class="o">|</span>it<span class="o">|</span> it<span class="p">.</span><span class="nf">instance_eval</span><span class="p">(</span><span class="s2">"</span><span class="s2">puts hello if it.respond_to?(:hello, true)</span><span class="s2">"</span><span class="p">)</span><span class="p">}</span>
<span class="c1">#=&gt; Bonjour
</span><span class="c1">#   Guten Tag
</span>
<span class="k">module</span> <span class="nn">Template</span>
  <span class="k">def</span> <span class="nf">main</span>
    start
    template_method
    finish
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">start</span>
    <span class="nb">puts</span> <span class="s2">"</span><span class="s2">start</span><span class="s2">"</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">template_method</span>
    <span class="nb">raise</span> <span class="no">NotImplementedError</span><span class="p">.</span><span class="nf">new</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">finish</span>
    <span class="nb">puts</span> <span class="s2">"</span><span class="s2">finish</span><span class="s2">"</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">ImplTemplateMethod</span>
  include <span class="no">Template</span>
  <span class="k">def</span> <span class="nf">template_method</span>
    <span class="s2">"</span><span class="s2">implement template_method</span><span class="s2">"</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">NotImplTemplateMethod</span>
  include <span class="no">Template</span>

  <span class="c1"># not implement template_method
</span><span class="k">end</span>

<span class="nb">puts</span> <span class="no">ImplTemplateMethod</span><span class="p">.</span><span class="nf">new</span><span class="p">.</span><span class="nf">respond_to?</span><span class="p">(</span><span class="ss">:template_method</span><span class="p">)</span> <span class="c1"># =&gt; true
</span><span class="c1"># NotImplementedError が発生しているが、Rubyによる実装部のため true を返す
</span><span class="nb">puts</span> <span class="no">NotImplTemplateMethod</span><span class="p">.</span><span class="nf">new</span><span class="p">.</span><span class="nf">respond_to?</span><span class="p">(</span><span class="ss">:template_method</span><span class="p">)</span> <span class="c1"># =&gt; true
</span><span class="c1"># GNU/Linux で実行。C言語による実装部のため false を返す
</span><span class="nb">puts</span> <span class="no">File</span><span class="p">.</span><span class="nf">respond_to?</span><span class="p">(</span><span class="ss">:lchmod</span><span class="p">)</span>         <span class="c1"># =&gt; false
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/method_defined=3f.html">Module#method_defined?</a>
</p>
</dd>


<dt class="method-heading" id="I_SEND"><code>send(name, *args) -&gt; object</code><span class="permalink">[<a href="../method/-object/i/send.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-send">rdoc</a>]</span></dt>
<dt class="method-heading"><code>send(name, *args) { .... } -&gt; object</code></dt>
<dd class="method-description">
<p>
オブジェクトのメソッド name を args を引数にして呼び出し、メソッドの実行結果を返します。
</p>
<p>
ブロック付きで呼ばれたときはブロックもそのまま引き渡します。
</p>
<p>
send が再定義された場合に備えて別名 __send__ も用意されており、ライブラリではこちらを使うべきです。また
__send__ は再定義すべきではありません。
</p>
<p>
send, __send__ は、メソッドの呼び出し制限にかかわらず任意のメソッドを呼び出せます。
<a href="../doc/spec=2fdef.html#limit">クラス／メソッドの定義/呼び出し制限</a> も参照してください。
</p>
<p>
public メソッドだけ呼び出せれば良い場合は
<a href="../method/-object/i/public_send.html">Object#public_send</a> を使う方が良いでしょう。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
文字列か<a href="../class/-symbol.html">Symbol</a> で指定するメソッド名です。
</dd>
<dt class='method-param'>[PARAM] args:</dt>
<dd>
呼び出すメソッドに渡す引数です。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="nb">p</span> <span class="o">-</span><span class="mi">365</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="ss">:abs</span><span class="p">)</span> <span class="c1">#=&gt; 365
</span><span class="nb">p</span> <span class="s2">"</span><span class="s2">ruby</span><span class="s2">"</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="ss">:sub</span>,<span class="sr">/./</span>,<span class="s2">"</span><span class="s2">R</span><span class="s2">"</span><span class="p">)</span> <span class="c1">#=&gt; &quot;Ruby&quot;
</span>

<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Foo</span>
  <span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="p">)</span> <span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span> <span class="k">end</span>
  <span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="p">)</span> <span class="s2">"</span><span class="s2">bar</span><span class="s2">"</span> <span class="k">end</span>
  <span class="k">def</span> <span class="nf">baz</span><span class="p">(</span><span class="p">)</span> <span class="s2">"</span><span class="s2">baz</span><span class="s2">"</span> <span class="k">end</span>
<span class="k">end</span>

<span class="c1"># 任意のキーとメソッド(の名前)の関係をハッシュに保持しておく
</span><span class="c1"># レシーバの情報がここにはないことに注意
</span><span class="nb">methods</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span> <span class="o">=&gt;</span> <span class="ss">:foo</span>,
  <span class="mi">2</span> <span class="o">=&gt;</span> <span class="ss">:bar</span>,
  <span class="mi">3</span> <span class="o">=&gt;</span> <span class="ss">:baz</span><span class="p">}</span>

<span class="c1"># キーを使って関連するメソッドを呼び出す
</span><span class="c1"># レシーバは任意(Foo クラスのインスタンスである必要もない)
</span><span class="nb">p</span> <span class="no">Foo</span><span class="p">.</span><span class="nf">new</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="nb">methods</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="p">)</span>      <span class="c1"># =&gt; &quot;foo&quot;
</span><span class="nb">p</span> <span class="no">Foo</span><span class="p">.</span><span class="nf">new</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="nb">methods</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="p">)</span>      <span class="c1"># =&gt; &quot;bar&quot;
</span><span class="nb">p</span> <span class="no">Foo</span><span class="p">.</span><span class="nf">new</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="nb">methods</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="p">)</span>      <span class="c1"># =&gt; &quot;baz&quot;
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/public_send.html">Object#public_send</a>, <a href="../method/-basic-object/i/__send__.html">BasicObject#__send__</a>, <a href="../method/-object/i/method.html">Object#method</a>, <a href="../method/-kernel/m/eval.html">Kernel.#eval</a>, <a href="../class/-proc.html">Proc</a>, <a href="../class/-method.html">Method</a>
</p>
</dd>


<dt class="method-heading" id="I_SINGLETON_CLASS"><code>singleton_class -&gt; Class</code><span class="permalink">[<a href="../method/-object/i/singleton_class.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-singleton_class">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
レシーバの特異クラスを返します。まだ特異クラスがなければ、新しく作成します。
</p>
<p>
レシーバが nil か true か false なら、それぞれ NilClass, TrueClass,
FalseClass を返します。
</p>
<dl>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
レシーバが <a href="../class/-integer.html">Integer</a>、<a href="../class/-float.html">Float</a>、<a href="../class/-symbol.html">Symbol</a> の場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="no">Object</span><span class="p">.</span><span class="nf">new</span><span class="p">.</span><span class="nf">singleton_class</span>  <span class="c1">#=&gt; #&lt;Class:#&lt;Object:0xb7ce1e24&gt;&gt;
</span><span class="no">String</span><span class="p">.</span><span class="nf">singleton_class</span>      <span class="c1">#=&gt; #&lt;Class:String&gt;
</span><span class="k">nil</span><span class="p">.</span><span class="nf">singleton_class</span>         <span class="c1">#=&gt; NilClass
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/class.html">Object#class</a>
</p>
</dd>


<dt class="method-heading" id="I_SINGLETON_METHOD"><code>singleton_method(name) -&gt; Method</code><span class="permalink">[<a href="../method/-object/i/singleton_method.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-singleton_method">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトの特異メソッド name をオブジェクト化した <a href="../class/-method.html">Method</a> オブジェクトを返します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
メソッド名を<a href="../class/-symbol.html">Symbol</a> または<a href="../class/-string.html">String</a>で指定します。
</dd>
<dt>[EXCEPTION] NameError:</dt>
<dd>
定義されていないメソッド名を引数として与えると発生します。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Demo</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span>n<span class="p">)</span>
    <span class="vi">@iv</span> <span class="o">=</span> n
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="p">)</span>
    <span class="s2">"</span><span class="s2">Hello, @iv = </span><span class="si">#{</span><span class="vi">@iv</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">end</span>
<span class="k">end</span>

k <span class="o">=</span> <span class="no">Demo</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="mi">99</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">k</span><span class="p">.</span><span class="nf">hi</span>
  <span class="s2">"</span><span class="s2">Hi, @iv = </span><span class="si">#{</span><span class="vi">@iv</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>
m <span class="o">=</span> k<span class="p">.</span><span class="nf">singleton_method</span><span class="p">(</span><span class="ss">:hi</span><span class="p">)</span>    <span class="c1"># =&gt; #&lt;Method: #&lt;Demo:0xf8b0c3c4 @iv=99&gt;.hi&gt;
</span>m<span class="p">.</span><span class="nf">call</span>   <span class="c1">#=&gt; &quot;Hi, @iv = 99&quot;
</span>m <span class="o">=</span> k<span class="p">.</span><span class="nf">singleton_method</span><span class="p">(</span><span class="ss">:hello</span><span class="p">)</span> <span class="c1"># =&gt; NameError
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/instance_method.html">Module#instance_method</a>, <a href="../class/-method.html">Method</a>, <a href="../method/-basic-object/i/__send__.html">BasicObject#__send__</a>, <a href="../method/-object/i/send.html">Object#send</a>, <a href="../method/-kernel/m/eval.html">Kernel.#eval</a>, <a href="../method/-object/i/method.html">Object#method</a>
</p>
</dd>


<dt class="method-heading" id="I_SINGLETON_METHODS"><code>singleton_methods(inherited_too = true) -&gt; [Symbol]</code><span class="permalink">[<a href="../method/-object/i/singleton_methods.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-singleton_methods">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
そのオブジェクトに対して定義されている特異メソッド名
(public あるいは protected メソッド) の一覧を返します。
</p>
<p>
inherited_too が真のときは継承した特異メソッドを含みます。継承した特異メソッドとは <a href="../method/-object/i/extend.html">Object#extend</a> によって追加された特異メソッドや、
self がクラスの場合はスーパークラスのクラスメソッド(<a href="../class/-class.html">Class</a>のインスタンスの特異メソッド)などです。
</p>
<p>
singleton_methods(false) は、<a href="../method/-object/i/methods.html">Object#methods</a>(false) と同じです。
</p>
<dl>
<dt class='method-param'>[PARAM] inherited_too:</dt>
<dd>
継承した特異メソッドを含める場合は真を、そうでない場合は偽を指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例1</span>
<code>
<span class="no">Parent</span> <span class="o">=</span> <span class="no">Class</span><span class="p">.</span><span class="nf">new</span>

<span class="k">class</span> <span class="o">&lt;&lt;</span><span class="no">Parent</span>
  private;   <span class="k">def</span> <span class="nf">private_class_parent</span><span class="p">(</span><span class="p">)</span> <span class="k">end</span>
  protected; <span class="k">def</span> <span class="nf">protected_class_parent</span><span class="p">(</span><span class="p">)</span> <span class="k">end</span>
  public;    <span class="k">def</span> <span class="nf">public_class_parent</span><span class="p">(</span><span class="p">)</span> <span class="k">end</span>
<span class="k">end</span>

<span class="no">Foo</span> <span class="o">=</span> <span class="no">Class</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="no">Parent</span><span class="p">)</span>

<span class="k">class</span> <span class="o">&lt;&lt;</span><span class="no">Foo</span>
  private;   <span class="k">def</span> <span class="nf">private_class_foo</span><span class="p">(</span><span class="p">)</span> <span class="k">end</span>
  protected; <span class="k">def</span> <span class="nf">protected_class_foo</span><span class="p">(</span><span class="p">)</span> <span class="k">end</span>
  public;    <span class="k">def</span> <span class="nf">public_class_foo</span><span class="p">(</span><span class="p">)</span> <span class="k">end</span>
<span class="k">end</span>

<span class="k">module</span> <span class="nn">Bar</span>
  private;   <span class="k">def</span> <span class="nf">private_bar</span><span class="p">(</span><span class="p">)</span>   <span class="k">end</span>
  protected; <span class="k">def</span> <span class="nf">protected_bar</span><span class="p">(</span><span class="p">)</span> <span class="k">end</span>
  public;    <span class="k">def</span> <span class="nf">public_bar</span><span class="p">(</span><span class="p">)</span>    <span class="k">end</span>
<span class="k">end</span>

obj <span class="o">=</span> <span class="no">Foo</span><span class="p">.</span><span class="nf">new</span>
<span class="k">class</span> <span class="o">&lt;&lt;</span>obj
  include <span class="no">Bar</span>
  private;   <span class="k">def</span> <span class="nf">private_self</span><span class="p">(</span><span class="p">)</span>   <span class="k">end</span>
  protected; <span class="k">def</span> <span class="nf">protected_self</span><span class="p">(</span><span class="p">)</span> <span class="k">end</span>
  public;    <span class="k">def</span> <span class="nf">public_self</span><span class="p">(</span><span class="p">)</span>    <span class="k">end</span>
<span class="k">end</span>

<span class="c1"># あるオブジェクトの特異メソッドの一覧を得る。
</span><span class="nb">p</span> obj<span class="p">.</span><span class="nf">singleton_methods</span><span class="p">(</span><span class="k">false</span><span class="p">)</span>
<span class="nb">p</span> obj<span class="p">.</span><span class="nf">methods</span><span class="p">(</span><span class="k">false</span><span class="p">)</span>
<span class="nb">p</span> <span class="no">Foo</span><span class="p">.</span><span class="nf">singleton_methods</span><span class="p">(</span><span class="k">false</span><span class="p">)</span>

<span class="c1">#実行結果
</span>
<span class="p">[</span><span class="ss">:protected_self</span>, <span class="ss">:public_self</span><span class="p">]</span>
<span class="p">[</span><span class="ss">:protected_self</span>, <span class="ss">:public_self</span><span class="p">]</span>
<span class="p">[</span><span class="ss">:protected_class_foo</span>, <span class="ss">:public_class_foo</span><span class="p">]</span>
</code></pre>
<pre class="highlight ruby">
<span class="caption">例2</span>
<code>
<span class="c1"># あるオブジェクトの特異メソッドの一覧を得る。
</span><span class="c1"># 親クラスのクラスメソッドも含まれるよう true を指定したが、
</span><span class="c1"># Object のクラスメソッドは一覧から排除している。
</span>
<span class="nb">p</span> obj<span class="p">.</span><span class="nf">singleton_methods</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>
<span class="nb">p</span> <span class="no">Foo</span><span class="p">.</span><span class="nf">singleton_methods</span><span class="p">(</span><span class="k">true</span><span class="p">)</span> <span class="o">-</span> <span class="no">Object</span><span class="p">.</span><span class="nf">singleton_methods</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>

<span class="c1">#実行結果
</span>
<span class="p">[</span><span class="ss">:protected_self</span>, <span class="ss">:public_self</span>, <span class="ss">:protected_bar</span>, <span class="ss">:public_bar</span><span class="p">]</span>
<span class="p">[</span><span class="ss">:protected_class_foo</span>, <span class="ss">:public_class_foo</span>, <span class="ss">:protected_class_parent</span>, <span class="ss">:public_class_parent</span><span class="p">]</span>
</code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/methods.html">Object#methods</a>,<a href="../method/-object/i/extend.html">Object#extend</a>
</p>
</dd>


<dt class="method-heading" id="I_TAINT"><code>taint -&gt; self</code><span class="permalink">[<a href="../method/-object/i/taint.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-taint">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
何もせずに self を返します。このメソッドは Ruby 2.7 から deprecated で、Ruby 3.2 で削除予定です。
</p>
<p>
[SEE_ALSO] <a href="../method/-object/i/tainted=3f.html">Object#tainted?</a>,<a href="../method/-object/i/untaint.html">Object#untaint</a>,<a href="../method/-object/i/freeze.html">Object#freeze</a>
</p>
</dd>


<dt class="method-heading" id="I_TAINTED--3F"><code>tainted? -&gt; false</code><span class="permalink">[<a href="../method/-object/i/tainted=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-tainted-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
常に false を返します。全てのオブジェクトは常に untainted 扱いになりました。
</p>
<p>
このメソッドは Ruby 2.7から deprecated で、Ruby 3.2 で削除予定です。
</p>
<p>
[SEE_ALSO] <a href="../method/-object/i/taint.html">Object#taint</a>,<a href="../method/-object/i/untaint.html">Object#untaint</a>
</p>
</dd>


<dt class="method-heading" id="I_TAP"><code>tap {|x| ... } -&gt; self</code><span class="permalink">[<a href="../method/-object/i/tap.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-tap">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self を引数としてブロックを評価し、self を返します。
</p>
<p>
メソッドチェインの途中で直ちに操作結果を表示するためにメソッドチェインに &quot;入り込む&quot; ことが、このメソッドの主目的です。
</p>
<pre class="highlight ruby">
<code>
<span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">)</span>                  <span class="p">.</span><span class="nf">tap</span> <span class="p">{</span><span class="o">|</span>x<span class="o">|</span> <span class="nb">puts</span> <span class="s2">"</span><span class="s2">original: </span><span class="si">#{</span><span class="n">x</span><span class="si">}</span><span class="s2">"</span> <span class="p">}</span>
  <span class="p">.</span><span class="nf">to_a</span>                  <span class="p">.</span><span class="nf">tap</span> <span class="p">{</span><span class="o">|</span>x<span class="o">|</span> <span class="nb">puts</span> <span class="s2">"</span><span class="s2">array:    </span><span class="si">#{</span><span class="n">x</span><span class="si">}</span><span class="s2">"</span> <span class="p">}</span>
  <span class="p">.</span><span class="nf">select</span> <span class="p">{</span><span class="o">|</span>x<span class="o">|</span> x<span class="p">.</span><span class="nf">even?</span> <span class="p">}</span> <span class="p">.</span><span class="nf">tap</span> <span class="p">{</span><span class="o">|</span>x<span class="o">|</span> <span class="nb">puts</span> <span class="s2">"</span><span class="s2">evens:    </span><span class="si">#{</span><span class="n">x</span><span class="si">}</span><span class="s2">"</span> <span class="p">}</span>
  <span class="p">.</span><span class="nf">map</span> <span class="p">{</span><span class="o">|</span>x<span class="o">|</span> x<span class="o">*</span>x <span class="p">}</span>        <span class="p">.</span><span class="nf">tap</span> <span class="p">{</span><span class="o">|</span>x<span class="o">|</span> <span class="nb">puts</span> <span class="s2">"</span><span class="s2">squares:  </span><span class="si">#{</span><span class="n">x</span><span class="si">}</span><span class="s2">"</span> <span class="p">}</span>
</code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/yield_self.html">Object#yield_self</a>
</p>
</dd>


<dt class="method-heading" id="I_THEN"><code>yield_self {|x| ... } -&gt; object</code><span class="permalink">[<a href="../method/-object/i/then.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-then">rdoc</a>]</span></dt>
<dt class="method-heading"><code>yield_self -&gt; Enumerator</code></dt>
<dt class="method-heading"><code>then {|x| ... } -&gt; object</code></dt>
<dt class="method-heading"><code>then -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
self を引数としてブロックを評価し、ブロックの結果を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="mi">3</span><span class="p">.</span><span class="nf">next</span><span class="p">.</span><span class="nf">then</span> <span class="p">{</span><span class="o">|</span>x<span class="o">|</span> x<span class="o">**</span>x <span class="p">}</span><span class="p">.</span><span class="nf">to_s</span>             <span class="c1"># =&gt; &quot;256&quot;
</span><span class="s2">"</span><span class="s2">my string</span><span class="s2">"</span><span class="p">.</span><span class="nf">yield_self</span> <span class="p">{</span><span class="o">|</span>s<span class="o">|</span> s<span class="p">.</span><span class="nf">upcase</span> <span class="p">}</span>   <span class="c1"># =&gt; &quot;MY STRING&quot;
</span></code></pre>
<p>
値をメソッドチェインのパイプラインに次々と渡すのは良い使い方です。
</p>
<pre class="highlight ruby">
<span class="caption">メソッドチェインのパイプライン</span>
<code>
<span class="nb">require</span> <span class="s1">'open-uri'</span>
<span class="nb">require</span> <span class="s1">'json'</span>

construct_url<span class="p">(</span>arguments<span class="p">)</span><span class="p">.</span>
  <span class="nf">yield_self</span> <span class="p">{</span><span class="o">|</span>url<span class="o">|</span> <span class="no">URI</span><span class="p">(</span>url<span class="p">)</span><span class="p">.</span><span class="nf">read</span> <span class="p">}</span><span class="p">.</span>
  <span class="nf">yield_self</span> <span class="p">{</span><span class="o">|</span>response<span class="o">|</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span>response<span class="p">)</span> <span class="p">}</span>
</code></pre>
<p>
ブロックなしで呼び出されたときは Enumerator を返します。例えば条件によって値を捨てるのに使えます。
</p>
<pre class="highlight ruby">
<code>
<span class="c1"># 条件にあうので何もしない
</span><span class="mi">1</span><span class="p">.</span><span class="nf">yield_self</span><span class="p">.</span><span class="nf">detect</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:odd?</span><span class="p">)</span>            <span class="c1"># =&gt; 1
</span><span class="c1"># 条件に合わないので値を捨てる
</span><span class="mi">2</span><span class="p">.</span><span class="nf">yield_self</span><span class="p">.</span><span class="nf">detect</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:odd?</span><span class="p">)</span>            <span class="c1"># =&gt; nil
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/tap.html">Object#tap</a>
</p>
</dd>


<dt class="method-heading" id="I_TO_A"><code>to_a -&gt; Array</code><span class="permalink">[<a href="../method/-object/i/to_a.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-to_a">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトを配列に変換した結果を返します。デフォルトでは定義されていません。
</p>
<p>
説明のためここに記載してありますが、このメソッドは実際には Object クラスには定義されていません。必要に応じてサブクラスで定義すべきものです。
</p>
<pre class="highlight ruby">
<code>
<span class="nb">p</span><span class="p">(</span> <span class="p">{</span><span class="s1">'a'</span><span class="o">=&gt;</span><span class="mi">1</span><span class="p">}</span><span class="p">.</span><span class="nf">to_a</span> <span class="p">)</span>  <span class="c1"># [[&quot;a&quot;, 1]]
</span><span class="nb">p</span> <span class="p">[</span><span class="s1">'array'</span><span class="p">]</span><span class="p">.</span><span class="nf">to_a</span>    <span class="c1"># [&quot;array&quot;]
</span><span class="nb">p</span> <span class="k">nil</span><span class="p">.</span><span class="nf">to_a</span>          <span class="c1"># []
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/to_ary.html">Object#to_ary</a>,<a href="../method/-kernel/m/-array.html">Kernel.#Array</a>
</p>
</dd>


<dt class="method-heading" id="I_TO_ARY"><code>to_ary -&gt; Array</code><span class="permalink">[<a href="../method/-object/i/to_ary.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-to_ary">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトの <a href="../class/-array.html">Array</a> への暗黙の変換が必要なときに内部で呼ばれます。デフォルトでは定義されていません。
</p>
<p>
説明のためここに記載してありますが、このメソッドは実際には Object クラスには定義されていません。必要に応じてサブクラスで定義すべきものです。
</p>
<p>
このメソッドを定義する条件は、
</p>
<ul>
<li>配列が使われるすべての場面で代置可能であるような、</li>
<li>配列そのものとみなせるようなもの</li>
</ul>
<p>
という厳しいものになっています。
</p>
<pre class="highlight ruby">
<code>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Foo</span>
  <span class="k">def</span> <span class="nf">to_ary</span>
    <span class="p">[</span><span class="mi">3</span>,<span class="mi">4</span><span class="p">]</span>
  <span class="k">end</span>
<span class="k">end</span>

it <span class="o">=</span> <span class="no">Foo</span><span class="p">.</span><span class="nf">new</span>
<span class="nb">p</span><span class="p">(</span><span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span><span class="p">]</span> <span class="o">+</span> it<span class="p">)</span> <span class="c1">#=&gt; [1, 2, 3, 4]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/to_a.html">Object#to_a</a>,<a href="../method/-kernel/m/-array.html">Kernel.#Array</a>
</p>
</dd>


<dt class="method-heading" id="I_TO_HASH"><code>to_hash -&gt; Hash</code><span class="permalink">[<a href="../method/-object/i/to_hash.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-to_hash">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトの <a href="../class/-hash.html">Hash</a> への暗黙の変換が必要なときに内部で呼ばれます。デフォルトでは定義されていません。
</p>
<p>
説明のためここに記載してありますが、このメソッドは実際には Object クラスには定義されていません。必要に応じてサブクラスで定義すべきものです。
</p>
<p>
このメソッドを定義する条件は、
</p>
<ul>
<li>ハッシュが使われるすべての場面で代置可能であるような、</li>
<li>ハッシュそのものとみなせるようなもの</li>
</ul>
<p>
という厳しいものになっています。
</p>
<pre class="highlight ruby">
<code>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Foo</span>
  <span class="k">def</span> <span class="nf">to_hash</span>
    <span class="p">{</span><span class="s1">'as'</span> <span class="o">=&gt;</span> <span class="mi">24</span><span class="p">}</span>
  <span class="k">end</span>
<span class="k">end</span>

it <span class="o">=</span> <span class="no">Foo</span><span class="p">.</span><span class="nf">new</span>
<span class="nb">p</span><span class="p">(</span><span class="p">{</span><span class="ss">:as</span> <span class="o">=&gt;</span> <span class="mi">12</span><span class="p">}</span><span class="p">.</span><span class="nf">merge</span><span class="p">(</span>it<span class="p">)</span><span class="p">)</span> <span class="c1">#=&gt; {&quot;as&quot;=&gt;24, :as=&gt;12}
</span></code></pre>
</dd>


<dt class="method-heading" id="I_TO_INT"><code>to_int -&gt; Integer</code><span class="permalink">[<a href="../method/-object/i/to_int.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-to_int">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトの <a href="../class/-integer.html">Integer</a> への暗黙の変換が必要なときに内部で呼ばれます。デフォルトでは定義されていません。
</p>
<p>
説明のためここに記載してありますが、このメソッドは実際には Object クラスには定義されていません。必要に応じてサブクラスで定義すべきものです。
</p>
<p>
このメソッドを定義する条件は、
</p>
<ul>
<li>整数が使われるすべての場面で代置可能であるような、</li>
<li>整数そのものとみなせるようなもの</li>
</ul>
<p>
という厳しいものになっています。
</p>
<pre class="highlight ruby">
<code>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Foo</span>
  <span class="k">def</span> <span class="nf">to_int</span>
    <span class="mi">1</span>
  <span class="k">end</span>
<span class="k">end</span>

ary <span class="o">=</span> <span class="p">[</span><span class="ss">:a</span>, <span class="ss">:b</span>, <span class="ss">:c</span><span class="p">]</span>
<span class="nb">p</span><span class="p">(</span>ary<span class="p">[</span><span class="no">Foo</span><span class="p">.</span><span class="nf">new</span><span class="p">]</span><span class="p">)</span> <span class="c1"># =&gt; :b
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-kernel/m/-integer.html">Kernel.#Integer</a>
</p>
</dd>


<dt class="method-heading" id="I_TO_IO"><code>to_io -&gt; IO</code><span class="permalink">[<a href="../method/-object/i/to_io.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-to_io">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトの <a href="../class/-i-o.html">IO</a> への暗黙の変換が必要なときに内部で呼ばれます。デフォルトでは定義されていません。
</p>
<p>
説明のためここに記載してありますが、このメソッドは実際には Object クラスには定義されていません。必要に応じてサブクラスで定義すべきものです。
</p>
<p>
このメソッドを定義する条件は、
</p>
<ul>
<li>IOオブジェクトが使われるすべての場面で代置可能であるような、</li>
<li>IOオブジェクトそのものとみなせるようなもの</li>
</ul>
<p>
という厳しいものになっています。
</p>
</dd>


<dt class="method-heading" id="I_TO_PROC"><code>to_proc -&gt; Proc</code><span class="permalink">[<a href="../method/-object/i/to_proc.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-to_proc">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトの <a href="../class/-proc.html">Proc</a> への暗黙の変換が必要なときに内部で呼ばれます。デフォルトでは定義されていません。
</p>
<p>
説明のためここに記載してありますが、このメソッドは実際には Object クラスには定義されていません。必要に応じてサブクラスで定義すべきものです。
</p>
<pre class="highlight ruby">
<code>
<span class="k">def</span> <span class="nf">doing</span>
  <span class="k">yield</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Foo</span>
  <span class="k">def</span> <span class="nf">to_proc</span>
    <span class="no">Proc</span><span class="p">.</span><span class="nf">new</span><span class="p">{</span><span class="nb">p</span> <span class="s1">'ok'</span><span class="p">}</span>
  <span class="k">end</span>
<span class="k">end</span>

it <span class="o">=</span> <span class="no">Foo</span><span class="p">.</span><span class="nf">new</span>
doing<span class="p">(</span><span class="o">&amp;</span>it<span class="p">)</span> <span class="c1">#=&gt; &quot;ok&quot;
</span></code></pre>
</dd>


<dt class="method-heading" id="I_TO_REGEXP"><code>to_regexp -&gt; Regexp</code><span class="permalink">[<a href="../method/-object/i/to_regexp.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-to_regexp">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトの <a href="../class/-regexp.html">Regexp</a> への暗黙の変換が必要なときに内部で呼ばれます。デフォルトでは定義されていません。
</p>
<p>
説明のためここに記載してありますが、このメソッドは実際には Object クラスには定義されていません。必要に応じてサブクラスで定義すべきものです。
</p>
<p>
このメソッドを定義する条件は、
</p>
<ul>
<li>正規表現が使われるすべての場面で代置可能であるような、</li>
<li>正規表現そのものとみなせるようなもの</li>
</ul>
<p>
という厳しいものになっています。
</p>
<pre class="highlight ruby">
<code>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Foo</span>
  <span class="k">def</span> <span class="nf">to_regexp</span>
    <span class="sr">/[\d]+/</span>
  <span class="k">end</span>
<span class="k">end</span>

it <span class="o">=</span> <span class="no">Foo</span><span class="p">.</span><span class="nf">new</span>
<span class="nb">p</span> <span class="no">Regexp</span><span class="p">.</span><span class="nf">union</span><span class="p">(</span><span class="sr">/^at/</span>, it<span class="p">)</span> <span class="c1">#=&gt; /(?-mix:^at)|(?-mix:[\d]+)/
</span></code></pre>
</dd>


<dt class="method-heading" id="I_TO_S"><code>to_s -&gt; String</code><span class="permalink">[<a href="../method/-object/i/to_s.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-to_s">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトの文字列表現を返します。
</p>
<p>
<a href="../method/-kernel/m/print.html">Kernel.#print</a> や <a href="../method/-kernel/m/sprintf.html">Kernel.#sprintf</a> は文字列以外のオブジェクトが引数に渡された場合このメソッドを使って文字列に変換します。
</p>
<pre class="highlight ruby">
<code>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Foo</span>
  <span class="k">def</span> <span class="nf">initialize</span> num
    <span class="vi">@num</span> <span class="o">=</span> num
  <span class="k">end</span>
<span class="k">end</span>
it <span class="o">=</span> <span class="no">Foo</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>

<span class="nb">puts</span> it <span class="c1">#=&gt; #&lt;Foo:0x2b69110&gt;
</span>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Foo</span>
  <span class="k">def</span> <span class="nf">to_s</span>
    <span class="s2">"</span><span class="s2">Class:Foo Number:</span><span class="si">#{</span><span class="vi">@num</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="nb">puts</span> it <span class="c1">#=&gt; Class:Foo Number:40
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/to_str.html">Object#to_str</a>,<a href="../method/-kernel/m/-string.html">Kernel.#String</a>
</p>
</dd>


<dt class="method-heading" id="I_TO_STR"><code>to_str -&gt; String</code><span class="permalink">[<a href="../method/-object/i/to_str.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-to_str">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトの <a href="../class/-string.html">String</a> への暗黙の変換が必要なときに内部で呼ばれます。デフォルトでは定義されていません。
</p>
<p>
説明のためここに記載してありますが、このメソッドは実際には Object クラスには定義されていません。必要に応じてサブクラスで定義すべきものです。
</p>
<p>
このメソッドを定義する条件は、
</p>
<ul>
<li>文字列が使われるすべての場面で代置可能であるような、</li>
<li>文字列そのものとみなせるようなもの</li>
</ul>
<p>
という厳しいものになっています。
</p>
<pre class="highlight ruby">
<code>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Foo</span>
  <span class="k">def</span> <span class="nf">to_str</span>
    <span class="s1">'Edition'</span>
  <span class="k">end</span>
<span class="k">end</span>

it <span class="o">=</span> <span class="no">Foo</span><span class="p">.</span><span class="nf">new</span>
<span class="nb">p</span><span class="p">(</span><span class="s1">'Second'</span> <span class="o">+</span> it<span class="p">)</span> <span class="c1">#=&gt; &quot;SecondEdition&quot;
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/to_s.html">Object#to_s</a>,<a href="../method/-kernel/m/-string.html">Kernel.#String</a>
</p>
</dd>


<dt class="method-heading" id="I_TRUST"><code>trust -&gt; self</code><span class="permalink">[<a href="../method/-object/i/trust.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-trust">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
このメソッドは Ruby 2.1 から deprecated で、Ruby 3.2 で削除予定です。
<a href="../method/-object/i/untaint.html">Object#untaint</a> と同じ動作をします。
</p>
<p>
[SEE_ALSO] <a href="../method/-object/i/untrusted=3f.html">Object#untrusted?</a>,<a href="../method/-object/i/untrust.html">Object#untrust</a>
</p>
</dd>


<dt class="method-heading" id="I_UNTAINT"><code>untaint -&gt; self</code><span class="permalink">[<a href="../method/-object/i/untaint.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-untaint">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
何もせずに self を返します。
</p>
<p>
このメソッドは Ruby 2.7 から deprecated で、Ruby 3.2 で削除予定です。
</p>
<p>
[SEE_ALSO] <a href="../method/-object/i/taint.html">Object#taint</a>,<a href="../method/-object/i/tainted=3f.html">Object#tainted?</a>
</p>
</dd>


<dt class="method-heading" id="I_UNTRUST"><code>untrust -&gt; self</code><span class="permalink">[<a href="../method/-object/i/untrust.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-untrust">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
このメソッドは Ruby 2.1 から deprecated で、Ruby 3.2 で削除予定です。
<a href="../method/-object/i/taint.html">Object#taint</a> と同じ動作をします。
</p>
<p>
[SEE_ALSO] <a href="../method/-object/i/trust.html">Object#trust</a>,<a href="../method/-object/i/untrusted=3f.html">Object#untrusted?</a>
</p>
</dd>


<dt class="method-heading" id="I_UNTRUSTED--3F"><code>untrusted? -&gt; false</code><span class="permalink">[<a href="../method/-object/i/untrusted=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-untrusted-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
このメソッドは Ruby 2.1 から deprecated で、Ruby 3.2 で削除予定です。
<a href="../method/-object/i/tainted=3f.html">Object#tainted?</a> と同じ動作をします。
</p>
<p>
[SEE_ALSO] <a href="../method/-object/i/trust.html">Object#trust</a>,<a href="../method/-object/i/untrust.html">Object#untrust</a>
</p>
</dd>


</dl>

<h2>privateメソッド</h2>
<dl>

<dt class="method-heading" id="I_INITIALIZE"><code>initialize(*args, &amp;block) -&gt; object</code><span class="permalink">[<a href="../method/-object/i/initialize.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-initialize">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
ユーザ定義クラスのオブジェクト初期化メソッド。
</p>
<p>
このメソッドは <a href="../method/-class/i/new.html">Class#new</a> から新しく生成されたオブジェクトの初期化のために呼び出されます。他の言語のコンストラクタに相当します。デフォルトの動作ではなにもしません。
</p>
<p>
initialize には
<a href="../method/-class/i/new.html">Class#new</a> に与えられた引数がそのまま渡されます。
</p>
<p>
サブクラスではこのメソッドを必要に応じて再定義されることが期待されています。
</p>
<p>
initialize という名前のメソッドは自動的に private に設定されます。
</p>
<dl>
<dt class='method-param'>[PARAM] args:</dt>
<dd>
初期化時の引数です。
</dd>
<dt class='method-param'>[PARAM] block:</dt>
<dd>
初期化時のブロック引数です。必須ではありません。
</dd>
</dl>
<pre class="highlight ruby">
<code>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Foo</span>
  <span class="k">def</span> <span class="nf">initialize</span> <span class="nb">name</span>
    <span class="nb">puts</span> <span class="s2">"</span><span class="s2">initialize Foo</span><span class="s2">"</span>
    <span class="vi">@name</span> <span class="o">=</span> <span class="nb">name</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Bar</span> <span class="o">&lt;</span> <span class="no">Foo</span>
  <span class="k">def</span> <span class="nf">initialize</span> <span class="nb">name</span>, pass
    <span class="nb">puts</span> <span class="s2">"</span><span class="s2">initialize Bar</span><span class="s2">"</span>
    <span class="k">super</span> <span class="nb">name</span>
    <span class="vi">@pass</span> <span class="o">=</span> pass
  <span class="k">end</span>
<span class="k">end</span>

it <span class="o">=</span> <span class="no">Bar</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s1">'myname'</span>,<span class="s1">'0500'</span><span class="p">)</span>
<span class="nb">p</span> it
<span class="c1">#=&gt; initialize Bar
</span><span class="c1">#   initialize Foo
</span><span class="c1">#   #&lt;Bar:0x2b68f08 @name=&quot;myname&quot;, @pass=&quot;0500&quot;&gt;
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-class/i/new.html">Class#new</a>
</p>
</dd>


<dt class="method-heading" id="I_INITIALIZE_COPY"><code>initialize_copy(obj) -&gt; object</code><span class="permalink">[<a href="../method/-object/i/initialize_copy.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-initialize_copy">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
(拡張ライブラリによる) ユーザ定義クラスのオブジェクトコピーの初期化メソッド。
</p>
<p>
このメソッドは self を obj の内容で置き換えます。ただし、self のインスタンス変数や特異メソッドは変化しません。
<a href="../method/-object/i/clone.html">Object#clone</a>, <a href="../method/-object/i/dup.html">Object#dup</a>の内部で使われています。
</p>
<p>
initialize_copy は、Ruby インタプリタが知り得ない情報をコピーするために使用(定義)されます。例えば C 言語でクラスを実装する場合、情報をインスタンス変数に保持させない場合がありますが、そういった内部情報を initialize_copy でコピーするよう定義しておくことで、dup や clone
を再定義する必要がなくなります。
</p>
<p>
デフォルトの Object#initialize_copy は、 freeze チェックおよび型のチェックを行い self
を返すだけのメソッドです。
</p>
<p>
initialize_copy という名前のメソッドは自動的に private に設定されます。
</p>
<dl>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
レシーバが freeze されているか、obj のクラスがレシーバのクラスと異なる場合に発生します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-object/i/clone.html">Object#clone</a>,<a href="../method/-object/i/dup.html">Object#dup</a>
</p>
<p>
以下に例として、dup や clone がこのメソッドをどのように利用しているかを示します。
</p>
<p>
obj.dup は、新たに生成したオブジェクトに対して
initialize_copy を呼び
</p>
<pre class="highlight ruby">
<code>
obj2 <span class="o">=</span> obj<span class="p">.</span><span class="nf">class</span><span class="p">.</span><span class="nf">allocate</span>
obj2<span class="p">.</span><span class="nf">initialize_copy</span><span class="p">(</span>obj<span class="p">)</span>
</code></pre>
<p>
obj2 に対してさらに obj の汚染状態、インスタンス変数、ファイナライザをコピーすることで複製を作ります。 obj.clone は、さらに特異メソッドのコピーも行います。
</p>
<pre class="highlight ruby">
<code>
obj <span class="o">=</span> <span class="no">Object</span><span class="p">.</span><span class="nf">new</span>
<span class="k">class</span> <span class="o">&lt;&lt;</span>obj
  <span class="nb">attr_accessor</span> <span class="ss">:foo</span>
  <span class="k">def</span> <span class="nf">bar</span>
    <span class="ss">:bar</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">def</span> <span class="nf">check</span><span class="p">(</span>obj<span class="p">)</span>
  <span class="nb">puts</span> <span class="s2">"</span><span class="s2">instance variables: </span><span class="si">#{</span><span class="n">obj</span><span class="p">.</span><span class="nf">inspect</span><span class="si">}</span><span class="s2">"</span>
  <span class="nb">puts</span> <span class="s2">"</span><span class="s2">tainted?: </span><span class="si">#{</span><span class="n">obj</span><span class="p">.</span><span class="nf">tainted?</span><span class="si">}</span><span class="s2">"</span>
  <span class="nb">print</span> <span class="s2">"</span><span class="s2">singleton methods: </span><span class="s2">"</span>
  <span class="k">begin</span>
    <span class="nb">p</span> obj<span class="p">.</span><span class="nf">bar</span>
  <span class="k">rescue</span> <span class="no">NameError</span>
    <span class="nb">p</span> <span class="vg">$!</span>
  <span class="k">end</span>
<span class="k">end</span>

obj<span class="p">.</span><span class="nf">foo</span> <span class="o">=</span> <span class="mi">1</span>
obj<span class="p">.</span><span class="nf">taint</span>

check <span class="no">Object</span><span class="p">.</span><span class="nf">new</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="ss">:initialize_copy</span>, obj<span class="p">)</span>
        <span class="c1">#=&gt; instance variables: #&lt;Object:0x4019c9d4&gt;
</span>        <span class="c1">#   tainted?: false
</span>        <span class="c1">#   singleton methods: #&lt;NoMethodError: ...&gt;
</span>check obj<span class="p">.</span><span class="nf">dup</span>
        <span class="c1">#=&gt; instance variables: #&lt;Object:0x4019c9c0 @foo=1&gt;
</span>        <span class="c1">#   tainted?: true
</span>        <span class="c1">#   singleton methods: #&lt;NoMethodError: ...&gt;
</span>check obj<span class="p">.</span><span class="nf">clone</span>
        <span class="c1">#=&gt; instance variables: #&lt;Object:0x4019c880 @foo=1&gt;
</span>        <span class="c1">#   tainted?: true
</span>        <span class="c1">#   singleton methods: :bar
</span></code></pre>
</dd>


<dt class="method-heading" id="I_RESPOND_TO_MISSING--3F"><code>respond_to_missing?(symbol, include_private) -&gt; bool</code><span class="permalink">[<a href="../method/-object/i/respond_to_missing=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-i-respond_to_missing-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身が symbol で表されるメソッドに対し
<a href="../method/-basic-object/i/method_missing.html">BasicObject#method_missing</a> で反応するつもりならば真を返します。
</p>
<p>
<a href="../method/-object/i/respond_to=3f.html">Object#respond_to?</a> はメソッドが定義されていない場合、デフォルトでこのメソッドを呼びだし問合せます。
</p>
<p>
<a href="../method/-basic-object/i/method_missing.html">BasicObject#method_missing</a> を override した場合にこのメソッドも
override されるべきです。
</p>
<p>
false を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] symbol:</dt>
<dd>
メソッド名シンボル
</dd>
<dt class='method-param'>[PARAM] include_private:</dt>
<dd>
private method も含めたい場合に true が渡されます
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">Sample</span>
  <span class="k">def</span> <span class="nf">method_missing</span><span class="p">(</span><span class="nb">name</span>, <span class="o">*</span>args<span class="p">)</span>
    <span class="k">if</span> <span class="nb">name</span> <span class="o">=~</span> <span class="sr">/^to_*/</span>
      <span class="p">[</span><span class="nb">name</span>, <span class="o">*</span>args<span class="p">]</span> <span class="c1"># =&gt; [:to_sample, &quot;sample args1&quot;, &quot;sample args2&quot;]
</span>      <span class="k">return</span>
    <span class="k">else</span>
      <span class="k">super</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">respond_to_missing?</span><span class="p">(</span>sym, include_private<span class="p">)</span>
    <span class="p">(</span>sym <span class="o">=~</span> <span class="sr">/^to_*/</span><span class="p">)</span> <span class="o">?</span> <span class="k">true</span> <span class="o">:</span> <span class="k">super</span>
  <span class="k">end</span>
<span class="k">end</span>

s <span class="o">=</span> <span class="no">Sample</span><span class="p">.</span><span class="nf">new</span>
s<span class="p">.</span><span class="nf">to_sample</span><span class="p">(</span><span class="s2">"</span><span class="s2">sample args1</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">sample args2</span><span class="s2">"</span><span class="p">)</span>
s<span class="p">.</span><span class="nf">respond_to?</span><span class="p">(</span><span class="ss">:to_sample</span><span class="p">)</span>  <span class="c1"># =&gt; true
</span>s<span class="p">.</span><span class="nf">respond_to?</span><span class="p">(</span><span class="ss">:sample</span><span class="p">)</span>    <span class="c1"># =&gt; false
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/respond_to=3f.html">Object#respond_to?</a>, <a href="../method/-basic-object/i/method_missing.html">BasicObject#method_missing</a>
</p>
</dd>


</dl>

<h2>定数</h2>
<dl>

<dt class="method-heading" id="C_-A-R-G-F"><code>ARGF -&gt; Object</code><span class="permalink">[<a href="../method/-object/c/-a-r-g-f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-c-ARGF">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
引数 (なければ標準入力) で構成される仮想ファイル
(詳細は <a href="../class/-a-r-g-f.html">ARGF</a>、<a href="../class/-a-r-g-f=2eclass.html">ARGF.class</a> を参照)。
</p>
<p>
つまり <a href="../method/-kernel/m/gets.html">Kernel.#gets</a> は <a href="../method/-a-r-g-f=2eclass/i/gets.html">ARGF.class#gets</a> と同じ意味です。
<a href="../method/-a-r-g-f=2eclass/i/file.html">ARGF.class#file</a> で現在読み込み中のファイルオブジェクトが、
<a href="../method/-a-r-g-f=2eclass/i/filename.html">ARGF.class#filename</a> で現在読み込み中のファイル名が得られます。
</p>
</dd>


<dt class="method-heading" id="C_-A-R-G-V"><code>ARGV -&gt; Array</code><span class="permalink">[<a href="../method/-object/c/-a-r-g-v.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-c-ARGV">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
Ruby スクリプトに与えられた引数を表す配列です。
</p>
<p>
組み込み変数 <a href="../method/-kernel/v/=2a.html">$*</a> の別名です。
Ruby 自身に対する引数は取り除かれています。
</p>
<p>
例:
</p>
<p>
スクリプト argv.rb の内容が
</p>
<pre>
p ARGV
</pre>
<p>
であったとします。このときシェルから次を実行すると、
</p>
<pre>
$ ruby argv.rb foo bar baz
</pre>
<p>
結果は以下のように出力されます。
</p>
<pre>
[&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]
</pre>
</dd>


<dt class="method-heading" id="C_-A-R-G-V"><code>ARGV -&gt; Array</code><span class="permalink">[<a href="../method/-object/c/-a-r-g-v.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-c-ARGV">rdoc</a>]</span> <span class="kindinfo">[redefined by <a href="../library/optparse.html">optparse</a>]</span>
</dt>
<dd class="method-description">
<p>
Ruby スクリプトに与えられた引数を表す配列です。
</p>
<p>
<a href="../library/optparse.html">optparse</a> を require することにより、ARGV は
OptionParser::Arguable を <a href="../method/-object/i/extend.html">Object#extend</a> します。
</p>
<p>
[SEE_ALSO] <a href="../class/-option-parser=3a=3a-arguable.html">OptionParser::Arguable</a>
</p>
</dd>


<dt class="method-heading" id="C_-D-A-T-A"><code>DATA -&gt; File</code><span class="permalink">[<a href="../method/-object/c/-d-a-t-a.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-c-DATA">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
スクリプトの __END__
プログラムの終り以降をアクセスする <a href="../class/-file.html">File</a> オブジェクト。
</p>
<p>
<a href="../doc/spec=2fprogram.html#terminate">プログラム・文・式/プログラムの終り</a>も参照。
</p>
<p>
ソースファイルの __END__ 以降は解析・実行の対象にならないのでその部分にプログラムが利用するためのデータを書き込んでおくことができます。
DATA 定数はそのデータ部分にアクセスするための <a href="../class/-file.html">File</a> オブジェクトを保持しています。
</p>
<p>
__END__ を含まないプログラムにおいては DATA は定義されません。
</p>
<h3 >注意</h3>
<ul>
<li>DATA.rewind で移動する読みとり位置は __END__ 直後ではなく、
スクリプトファイルの先頭です。</li>
<li>スクリプトが標準入力から読みこまれた場合は標準入力になります。</li>
<li>スクリプトがファイルや標準入力から読みこまれなかった場合や、
__END__ で終っていない場合には定義されません。</li>
<li><a href="../method/-kernel/m/require.html">Kernel.#require</a> や <a href="../method/-kernel/m/load.html">Kernel.#load</a> で
読み込まれたファイルの中であってもそのファイル (__FILE__, <a href="../doc/spec=2fvariables.html#pseudo">変数と定数/擬似変数</a>)
ではなく実行されたファイル (<a href="../method/-kernel/v/0.html">$0</a>) を指します。</li>
</ul>
<h3 >例1</h3>
<pre>
print DATA.gets # =&gt; 故人西辞黄鶴楼
print DATA.gets # =&gt; 烟花三月下揚州
print DATA.gets # =&gt; 孤帆遠影碧空尽
print DATA.gets # =&gt; 唯見長江天際流
DATA.gets       # =&gt; nil

__END__
故人西辞黄鶴楼
烟花三月下揚州
孤帆遠影碧空尽
唯見長江天際流
</pre>
<h3 >例2</h3>
<pre>
sum = 0
DATA.each_line do |line|
  sum += line.to_i
end

DATA.rewind
p DATA.gets    # =&gt; &quot;sum = 0¥n&quot;

__END__
17
19
23
29
31
</pre>
<h3 >例3</h3>
<pre>
DATA.gets    # =&gt; uninitialized constant DATA (NameError)
</pre>
<h3 >例4</h3>
<p>
ファイル library.rb と app.rb の内容が以下であったとします。
</p>
<p>
library.rb:
</p>
<pre>
print DATA.gets

__END__
data from library
</pre>
<p>
app.rb:
</p>
<pre>
require 'library.rb'

__END__
data from app
</pre>
<p>
このときシェルから次を実行すると
</p>
<pre>
$ ruby app.rb
</pre>
<p>
結果は以下のように出力されます。
</p>
<pre>
data from app
</pre>
</dd>


<dt class="method-heading" id="C_-E-N-V"><code>ENV -&gt; Object</code><span class="permalink">[<a href="../method/-object/c/-e-n-v.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-c-ENV">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
環境変数を表す (擬似) 連想配列 (詳細は <a href="../class/-e-n-v.html">ENV</a> を参照)。
</p>
<p>
この連想配列の値を変更すると子プロセスの環境として引き継がれます。
</p>
</dd>


<dt class="method-heading" id="C_-R-U-B-Y_-C-O-P-Y-R-I-G-H-T"><code>RUBY_COPYRIGHT -&gt; String</code><span class="permalink">[<a href="../method/-object/c/-r-u-b-y_-c-o-p-y-r-i-g-h-t.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-c-RUBY_COPYRIGHT">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
Ruby のコピーライトを表す文字列。
</p>
</dd>


<dt class="method-heading" id="C_-R-U-B-Y_-D-E-S-C-R-I-P-T-I-O-N"><code>RUBY_DESCRIPTION -&gt; String</code><span class="permalink">[<a href="../method/-object/c/-r-u-b-y_-d-e-s-c-r-i-p-t-i-o-n.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-c-RUBY_DESCRIPTION">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
Ruby の詳細を表す文字列。
</p>
<p>
ruby -v で表示される内容が格納されています。
</p>
</dd>


<dt class="method-heading" id="C_-R-U-B-Y_-E-N-G-I-N-E"><code>RUBY_ENGINE -&gt; String</code><span class="permalink">[<a href="../method/-object/c/-r-u-b-y_-e-n-g-i-n-e.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-c-RUBY_ENGINE">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
Ruby処理系実装の種類を表す文字列。
</p>
<p>
例:
</p>
<pre>
$ ruby-1.9.1 -ve 'p RUBY_ENGINE'
ruby 1.9.1p0 (2009-03-04 revision 22762) [x86_64-linux]
&quot;ruby&quot;
$ jruby -ve 'p RUBY_ENGINE'
jruby 1.2.0 (ruby 1.8.6 patchlevel 287) (2009-03-16 rev 9419) [i386-java]
&quot;jruby&quot;
</pre>
</dd>


<dt class="method-heading" id="C_-R-U-B-Y_-E-N-G-I-N-E_-V-E-R-S-I-O-N"><code>RUBY_ENGINE_VERSION -&gt; String</code><span class="permalink">[<a href="../method/-object/c/-r-u-b-y_-e-n-g-i-n-e_-v-e-r-s-i-o-n.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-c-RUBY_ENGINE_VERSION">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
Ruby処理系実装のバージョンを表す文字列。
</p>
</dd>


<dt class="method-heading" id="C_-R-U-B-Y_-P-A-T-C-H-L-E-V-E-L"><code>RUBY_PATCHLEVEL -&gt; Integer</code><span class="permalink">[<a href="../method/-object/c/-r-u-b-y_-p-a-t-c-h-l-e-v-e-l.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-c-RUBY_PATCHLEVEL">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
Ruby のパッチレベルを表す <a href="../class/-integer.html">Integer</a> オブジェクトです。
</p>
<p>
パッチレベルはRubyの各バージョンに対するバグ修正パッチの適用をカウントしています。
teeny リリースのそれぞれについてパッチレベルは 0 から始まり、その teeny リリースに対してバグ修正パッチが適用される度に増えていきます。
</p>
<p>
パッチレベルという概念および RUBY_PATCHLEVEL 定数は、 Ruby 1.8.5-p1 以降、 1.8.6 以降で導入されました。
1.8.5やそれ以前のバージョンでは定義されていません。
</p>
</dd>


<dt class="method-heading" id="C_-R-U-B-Y_-P-L-A-T-F-O-R-M"><code>RUBY_PLATFORM -&gt; String</code><span class="permalink">[<a href="../method/-object/c/-r-u-b-y_-p-l-a-t-f-o-r-m.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-c-RUBY_PLATFORM">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
プラットフォームを表す文字列。
</p>
</dd>


<dt class="method-heading" id="C_-R-U-B-Y_-R-E-L-E-A-S-E_-D-A-T-E"><code>RUBY_RELEASE_DATE -&gt; String</code><span class="permalink">[<a href="../method/-object/c/-r-u-b-y_-r-e-l-e-a-s-e_-d-a-t-e.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-c-RUBY_RELEASE_DATE">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
Ruby のリリース日を表す文字列。
</p>
</dd>


<dt class="method-heading" id="C_-R-U-B-Y_-R-E-V-I-S-I-O-N"><code>RUBY_REVISION -&gt; String</code><span class="permalink">[<a href="../method/-object/c/-r-u-b-y_-r-e-v-i-s-i-o-n.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-c-RUBY_REVISION">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
Ruby の GIT コミットハッシュを表す <a href="../class/-string.html">String</a> オブジェクトです。
</p>
</dd>


<dt class="method-heading" id="C_-R-U-B-Y_-V-E-R-S-I-O-N"><code>RUBY_VERSION -&gt; String</code><span class="permalink">[<a href="../method/-object/c/-r-u-b-y_-v-e-r-s-i-o-n.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-c-RUBY_VERSION">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
Ruby のバージョンを表す文字列。
</p>
<p>
Ruby のバージョンは、major.minor.teeny という形式です。
</p>
</dd>


<dt class="method-heading" id="C_-S-C-R-I-P-T_-L-I-N-E-S__"><code>SCRIPT_LINES__ -&gt; Hash</code><span class="permalink">[<a href="../method/-object/c/-s-c-r-i-p-t_-l-i-n-e-s__.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-c-SCRIPT_LINES__">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
ソースファイル別にまとめられたソースコードの各行。
</p>
<p>
この定数は、デフォルトでは定義されていません。この定数がハッシュとして定義された後にソースがコンパイルされると、そのソースファイル名をキーに、ソースを行毎に分割した配列を値にしたハッシュ要素が設定されます。
</p>
<p>
この定数はデバッガ (<a href="../library/debug.html">debug</a>) などで利用されています。
</p>
<p>
なお、 <a href="../method/-kernel/v/-s-a-f-e.html">$SAFE</a> レベルが 0 でなければ有効にはなりません。また、 <a href="../method/-kernel/m/eval.html">Kernel.#eval</a> によるコンパイルは対象にはなりません。
</p>
<p>
例:
</p>
<pre>
require 'pp'
SCRIPT_LINES__ = {}
require 'English'
pp SCRIPT_LINES__

# =&gt; {&quot;/usr/local/lib/ruby/1.6/English.rb&quot;=&gt;
#     [&quot;alias $ERROR_INFO              $!\n&quot;,
#      &quot;alias $ERROR_POSITION          $@\n&quot;,
#      &quot;alias $LOADED_FEATURES         $\&quot;\n&quot;,
#               :
#               :
#      &quot;alias $POSTMATCH               $'\n&quot;,
#      &quot;alias $LAST_PAREN_MATCH        $+\n&quot;]}
</pre>
</dd>


<dt class="method-heading" id="C_-S-T-D-E-R-R"><code>STDERR -&gt; IO</code><span class="permalink">[<a href="../method/-object/c/-s-t-d-e-r-r.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-c-STDERR">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
標準エラー出力。<a href="../method/-kernel/v/stderr.html">$stderr</a> のデフォルト値。 <a href="../method/-kernel/v/stderr.html">$stderr</a> も参照してください。
</p>
<p>
STDERR は、 ruby プロセスが起動された時点での標準エラー出力を表します。起動時点では <a href="../method/-kernel/v/stderr.html">$stderr</a> も同じ値に初期化されています。
</p>
<p>
<a href="../method/-kernel/v/stderr.html">$stderr</a> に他の出力オブジェクトを代入することで簡易なリダイレクトを実現できます。そして、 <a href="../method/-kernel/v/stderr.html">$stderr</a> に STDERR を代入すればこのリダイレクトを復元できるわけです。
</p>
<h3 >注意</h3>
<p>
STDERR は ruby 自体が起動された時点での標準エラー出力です。「システムにおける標準のエラー出力ストリーム」とは異なります。
</p>
<p>
多くのシステムでは標準のエラー出力ストリームは端末です。
ruby 自体が他のストリームに向けてエラー出力をリダイレクトされた状態で起動された場合、
STDERR が保持するのは端末ではなく、リダイレクト先のストリームです。
</p>
</dd>


<dt class="method-heading" id="C_-S-T-D-I-N"><code>STDIN -&gt; IO</code><span class="permalink">[<a href="../method/-object/c/-s-t-d-i-n.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-c-STDIN">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
標準入力。<a href="../method/-kernel/v/stdin.html">$stdin</a> のデフォルト値。 <a href="../method/-kernel/v/stdin.html">$stdin</a> も参照してください。
</p>
<p>
STDIN は、 ruby プロセスが起動された時点での標準入力を表します。起動時点では <a href="../method/-kernel/v/stdin.html">$stdin</a> も同じ値に初期化されています。
</p>
<p>
<a href="../method/-kernel/v/stdin.html">$stdin</a> に他の入力オブジェクトを代入することで簡易なリダイレクトを実現できます。そして、 <a href="../method/-kernel/v/stdin.html">$stdin</a> に STDIN を代入すればこのリダイレクトを復元できるわけです。
</p>
<h3 >注意</h3>
<p>
STDIN は ruby 自体が起動された時点での標準入力です。「システムにおける標準の入力ストリーム」とは異なります。
</p>
<p>
多くのシステムでは標準の入力ストリームは端末です。
ruby 自体が他のストリームに向けて入力をリダイレクトされた状態で起動された場合、
STDIN が保持するのは端末ではなく、リダイレクト先のストリームです。
</p>
</dd>


<dt class="method-heading" id="C_-S-T-D-O-U-T"><code>STDOUT -&gt; IO</code><span class="permalink">[<a href="../method/-object/c/-s-t-d-o-u-t.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-c-STDOUT">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
標準出力。<a href="../method/-kernel/v/stdout.html">$stdout</a> のデフォルト値。 <a href="../method/-kernel/v/stdout.html">$stdout</a> も参照してください。
</p>
<p>
STDOUT は、 ruby プロセスが起動された時点での標準出力を表します。起動時点では <a href="../method/-kernel/v/stdout.html">$stdout</a> も同じ値に初期化されています。
</p>
<p>
<a href="../method/-kernel/v/stdout.html">$stdout</a> に他の出力オブジェクトを代入することで簡易なリダイレクトを実現できます。そして、 <a href="../method/-kernel/v/stdout.html">$stdout</a> に STDOUT を代入すればこのリダイレクトを復元できるわけです。
</p>
<h3 >注意</h3>
<p>
STDOUT は ruby 自体が起動された時点での標準出力です。「システムにおける標準の出力ストリーム」とは異なります。
</p>
<p>
多くのシステムでは標準の出力ストリームは端末です。
ruby 自体が他のストリームに向けて出力をリダイレクトされた状態で起動された場合、
STDOUT が保持するのは端末ではなく、リダイレクト先のストリームです。
</p>
</dd>


<dt class="method-heading" id="C_-T-O-P-L-E-V-E-L_-B-I-N-D-I-N-G"><code>TOPLEVEL_BINDING -&gt; Binding</code><span class="permalink">[<a href="../method/-object/c/-t-o-p-l-e-v-e-l_-b-i-n-d-i-n-g.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Object.html#method-c-TOPLEVEL_BINDING">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
トップレベルでの <a href="../class/-binding.html">Binding</a> オブジェクト。
</p>
<p>
詳細は <a href="../class/-binding.html">Binding</a> を参照してください。
</p>
</dd>


</dl>

</main>

<footer id="footer">
  <a rel="license" href="https://creativecommons.org/licenses/by/3.0/">
    <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/3.0/88x31.png" />
  </a>

  <a href="https://github.com/rurema/doctree/issues/new" id="feedback-link">フィードバックを送る</a>
  
  <script>if (window.URLSearchParams) { document.getElementById("feedback-link").search = new URLSearchParams({'body': document.location}); }</script>
</footer>
</body>
</html>
