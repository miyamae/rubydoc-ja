<!DOCTYPE html>
<html lang="ja-JP">
<head>

<meta name="robots" content="noindex">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../../../style.css">
<link rel="stylesheet" href="../../../syntax-highlight.css">
<link rel="icon" type="image/png" href="../../../rurema.png">

<title>Time#strftime (Ruby 3.0.4 リファレンスマニュアル)</title>
<meta name="description" content="時刻を format 文字列に従って文字列に変換した結果を返します。">
<script src="../../../script.js"></script>
</head>
<body>


<header>
  <nav>
    <ol class="inline-breadcrumb-list">
      <li>
        <a href="../../../doc/index.html">Ruby 3.0.4 リファレンスマニュアル</a>
      </li>
      <li>
        <a href="../../../library/index.html">ライブラリ一覧</a>
      </li>
      <li>
        <a href="../../../library/_builtin.html">組み込みライブラリ</a>
      </li>
      <li>
        <a href="../../../class/-time.html">Timeクラス</a>
      </li>
      <li>
        strftime 
      </li>
    </ol>
  </nav>

<h1>instance method Time#strftime</h1>
</header>

<main>
<dl class="methodlist">

<dt class="method-heading" id="I_STRFTIME"><code>strftime(format) -&gt; String</code><span class="permalink">[<a href="../../../method/-time/i/strftime.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Time.html#method-i-strftime">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
時刻を format 文字列に従って文字列に変換した結果を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] format:</dt>
<dd>
フォーマット文字列を指定します。使用できるものは 以下の通りです。
</dd>
</dl>
<ul>
<li>%A: 曜日の名称(Sunday, Monday ... )</li>
<li>%a: 曜日の省略名(Sun, Mon ... )</li>
<li>%B: 月の名称(January, February ... )</li>
<li>%b: 月の省略名(Jan, Feb ... )</li>
<li>%C: 世紀 (2009年であれば 20)</li>
<li>%c: 日付と時刻 (%a %b %e %T %Y)</li>
<li>%D: 日付 (%m/%d/%y)</li>
<li>%d: 日(01-31)</li>
<li>%e: 日。一桁の場合、半角空白で埋める ( 1..31)</li>
<li>%F: %Y-%m-%d と同等 (ISO 8601の日付フォーマット)</li>
<li>%G: ISO 8601の暦週の年</li>
<li>%g: ISO 8601の暦週の年の下2桁(00-99)</li>
<li>%H: 24時間制の時(00-23)</li>
<li>%h: %b と同等</li>
<li>%I: 12時間制の時(01-12)</li>
<li>%j: 年中の通算日(001-366)</li>
<li>%k: 24時間制の時。一桁の場合、半角空白で埋める ( 0..23)</li>
<li>%L: ミリ秒 (000..999)</li>
<li>%l: 12時間制の時。一桁の場合、半角空白で埋める ( 0..12)</li>
<li>%M: 分(00-59)</li>
<li>%m: 月を表す数字(01-12)</li>
<li>%n: 改行 (\n)</li>
<li>%N: 秒の小数点以下。桁の指定がない場合は9桁 (ナノ秒)、%6N: マイクロ秒 (6桁)、%3N: ミリ秒 (3桁)</li>
<li>%P: 午前または午後(am,pm)</li>
<li>%p: 午前または午後(AM,PM)</li>
<li>%Q: 1970-01-01 00:00:00 UTC からの経過ミリ秒 (<a href="../../../method/-time/i/strftime.html">Time#strftime</a> は対応していませんが、<a href="../../../method/-date/i/strftime.html">Date#strftime</a> で使えます)</li>
<li>%R: 24時間制の時刻。%H:%M と同等。</li>
<li>%r: 12時間制の時刻。%I:%M:%S %p と同等。</li>
<li>%S: 秒(00-60) (60はうるう秒)</li>
<li>%s: 1970-01-01 00:00:00 UTC からの経過秒</li>
<li>%T: 24時間制の時刻。%H:%M:%S と同等。</li>
<li>%t: タブ文字 (\t)</li>
<li>%U: 週を表す数。最初の日曜日が第1週の始まり(00-53)</li>
<li>%u: 月曜日を1とした、曜日の数値表現 (1..7)</li>
<li>%V: ISO 8601形式の暦週 (01..53)</li>
<li>%v: VMS形式の日付 (%e-%^b-%4Y)</li>
<li>%W: 週を表す数。最初の月曜日が第1週の始まり(00-53)</li>
<li>%w: 曜日を表す数。日曜日が0(0-6)</li>
<li>%X: 時刻 (%Tと同等)</li>
<li>%x: 日付 (%Dと同等)</li>
<li>%Y: 西暦を表す数</li>
<li>%y: 西暦の下2桁(00-99)</li>
<li>%Z: タイムゾーン (環境依存)</li>
<li>%z: タイムゾーン。UTCからのオフセット (例 +0900)</li>
<li>%:z: タイムゾーン。コロンが入ったUTCからのオフセット (例 +09:00)</li>
<li>%::z: タイムゾーン。コロンが入った秒まで含むUTCからのオフセット (例 +09:00:00)</li>
<li>%%: %自身</li>
<li>%+: <a class="external" href="http://www.opengroup.org/onlinepubs/009695399/utilities/date.html">date(1)</a>の形式 (%a %b %e %H:%M:%S %Z %Y) (<a href="../../../method/-time/i/strftime.html">Time#strftime</a> は対応していませんが、<a href="../../../method/-date/i/strftime.html">Date#strftime</a> で使えます)</li>
</ul>
<p>
このメソッドは <a class="external" href="http://www.opengroup.org/onlinepubs/009695399/functions/strftime.html">strftime(3)</a> や glibcの仕様を参考に作成されており、以下のオプションが利用できます。
</p>
<ul>
<li>^: 大文字で出力を行なう</li>
<li>#: 小文字であれば大文字に、大文字であれば小文字に変更する</li>
<li>-: 左寄せにする(0埋めや空白埋めを行わない)</li>
<li>_: 空白埋めにする</li>
<li>0: 0埋めにする</li>
<li>数値: 表示桁数を指定する</li>
</ul>
<p>
EとOは無視されます。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">p</span> t <span class="o">=</span> <span class="no">Time</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="mi">2001</span>,<span class="mi">2</span>,<span class="mi">3</span>,<span class="mi">4</span>,<span class="mi">5</span>,<span class="mi">6</span>,<span class="s2">"</span><span class="s2">+09:00</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; 2001-02-03 04:05:06 +0900
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">Printed on %m/%d/%Y</span><span class="s2">"</span><span class="p">)</span>      <span class="c1"># =&gt; &quot;Printed on 02/03/2001&quot;
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">Printed on %m/%-d/%_6Y</span><span class="s2">"</span><span class="p">)</span>   <span class="c1"># =&gt; &quot;Printed on 02/3/  2001&quot;
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">at %I:%M%p</span><span class="s2">"</span><span class="p">)</span>               <span class="c1"># =&gt; &quot;at 04:05AM&quot;
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">at %I:%M%#p</span><span class="s2">"</span><span class="p">)</span>              <span class="c1"># =&gt; &quot;at 04:05am&quot;
</span></code></pre>
<pre class="highlight ruby">
<span class="caption">様々なISO 8601形式</span>
<code>
t <span class="o">=</span> <span class="no">Time</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="mi">2001</span>,<span class="mi">2</span>,<span class="mi">3</span>,<span class="mi">4</span>,<span class="mi">5</span>,<span class="mi">6</span>,<span class="s2">"</span><span class="s2">+09:00</span><span class="s2">"</span><span class="p">)</span>
<span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%Y%m%d</span><span class="s2">"</span><span class="p">)</span>           <span class="c1"># =&gt; 20010203                  Calendar date (basic)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%F</span><span class="s2">"</span><span class="p">)</span>               <span class="c1"># =&gt; 2001-02-03                Calendar date (extended)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%Y-%m</span><span class="s2">"</span><span class="p">)</span>            <span class="c1"># =&gt; 2001-02                   Calendar date, reduced accuracy, specific month
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%Y</span><span class="s2">"</span><span class="p">)</span>               <span class="c1"># =&gt; 2001                      Calendar date, reduced accuracy, specific year
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%C</span><span class="s2">"</span><span class="p">)</span>               <span class="c1"># =&gt; 20                        Calendar date, reduced accuracy, specific century
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%Y%j</span><span class="s2">"</span><span class="p">)</span>             <span class="c1"># =&gt; 2001034                   Ordinal date (basic)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%Y-%j</span><span class="s2">"</span><span class="p">)</span>            <span class="c1"># =&gt; 2001-034                  Ordinal date (extended)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%GW%V%u</span><span class="s2">"</span><span class="p">)</span>          <span class="c1"># =&gt; 2001W056                  Week date (basic)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%G-W%V-%u</span><span class="s2">"</span><span class="p">)</span>        <span class="c1"># =&gt; 2001-W05-6                Week date (extended)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%GW%V</span><span class="s2">"</span><span class="p">)</span>            <span class="c1"># =&gt; 2001W05                   Week date, reduced accuracy, specific week (basic)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%G-W%V</span><span class="s2">"</span><span class="p">)</span>           <span class="c1"># =&gt; 2001-W05                  Week date, reduced accuracy, specific week (extended)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%H%M%S</span><span class="s2">"</span><span class="p">)</span>           <span class="c1"># =&gt; 040506                    Local time (basic)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%T</span><span class="s2">"</span><span class="p">)</span>               <span class="c1"># =&gt; 04:05:06                  Local time (extended)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%H%M</span><span class="s2">"</span><span class="p">)</span>             <span class="c1"># =&gt; 0405                      Local time, reduced accuracy, specific minute (basic)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%H:%M</span><span class="s2">"</span><span class="p">)</span>            <span class="c1"># =&gt; 04:05                     Local time, reduced accuracy, specific minute (extended)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%H</span><span class="s2">"</span><span class="p">)</span>               <span class="c1"># =&gt; 04                        Local time, reduced accuracy, specific hour
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%H%M%S,%L</span><span class="s2">"</span><span class="p">)</span>        <span class="c1"># =&gt; 040506,000                Local time with decimal fraction, comma as decimal sign (basic)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%T,%L</span><span class="s2">"</span><span class="p">)</span>            <span class="c1"># =&gt; 04:05:06,000              Local time with decimal fraction, comma as decimal sign (extended)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%H%M%S.%L</span><span class="s2">"</span><span class="p">)</span>        <span class="c1"># =&gt; 040506.000                Local time with decimal fraction, full stop as decimal sign (basic)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%T.%L</span><span class="s2">"</span><span class="p">)</span>            <span class="c1"># =&gt; 04:05:06.000              Local time with decimal fraction, full stop as decimal sign (extended)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%H%M%S%z</span><span class="s2">"</span><span class="p">)</span>         <span class="c1"># =&gt; 040506+0900               Local time and the difference from UTC (basic)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%T%:z</span><span class="s2">"</span><span class="p">)</span>            <span class="c1"># =&gt; 04:05:06+09:00            Local time and the difference from UTC (extended)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%Y%m%dT%H%M%S%z</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; 20010203T040506+0900      Date and time of day for calendar date (basic)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%FT%T%:z</span><span class="s2">"</span><span class="p">)</span>         <span class="c1"># =&gt; 2001-02-03T04:05:06+09:00 Date and time of day for calendar date (extended)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%Y%jT%H%M%S%z</span><span class="s2">"</span><span class="p">)</span>    <span class="c1"># =&gt; 2001034T040506+0900       Date and time of day for ordinal date (basic)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%Y-%jT%T%:z</span><span class="s2">"</span><span class="p">)</span>      <span class="c1"># =&gt; 2001-034T04:05:06+09:00   Date and time of day for ordinal date (extended)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%GW%V%uT%H%M%S%z</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; 2001W056T040506+0900      Date and time of day for week date (basic)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%G-W%V-%uT%T%:z</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; 2001-W05-6T04:05:06+09:00 Date and time of day for week date (extended)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%Y%m%dT%H%M</span><span class="s2">"</span><span class="p">)</span>      <span class="c1"># =&gt; 20010203T0405             Calendar date and local time (basic)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%FT%R</span><span class="s2">"</span><span class="p">)</span>            <span class="c1"># =&gt; 2001-02-03T04:05          Calendar date and local time (extended)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%Y%jT%H%MZ</span><span class="s2">"</span><span class="p">)</span>       <span class="c1"># =&gt; 2001034T0405Z             Ordinal date and UTC of day (basic)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%Y-%jT%RZ</span><span class="s2">"</span><span class="p">)</span>        <span class="c1"># =&gt; 2001-034T04:05Z           Ordinal date and UTC of day (extended)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%GW%V%uT%H%M%z</span><span class="s2">"</span><span class="p">)</span>   <span class="c1"># =&gt; 2001W056T0405+0900        Week date and local time and difference from UTC (basic)
</span><span class="nb">p</span> t<span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"</span><span class="s2">%G-W%V-%uT%R%:z</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; 2001-W05-6T04:05+09:00    Week date and local time and difference from UTC (extended)
</span></code></pre>
</dd>


</dl>
</main>

<footer id="footer">
  <a rel="license" href="https://creativecommons.org/licenses/by/3.0/">
    <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/3.0/88x31.png" />
  </a>

  <a href="https://github.com/rurema/doctree/issues/new" id="feedback-link">フィードバックを送る</a>
  
  <script>if (window.URLSearchParams) { document.getElementById("feedback-link").search = new URLSearchParams({'body': document.location}); }</script>
</footer>
</body>
</html>
