<!DOCTYPE html>
<html lang="ja-JP">
<head>

<meta name="robots" content="noindex">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../../../style.css">
<link rel="stylesheet" href="../../../syntax-highlight.css">
<link rel="icon" type="image/png" href="../../../rurema.png">

<title>Proc#ruby2_keywords (Ruby 3.0.4 リファレンスマニュアル)</title>
<meta name="description" content="Marks the proc as passing keywords through a normal argument splat. This
should only be called on procs that accept an argument splat (`*args`)
but not explicit keywords or a keyword splat.  It marks the proc such
that if the proc is called with keyword arguments, the final hash
argument is marked with a special flag such that if it is the final
element of a normal argument splat to another method call, and that
method call does not include explicit keywords or a keyword splat, the
final element is interpreted as keywords.  In other words, keywords will
be passed through the proc to other methods.">
<script src="../../../script.js"></script>
</head>
<body>


<header>
  <nav>
    <ol class="inline-breadcrumb-list">
      <li>
        <a href="../../../doc/index.html">Ruby 3.0.4 リファレンスマニュアル</a>
      </li>
      <li>
        <a href="../../../library/index.html">ライブラリ一覧</a>
      </li>
      <li>
        <a href="../../../library/_builtin.html">組み込みライブラリ</a>
      </li>
      <li>
        <a href="../../../class/-proc.html">Procクラス</a>
      </li>
      <li>
        ruby2_keywords 
      </li>
    </ol>
  </nav>

<h1>instance method Proc#ruby2_keywords</h1>
</header>

<main>
<dl class="methodlist">

<dt class="method-heading" id="I_RUBY2_KEYWORDS"><code>ruby2_keywords -&gt; proc</code><span class="permalink">[<a href="../../../method/-proc/i/ruby2_keywords.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.0.4/Proc.html#method-i-ruby2_keywords">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
Marks the proc as passing keywords through a normal argument splat. This
should only be called on procs that accept an argument splat (`*args`)
but not explicit keywords or a keyword splat.  It marks the proc such
that if the proc is called with keyword arguments, the final hash
argument is marked with a special flag such that if it is the final
element of a normal argument splat to another method call, and that
method call does not include explicit keywords or a keyword splat, the
final element is interpreted as keywords.  In other words, keywords will
be passed through the proc to other methods.
</p>
<p>
This should only be used for procs that delegate keywords to another
method, and only for backwards compatibility with Ruby versions before
2.7.
</p>
<p>
This method will probably be removed at some point, as it exists only
for backwards compatibility. As it does not exist in Ruby versions
before 2.7, check that the proc responds to this method before calling
it. Also, be aware that if this method is removed, the behavior of the
proc will change so that it does not pass through keywords.
</p>
<pre class="highlight ruby">
<code>
<span class="k">module</span> <span class="nn">Mod</span>
  foo <span class="o">=</span> <span class="o">-&gt;</span><span class="p">(</span>meth, <span class="o">*</span>args, <span class="o">&amp;</span>block<span class="p">)</span> <span class="k">do</span>
    <span class="nb">send</span><span class="p">(</span><span class="ss">:"do_<span class="si">#{</span><span class="n">meth</span><span class="si">}</span><span class="s2">"</span>, <span class="o">*</span>args, <span class="o">&amp;</span>block<span class="p">)</span>
  <span class="k">end</span>
  foo<span class="p">.</span><span class="nf">ruby2_keywords</span> <span class="k">if</span> foo<span class="p">.</span><span class="nf">respond_to?</span><span class="p">(</span><span class="ss">:ruby2_keywords</span><span class="p">)</span>
<span class="k">end</span>
</code></pre>
</dd>


</dl>
</main>

<footer id="footer">
  <a rel="license" href="https://creativecommons.org/licenses/by/3.0/">
    <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/3.0/88x31.png" />
  </a>

  <a href="https://github.com/rurema/doctree/issues/new" id="feedback-link">フィードバックを送る</a>
  
  <script>if (window.URLSearchParams) { document.getElementById("feedback-link").search = new URLSearchParams({'body': document.location}); }</script>
</footer>
</body>
</html>
