<!DOCTYPE html>
<html lang="ja-JP">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Language" content="ja-JP">
  <link rel="stylesheet" type="text/css" href="../../../style.css">
  <link rel="icon" type="image/png" href="../../../rurema.png">
  
  <title>instance method String#count (Ruby 2.2.0)</title>
</head>
<body>

<p>
<a href="../../../doc/index.html">Ruby 2.2.0 リファレンスマニュアル</a>
&gt; <a href="../../../library/index.html">ライブラリ一覧</a>
&gt; <a href="../../../library/_builtin.html">組み込みライブラリ</a>
&gt; <a href="../../../class/-string.html">Stringクラス</a>
&gt; count

</p>


<h1>instance method String#count</h1>
<dl class="methodlist">

<dt class="method-heading" id="I_COUNT"><code>count(*chars) -&gt; Integer</code><span class="permalink">[<a href="../../../method/-string/i/count.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/String.html#method-i-count">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
chars で指定された文字が文字列 self にいくつあるか数えます。
</p>
<p>
検索する文字を示す引数 chars の形式は <a class="external" href="http://www.opengroup.org/onlinepubs/009695399/utilities/tr.html">tr(1)</a> と同じです。
つまり、「&quot;a-c&quot;」は文字 a から c を意味し、
「&quot;^0-9&quot;」のように文字列の先頭が「^」の場合は
指定文字以外を意味します。
</p>
<p>
文字「-」は文字列の両端にない場合にだけ範囲指定の意味になります。
同様に、「^」も文字列の先頭にあるときだけ否定の効果を発揮します。
また、「-」「^」「\」は
バックスラッシュ (「\」) によりエスケープできます。
</p>
<p>
引数を複数指定した場合は、
すべての引数にマッチした文字だけを数えます。
</p>
<dl>
<dt class='method-param'>[PARAM] chars:</dt>
<dd>
出現回数を数える文字のパターン
</dd>
</dl>
<p>
例:
</p>
<pre>
p 'abcdefg'.count('c')               # =&gt; 1
p '123456789'.count('2378')          # =&gt; 4
p '123456789'.count('2-8', '^4-6')   # =&gt; 4

# ファイルの行数を数える
n_lines = File.open(&quot;foo&quot;).read.count(&quot;\n&quot;)

# ファイルの末尾に改行コードがない場合にも対処する
buf = File.open(&quot;foo&quot;).read
n_lines = buf.count(&quot;\n&quot;)
n_lines += 1 if /[^\n]\z/ =~ buf
    # if /\n\z/ !~ buf だと空ファイルを 1 行として数えてしまうのでダメ
</pre>
</dd>


</dl>


<div id="footer">
  <a rel="license" href="https://creativecommons.org/licenses/by/3.0/">
    <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/3.0/88x31.png" />
  </a>
</div>
</body>
</html>
