<!DOCTYPE html>
<html lang="ja-JP">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Language" content="ja-JP">
  <link rel="stylesheet" type="text/css" href="../style.css">
  <link rel="icon" type="image/png" href="../rurema.png">
  
  <title>class Module (Ruby 2.2.0)</title>
</head>
<body>

<p>
<a href="../doc/index.html">Ruby 2.2.0 リファレンスマニュアル</a>
&gt; <a href="../library/index.html">ライブラリ一覧</a>
&gt; <a href="../library/_builtin.html">組み込みライブラリ</a>
&gt; Moduleクラス
</p>


<h1>class Module</h1>
<p>


クラスの継承リスト: Module

      &lt; <a href="../class/-object.html">Object</a>
      

      &lt; <a href="../class/-kernel.html">Kernel</a>
      

      &lt; <a href="../class/-basic-object.html">BasicObject</a>
      







</p>

<h2>要約</h2>
<p>
モジュールのクラスです。
</p>



<h2>目次</h2>
<dl>

<dt>特異メソッド</dt>
<dd>

<a href="#S_CONSTANTS">constants</a>

<a href="#S_NESTING">nesting</a>

<a href="#S_NEW">new</a>

</dd>

<dt>インスタンスメソッド</dt>
<dd>

<a href="#I_--3C"><</a>

<a href="#I_--3C--3D"><=</a>

<a href="#I_--3C--3D--3E"><=></a>

<a href="#I_--3D--3D--3D">===</a>

<a href="#I_--3E">></a>

<a href="#I_--3E--3D">>=</a>

<a href="#I_ANCESTORS">ancestors</a>

<a href="#I_AUTOLOAD">autoload</a>

<a href="#I_AUTOLOAD--3F">autoload?</a>

<a href="#I_CLASS_EVAL">class_eval</a>

<a href="#I_CLASS_EVAL">module_eval</a>

<a href="#I_CLASS_VARIABLE_DEFINED--3F">class_variable_defined?</a>

<a href="#I_CLASS_VARIABLES">class_variables</a>

<a href="#I_CONST_DEFINED--3F">const_defined?</a>

<a href="#I_CONST_GET">const_get</a>

<a href="#I_CONST_MISSING">const_missing</a>

<a href="#I_CONST_SET">const_set</a>

<a href="#I_CONSTANTS">constants</a>

<a href="#I_FREEZE">freeze</a>

<a href="#I_INCLUDE">include</a>

<a href="#I_INCLUDE--3F">include?</a>

<a href="#I_INCLUDED_MODULES">included_modules</a>

<a href="#I_INSPECT">inspect</a>

<a href="#I_INSPECT">name</a>

<a href="#I_INSPECT">to_s</a>

<a href="#I_INSTANCE_METHOD">instance_method</a>

<a href="#I_INSTANCE_METHODS">instance_methods</a>

<a href="#I_METHOD_DEFINED--3F">method_defined?</a>

<a href="#I_PREPEND">prepend</a>

<a href="#I_PRIVATE_CLASS_METHOD">private_class_method</a>

<a href="#I_PRIVATE_INSTANCE_METHODS">private_instance_methods</a>

<a href="#I_PRIVATE_METHOD_DEFINED--3F">private_method_defined?</a>

<a href="#I_PROTECTED_INSTANCE_METHODS">protected_instance_methods</a>

<a href="#I_PROTECTED_METHOD_DEFINED--3F">protected_method_defined?</a>

<a href="#I_PUBLIC_CLASS_METHOD">public_class_method</a>

<a href="#I_PUBLIC_INSTANCE_METHOD">public_instance_method</a>

<a href="#I_PUBLIC_INSTANCE_METHODS">public_instance_methods</a>

<a href="#I_PUBLIC_METHOD_DEFINED--3F">public_method_defined?</a>

<a href="#I_REMOVE_CLASS_VARIABLE">remove_class_variable</a>

</dd>

<dt>privateメソッド</dt>
<dd>

<a href="#I_ALIAS_METHOD">alias_method</a>

<a href="#I_APPEND_FEATURES">append_features</a>

<a href="#I_ATTR">attr</a>

<a href="#I_ATTR_ACCESSOR">attr_accessor</a>

<a href="#I_ATTR_READER">attr_reader</a>

<a href="#I_ATTR_WRITER">attr_writer</a>

<a href="#I_CLASS_EXEC">class_exec</a>

<a href="#I_CLASS_EXEC">module_exec</a>

<a href="#I_CLASS_VARIABLE_GET">class_variable_get</a>

<a href="#I_CLASS_VARIABLE_SET">class_variable_set</a>

<a href="#I_DEFINE_METHOD">define_method</a>

<a href="#I_EXTEND_OBJECT">extend_object</a>

<a href="#I_EXTENDED">extended</a>

<a href="#I_INCLUDED">included</a>

<a href="#I_METHOD_ADDED">method_added</a>

<a href="#I_METHOD_REMOVED">method_removed</a>

<a href="#I_METHOD_UNDEFINED">method_undefined</a>

<a href="#I_MODULE_FUNCTION">module_function</a>

<a href="#I_PREPEND_FEATURES">prepend_features</a>

<a href="#I_PREPENDED">prepended</a>

<a href="#I_PRIVATE">private</a>

<a href="#I_PRIVATE_CONSTANT">private_constant</a>

<a href="#I_PROTECTED">protected</a>

<a href="#I_PUBLIC">public</a>

<a href="#I_PUBLIC_CONSTANT">public_constant</a>

<a href="#I_REFINE">refine</a>

<a href="#I_REMOVE_CONST">remove_const</a>

<a href="#I_REMOVE_METHOD">remove_method</a>

<a href="#I_SINGLETON_CLASS--3F">singleton_class?</a>

<a href="#I_UNDEF_METHOD">undef_method</a>

<a href="#I_USING">using</a>

</dd>

</dl>


<h2>特異メソッド</h2>
<dl>

<dt class="method-heading" id="S_CONSTANTS"><code>constants -&gt; [Symbol]</code><span class="permalink">[<a href="../method/-module/s/constants.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-c-constants">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
このメソッドを呼び出した時点で参照可能な定数名の配列を返します。
</p>
<pre>
class C
  FOO = 1
end
p Module.constants   # =&gt; [:RUBY_PLATFORM, :STDIN, ..., :C, ...]
                     # 出力中に :FOO は現われない
</pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/constants.html">Module#constants</a>, <a href="../method/-kernel/m/local_variables.html">Kernel.#local_variables</a>, <a href="../method/-kernel/m/global_variables.html">Kernel.#global_variables</a>, <a href="../method/-object/i/instance_variables.html">Object#instance_variables</a>, <a href="../method/-module/i/class_variables.html">Module#class_variables</a>
</p>
</dd>


<dt class="method-heading" id="S_NESTING"><code>nesting -&gt; [Class, Module]</code><span class="permalink">[<a href="../method/-module/s/nesting.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-c-nesting">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
このメソッドを呼び出した時点でのクラス/モジュールのネスト情
報を配列に入れて返します。
</p>
<pre>
module Foo
  module Bar
    module Baz
      p Module.nesting   # =&gt; [Foo::Bar::Baz, Foo::Bar, Foo]
    end
  end
end
</pre>
</dd>


<dt class="method-heading" id="S_NEW"><code>new -&gt; Module</code><span class="permalink">[<a href="../method/-module/s/new.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-c-new">rdoc</a>]</span></dt>
<dt class="method-heading"><code>new {|mod| ... } -&gt; Module</code></dt>
<dd class="method-description">
<p>
名前の付いていないモジュールを新しく生成して返します。
</p>
<p>
ブロックが与えられると生成したモジュールをブロックに渡し、
モジュールのコンテキストでブロックを実行します。
</p>
<pre>
mod = Module.new
mod.module_eval {|m| ... }
mod
</pre>
<p>
と同じです。
ブロックの実行は Module#initialize が行います。
</p>
<p>
ブロックを与えた場合も生成したモジュールを返します。
</p>
<p>
このメソッドで生成されたモジュールは、
最初に名前が必要になったときに名前が決定します。
モジュールの名前は、
そのモジュールが代入されている定数名のいずれかです。
</p>
<pre>
m = Module.new
p m               # =&gt; #&lt;Module 0lx40198a54&gt;
p m.name          # =&gt; nil   # まだ名前は未定
Foo = m
# m.name          # ここで m.name を呼べば m の名前は &quot;Foo&quot; に確定する
Bar = m
m.name            # &quot;Foo&quot; か &quot;Bar&quot; のどちらかに決まる
</pre>
</dd>


</dl>

<h2>インスタンスメソッド</h2>
<dl>

<dt class="method-heading" id="I_--3C"><code>self &lt; other -&gt; bool | nil</code><span class="permalink">[<a href="../method/-module/i/=3c.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-3C">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
比較演算子。self が other の子孫である場合、 true を返します。
self が other の先祖か同一のクラス／モジュールである場合、false を返します。
</p>
<p>
継承関係にないクラス同士の比較では
nil を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
比較対象のモジュールやクラス
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
other がクラスやモジュールではない場合に発生します。
</dd>
</dl>
<pre>
module Foo
end
class Bar
  include Foo
end
class Baz &lt; Bar
end
class Qux
end
p Bar &lt; Foo     # =&gt; true
p Baz &lt; Bar     # =&gt; true
p Baz &lt; Foo     # =&gt; true
p Baz &lt; Qux     # =&gt; nil
p Baz &gt; Qux     # =&gt; nil

p Foo &lt; Object.new # =&gt; in `&lt;': compared with non class/module (TypeError)
</pre>
</dd>


<dt class="method-heading" id="I_--3C--3D"><code>self &lt;= other -&gt; bool | nil</code><span class="permalink">[<a href="../method/-module/i/=3c=3d.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-3C-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
比較演算子。self が other の子孫であるか、self と other が
同一クラスである場合、 true を返します。
self が other の先祖である場合、false を返します。
</p>
<p>
継承関係にないクラス同士の比較では
nil を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
比較対象のモジュールやクラス
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
other がクラスやモジュールではない場合に発生します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-module/i/=3c.html">Module#&lt;</a>
</p>
</dd>


<dt class="method-heading" id="I_--3C--3D--3E"><code>self &lt;=&gt; other -&gt; Integer | nil</code><span class="permalink">[<a href="../method/-module/i/=3c=3d=3e.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-3C-3D-3E">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self と other の継承関係を比較します。
</p>
<p>
self と other を比較して、
self が other の子孫であるとき -1、
同一のクラス／モジュールのとき 0、
self が other の先祖であるとき 1
を返します。
</p>
<p>
継承関係にないクラス同士の比較では
nil を返します。
</p>
<p>
other がクラスやモジュールでなければ
nil を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
比較対象のクラスやモジュール
</dd>
</dl>
<pre>
module Foo
end
class Bar
  include Foo
end
class Baz &lt; Bar
end
class Qux
end
p Bar &lt;=&gt; Foo     # =&gt; -1
p Baz &lt;=&gt; Bar     # =&gt; -1
p Baz &lt;=&gt; Foo     # =&gt; -1
p Baz &lt;=&gt; Qux     # =&gt; nil
p Qux &lt;=&gt; Baz     # =&gt; nil

p Baz &lt;=&gt; Object.new  # =&gt; nil
</pre>
</dd>


<dt class="method-heading" id="I_--3D--3D--3D"><code>self === obj -&gt; bool</code><span class="permalink">[<a href="../method/-module/i/=3d=3d=3d.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-3D-3D-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
指定された obj が self かそのサブクラスのインスタンスであるとき真を返します。
また、obj が self をインクルードしたクラスかそのサブクラスのインスタンスである場合にも
真を返します。上記のいずれでもない場合に false を返します。
</p>
<p>
言い替えると obj.kind_of?(self) が true の場合、 true を返します。
</p>
<p>
このメソッドは主に case 文での比較に用いられます。
case ではクラス、モジュールの所属関係をチェックすることになります。
</p>
<pre>
str = String.new
case str
when String     # String === str を評価する
  p true        # =&gt; true
end
</pre>
<dl>
<dt class='method-param'>[PARAM] obj:</dt>
<dd>
任意のオブジェクト
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-object/i/kind_of=3f.html">Object#kind_of?</a>, <a href="../method/-object/i/instance_of=3f.html">Object#instance_of?</a>, <a href="../doc/spec=2fcontrol.html#case">制御構造/case</a>
</p>
</dd>


<dt class="method-heading" id="I_--3E"><code>self &gt; other -&gt; bool | nil</code><span class="permalink">[<a href="../method/-module/i/=3e.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-3E">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
比較演算子。 self が other の先祖である場合、true を返します。
self が other の子孫か同一クラスである場合、false を返します。
</p>
<p>
継承関係にないクラス同士の比較では
nil を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
比較対象のモジュールやクラス
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
other がクラスやモジュールではない場合に発生します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-module/i/=3c.html">Module#&lt;</a>
</p>
</dd>


<dt class="method-heading" id="I_--3E--3D"><code>self &gt;= other -&gt; bool | nil</code><span class="permalink">[<a href="../method/-module/i/=3e=3d.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-3E-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
比較演算子。self が other の先祖か同一クラスである場合、 true を返します。
self が other の子孫である場合、false を返します。
</p>
<p>
継承関係にないクラス同士の比較では
nil を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
比較対象のモジュールやクラス
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
other がクラスやモジュールではない場合に発生します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-module/i/=3c.html">Module#&lt;</a>
</p>
</dd>


<dt class="method-heading" id="I_ANCESTORS"><code>ancestors -&gt; [Class, Module]</code><span class="permalink">[<a href="../method/-module/i/ancestors.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-ancestors">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
クラス、モジュールのスーパークラスとインクルードしているモジュール
を優先順位順に配列に格納して返します。
</p>
<pre>
module Foo
end
class Bar
  include Foo
end
class Baz &lt; Bar
  p ancestors
  p included_modules
  p superclass
end
# =&gt; [Baz, Bar, Foo, Object, Kernel, BasicObject]
# =&gt; [Foo, Kernel]
# =&gt; Bar
</pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/included_modules.html">Module#included_modules</a>
</p>
</dd>


<dt class="method-heading" id="I_AUTOLOAD"><code>autoload(const_name, feature) -&gt; nil</code><span class="permalink">[<a href="../method/-module/i/autoload.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-autoload">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
定数 const_name を最初に参照した時に feature を <a href="../method/-kernel/m/require.html">Kernel.#require</a> するように設定します。
</p>
<dl>
<dt class='method-param'>[PARAM] const_name:</dt>
<dd>
<a href="../class/-string.html">String</a> または <a href="../class/-symbol.html">Symbol</a> で指定します。
なお、const_name には、&quot;::&quot; 演算子を含めることはできません。
つまり、トップレベルの定数しか指定できません。
</dd>
<dt class='method-param'>[PARAM] feature:</dt>
<dd>
<a href="../method/-kernel/m/require.html">Kernel.#require</a> と同様な方法で autoload する対象を指定する。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-kernel/m/autoload.html">Kernel.#autoload</a>
</p>
</dd>


<dt class="method-heading" id="I_AUTOLOAD--3F"><code>autoload?(const_name) -&gt; String | nil</code><span class="permalink">[<a href="../method/-module/i/autoload=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-autoload-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
autoload 定数がまだ定義されてない(ロードされていない) ときにそのパス名を返します。
また、ロード済みなら nil を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] const_name:</dt>
<dd>
<a href="../class/-string.html">String</a> または <a href="../class/-symbol.html">Symbol</a> で指定します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-kernel/m/autoload=3f.html">Kernel.#autoload?</a>
</p>
</dd>


<dt class="method-heading" id="I_CLASS_EVAL"><code>module_eval(expr, fname = &quot;(eval)&quot;, lineno = 1) -&gt; object</code><span class="permalink">[<a href="../method/-module/i/class_eval.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-class_eval">rdoc</a>]</span></dt>
<dt class="method-heading"><code>module_eval {|mod| ... } -&gt; object</code></dt>
<dt class="method-heading"><code>class_eval(expr, fname = &quot;(eval)&quot;, lineno = 1) -&gt; object</code></dt>
<dt class="method-heading"><code>class_eval {|mod| ... } -&gt; object</code></dt>
<dd class="method-description">
<p>
モジュールのコンテキストで文字列 expr またはモジュール自身をブロックパラメータとするブロックを
評価してその結果を返します。
</p>
<p>
モジュールのコンテキストで評価するとは、実行中そのモジュールが self になるということです。
つまり、そのモジュールの定義式の中にあるかのように実行されます。
</p>
<p>
ただし、ローカル変数は module_eval/class_eval の外側のスコープと共有します。
</p>
<p>
文字列が与えられた場合には、定数とクラス変数のスコープは自身のモジュール定義式内と同じスコープになります。
ブロックが与えられた場合には、定数とクラス変数のスコープはブロックの外側のスコープになります。
</p>
<dl>
<dt class='method-param'>[PARAM] expr:</dt>
<dd>
評価される文字列。
</dd>
<dt class='method-param'>[PARAM] fname:</dt>
<dd>
文字列を指定します。ファイル fname に文字列 expr が書かれているかのように実行されます。
スタックトレースの表示などを差し替えることができます。
</dd>
<dt class='method-param'>[PARAM] lineno:</dt>
<dd>
文字列を指定します。行番号 lineno から文字列 expr が書かれているかのように実行されます。
スタックトレースの表示などを差し替えることができます。
</dd>
</dl>
<p>
例:
</p>
<pre>
class C
end
a = 1
C.class_eval %Q{
  def m                   # メソッドを動的に定義できる。
    return :m, #{a}
  end
}

p C.new.m        #=&gt; [:m, 1]
</pre>
<p>
[SEE_ALSO] <a href="../method/-basic-object/i/instance_eval.html">BasicObject#instance_eval</a>, <a href="../method/-module/s/new.html">Module.new</a>, <a href="../method/-kernel/m/eval.html">Kernel.#eval</a>
</p>
</dd>


<dt class="method-heading" id="I_CLASS_VARIABLE_DEFINED--3F"><code>class_variable_defined?(name) -&gt; bool</code><span class="permalink">[<a href="../method/-module/i/class_variable_defined=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-class_variable_defined-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
name で与えられた名前のクラス変数がモジュールに存在する場合 true を
返します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
<a href="../class/-symbol.html">Symbol</a> か <a href="../class/-string.html">String</a> を指定します。
</dd>
</dl>
<pre>
class Fred
  @@foo = 99
end
Fred.class_variable_defined?(:@@foo)    #=&gt; true
Fred.class_variable_defined?(:@@bar)    #=&gt; false
Fred.class_variable_defined?('@@foo')    #=&gt; true
Fred.class_variable_defined?('@@bar')    #=&gt; false
</pre>
</dd>


<dt class="method-heading" id="I_CLASS_VARIABLES"><code>class_variables(inherit = true) -&gt; [Symbol]</code><span class="permalink">[<a href="../method/-module/i/class_variables.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-class_variables">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
クラス／モジュールに定義されているクラス変数の名前の配列を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] inherit:</dt>
<dd>
false を指定しない場合はスーパークラスやインクルードして
いるモジュールのクラス変数を含みます。
</dd>
</dl>
<pre>
class One
  @@var1 = 1
end
class Two &lt; One
  @@var2 = 2
end
One.class_variables          # =&gt; [:@@var1]
Two.class_variables          # =&gt; [:@@var2, :@@var1]
Two.class_variables(false)   # =&gt; [:@@var2]
</pre>
<p>
[SEE_ALSO] <a href="../method/-module/s/constants.html">Module.constants</a>, <a href="../method/-kernel/m/local_variables.html">Kernel.#local_variables</a>, <a href="../method/-kernel/m/global_variables.html">Kernel.#global_variables</a>, <a href="../method/-object/i/instance_variables.html">Object#instance_variables</a>, <a href="../method/-module/i/constants.html">Module#constants</a>
</p>
</dd>


<dt class="method-heading" id="I_CONST_DEFINED--3F"><code>const_defined?(name, inherit = true) -&gt; bool</code><span class="permalink">[<a href="../method/-module/i/const_defined=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-const_defined-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
モジュールに name で指定される名前の定数が定義されている時真
を返します。
</p>
<p>
スーパークラスや include したモジュールで定義された定数を検索対象
にするかどうかは第二引数で制御することができます。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
<a href="../class/-string.html">String</a>, <a href="../class/-symbol.html">Symbol</a> で指定される定数名。
</dd>
<dt class='method-param'>[PARAM] inherit:</dt>
<dd>
false を指定するとスーパークラスや include したモジュールで
定義された定数は対象にはなりません。
</dd>
</dl>
<pre>
module Kernel
  FOO = 1
end

# Object は include したモジュールの定数に対しても
# true を返す
p Object.const_defined?(:FOO)   # =&gt; true

module Bar
  BAR = 1
end
class Object
  include Bar
end
# ユーザ定義のモジュールに対しても同様
p Object.const_defined?(:BAR)   # =&gt; true

class Baz
  include Bar
end
# Object 以外でも同様になった
# 第二引数のデフォルト値が true であるため
p Baz.const_defined?(:BAR)      # =&gt; true

# 第二引数を false にした場合
p Baz.const_defined?(:BAR, false)   # =&gt; false
</pre>
</dd>


<dt class="method-heading" id="I_CONST_GET"><code>const_get(name, inherit = true) -&gt; object</code><span class="permalink">[<a href="../method/-module/i/const_get.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-const_get">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
name で指定される名前の定数の値を取り出します。
</p>
<p>
<a href="../method/-module/i/const_defined=3f.html">Module#const_defined?</a> と違って <a href="../class/-object.html">Object</a> を特別扱いすることはありません。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
定数名。<a href="../class/-string.html">String</a> か <a href="../class/-symbol.html">Symbol</a> で指定します。
完全修飾名を指定しなかった場合はモジュールに定義されている
name で指定される名前の定数の値を取り出します。
</dd>
<dt class='method-param'>[PARAM] inherit:</dt>
<dd>
false を指定するとスーパークラスや include したモジュールで
定義された定数は対象にはなりません。
</dd>
<dt>[EXCEPTION] NameError:</dt>
<dd>
定数が定義されていないときに発生します。
</dd>
</dl>
<pre>
module Bar
  BAR = 1
end
class Object
  include Bar
end
# Object では include されたモジュールに定義された定数を見付ける
p Object.const_get(:BAR)   # =&gt; 1

class Baz
  include Bar
end
# Object以外でも同様
p Baz.const_get(:BAR)      # =&gt; 1
# 定義されていない定数
p Baz.const_get(:NOT_DEFINED) #=&gt; raise NameError
# 第二引数に false を指定すると自分自身に定義された定数から探す
p Baz.const_get(:BAR, false) #=&gt; raise NameError
# 完全修飾名を指定すると include や自分自身へ定義されていない場合でも参照できる
p Class.const_get(&quot;Bar::BAR&quot;) # =&gt; 1
</pre>
</dd>


<dt class="method-heading" id="I_CONST_MISSING"><code>const_missing(name)</code><span class="permalink">[<a href="../method/-module/i/const_missing.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-const_missing">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
定義されていない定数を参照したときに Ruby インタプリタが
このメソッドを呼びます。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
参照した定数名の <a href="../class/-symbol.html">Symbol</a>
</dd>
<dt>[EXCEPTION] NameError:</dt>
<dd>
このメソッドを呼び出した場合、デフォルトで発生する例外
</dd>
</dl>
<pre>
class Foo
  def Foo.const_missing(id)
    warn &quot;undefined constant #{id.inspect}&quot;
  end

  Bar
end
Foo::Bar

# =&gt; undefined constant :Bar
     undefined constant :Bar
</pre>
</dd>


<dt class="method-heading" id="I_CONST_SET"><code>const_set(name, value) -&gt; object</code><span class="permalink">[<a href="../method/-module/i/const_set.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-const_set">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
モジュールに name で指定された名前の定数を value とい
う値として定義し、value を返します。
</p>
<p>
そのモジュールにおいてすでにその名前の定数が定義されている場合、警
告メッセージが出力されます。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
<a href="../class/-symbol.html">Symbol</a>,<a href="../class/-string.html">String</a> で定数の名前を指定します。
</dd>
<dt class='method-param'>[PARAM] value:</dt>
<dd>
セットしたい値を指定します。
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_CONSTANTS"><code>constants(inherit = true) -&gt; [Symbol]</code><span class="permalink">[<a href="../method/-module/i/constants.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-constants">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
そのモジュール(またはクラス)で定義されている定数名の配列を返します。
</p>
<p>
inherit に真を指定すると
スーパークラスやインクルードしているモジュールの定数も含みます。
<a href="../class/-object.html">Object</a> のサブクラスの場合、Objectやそのスーパークラスで定義されている
定数は含まれません。 Object.constants とすると Object クラスで定義された
定数の配列が得られます。
</p>
<p>
得られる定数の順序は保証されません。
</p>
<dl>
<dt class='method-param'>[PARAM] inherit:</dt>
<dd>
true を指定するとスーパークラスや include したモジュールで
定義された定数が対象にはなります。false を指定した場合 対象にはなりません。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-module/s/constants.html">Module.constants</a>, <a href="../method/-kernel/m/local_variables.html">Kernel.#local_variables</a>, <a href="../method/-kernel/m/global_variables.html">Kernel.#global_variables</a>, <a href="../method/-object/i/instance_variables.html">Object#instance_variables</a>, <a href="../method/-module/i/class_variables.html">Module#class_variables</a>
</p>
<pre>
Module.constants と Module#constants の違い

 # 出力の簡略化のため起動時の定数一覧を取得して後で差し引く
 $clist = Module.constants

 class Foo
   FOO = 1
 end
 class Bar
   BAR = 1

   # Bar は BAR を含む
   p constants                         # =&gt; [:BAR]
   # 出力に FOO は含まれない
   p Module.constants - $clist         # =&gt; [:BAR, :Bar, :Foo]
   class Baz
     # Baz は定数を含まない
     p constants                       # =&gt; []

     # ネストしたクラスでは、外側のクラスで定義した定数は
     # 参照可能なので、BAR は、Module.constants には含まれる
     # (クラス Baz も Bar の定数なので同様)
     p Module.constants - $clist       # =&gt; [:BAR, :Baz, :Foo, :Bar]
   end
 end
</pre>
</dd>


<dt class="method-heading" id="I_FREEZE"><code>freeze -&gt; self</code><span class="permalink">[<a href="../method/-module/i/freeze.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-freeze">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
モジュールを凍結（内容の変更を禁止）します。
</p>
<p>
凍結したモジュールにメソッドの追加など何らかの変更を加えようとした場合
に <a href="../class/-runtime-error.html">RuntimeError</a> が発生します。
</p>
<p>
[SEE_ALSO] <a href="../method/-object/i/freeze.html">Object#freeze</a>
</p>
</dd>


<dt class="method-heading" id="I_INCLUDE"><code>include(*mod) -&gt; self</code><span class="permalink">[<a href="../method/-module/i/include.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-include">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
モジュール mod をインクルードします。
</p>
<dl>
<dt class='method-param'>[PARAM] mod:</dt>
<dd>
<a href="../class/-module.html">Module</a> のインスタンス( <a href="../class/-enumerable.html">Enumerable</a> など)を指定します。
</dd>
<dt>[EXCEPTION] ArgumentError:</dt>
<dd>
継承関係が循環してしまうような include を行った場合に発生します。
</dd>
</dl>
<pre>
module M
end
module M2
  include M
end
module M
  include M2
end
</pre>
<p>
実行結果:
</p>
<pre>
-:3:in `append_features': cyclic include detected (ArgumentError)
        from -:3:in `include'
        from -:3
</pre>
<p>
インクルードとは、指定されたモジュールの定義
(メソッド、定数) を引き継ぐことです。
インクルードは多重継承の代わりに用いられており、 mix-in とも呼びます。
</p>
<pre>
class C
  include FileTest
  include Math
end

p C.ancestors

# =&gt; [C, Math, FileTest, Object, Kernel]
</pre>
<p>
モジュールの機能追加は、クラスの継承関係の間にそのモジュールが挿入
されることで実現されています。従って、メソッドの探索などは
スーパークラスよりもインクルードされたモジュールのほうが
先に行われます
(上の例の <a href="../method/-module/i/ancestors.html">Module#ancestors</a> の結果がメソッド探索の順序です)。
</p>
<p>
同じモジュールを二回以上 include すると二回目以降は無視されます。
</p>
<pre>
module M
end
class C1
  include M
end
class C2 &lt; C1
  include M   # この include は無視される
end

p C2.ancestors  # =&gt; [C2, C1, M, Object, Kernel]
</pre>
<p>
引数に複数のモジュールを指定した場合、
最後の引数から順にインクルードします。
</p>
</dd>


<dt class="method-heading" id="I_INCLUDE--3F"><code>include?(mod) -&gt; bool</code><span class="permalink">[<a href="../method/-module/i/include=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-include-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self かその親クラス / 親モジュールがモジュール mod を
インクルードしていれば true を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] mod:</dt>
<dd>
<a href="../class/-module.html">Module</a> を指定します。
</dd>
</dl>
<pre>
module M
end
class C1
  include M
end
class C2 &lt; C1
end

p C1.include?(M)   # =&gt; true
p C2.include?(M)   # =&gt; true
</pre>
</dd>


<dt class="method-heading" id="I_INCLUDED_MODULES"><code>included_modules -&gt; [Module]</code><span class="permalink">[<a href="../method/-module/i/included_modules.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-included_modules">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self にインクルードされているモジュールの配列を返します。
</p>
<pre>
module Mixin
end

module Outer
  include Mixin
end

Mixin.included_modules   #=&gt; []
Outer.included_modules   #=&gt; [Mixin]
</pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/ancestors.html">Module#ancestors</a>
</p>
</dd>


<dt class="method-heading" id="I_INSPECT"><code>name -&gt; String</code><span class="permalink">[<a href="../method/-module/i/inspect.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-inspect">rdoc</a>]</span></dt>
<dt class="method-heading"><code>to_s -&gt; String</code></dt>
<dt class="method-heading"><code>inspect -&gt; String</code></dt>
<dd class="method-description">
<p>
モジュールやクラスの名前を文字列で返します。
</p>
<p>
このメソッドが返す「モジュール / クラスの名前」とは、
より正確には「クラスパス」を指します。
クラスパスとは、ネストしているモジュールすべてを
「::」を使って表示した名前のことです。
クラスパスの例としては「CGI::Session」「Net::HTTP」が挙げられます。
</p>
<dl>
<dt>[RETURN]</dt>
<dd>
名前のないモジュール / クラスに対しては nil を返します。
</dd>
</dl>
<pre>
module A
  module B
  end

  p B.name  #=&gt; &quot;A::B&quot;

  class C
  end
end

p A.name    #=&gt; &quot;A&quot;
p A::B.name #=&gt; &quot;A::B&quot;
p A::C.name #=&gt; &quot;A::C&quot;

# 名前のないモジュール / クラス
p Module.new.name   #=&gt; nil
p Class.new.name    #=&gt; nil
</pre>
</dd>


<dt class="method-heading" id="I_INSTANCE_METHOD"><code>instance_method(name) -&gt; UnboundMethod</code><span class="permalink">[<a href="../method/-module/i/instance_method.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-instance_method">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self のインスタンスメソッド name をオブジェクト化した <a href="../class/-unbound-method.html">UnboundMethod</a> を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
メソッド名を <a href="../class/-symbol.html">Symbol</a> または <a href="../class/-string.html">String</a> で指定します。
</dd>
<dt>[EXCEPTION] NameError:</dt>
<dd>
self に存在しないメソッドを指定した場合に発生します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-module/i/public_instance_method.html">Module#public_instance_method</a>, <a href="../method/-object/i/method.html">Object#method</a>
</p>
</dd>


<dt class="method-heading" id="I_INSTANCE_METHODS"><code>instance_methods(inherited_too = true) -&gt; [Symbol]</code><span class="permalink">[<a href="../method/-module/i/instance_methods.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-instance_methods">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
そのモジュールで定義されている public および protected メソッド名
の一覧を配列で返します。
</p>
<dl>
<dt class='method-param'>[PARAM] inherited_too:</dt>
<dd>
false を指定するとそのモジュールで定義されているメソッドのみ返します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-object/i/methods.html">Object#methods</a>
</p>
<p>
例1:
</p>
<pre>
class Foo
  private;   def private_foo()   end
  protected; def protected_foo() end
  public;    def public_foo()    end
end

# あるクラスのインスタンスメソッドの一覧を得る
p Foo.instance_methods(false)
p Foo.public_instance_methods(false)
p Foo.private_instance_methods(false)
p Foo.protected_instance_methods(false)

class Bar &lt; Foo
end
</pre>
<p>
実行結果
</p>
<pre>
[:protected_foo, :public_foo]
[:public_foo]
[:private_foo]
[:protected_foo]
</pre>
<p>
例2:
</p>
<pre>
class Bar
  private;   def private_foo()   end
  protected; def protected_foo() end
  public;    def public_foo()    end
end

# あるクラスのインスタンスメソッドの一覧を得る。
# 親のクラスのインスタンスメソッドも含めるため true を指定して
# いるが、Object のインスタンスメソッドは一覧から排除している。
p Bar.instance_methods(true)           - Object.instance_methods(true)
p Bar.public_instance_methods(true)    - Object.public_instance_methods(true)
p Bar.private_instance_methods(true)   - Object.private_instance_methods(true)
p Bar.protected_instance_methods(true) - Object.protected_instance_methods(true)
</pre>
<p>
実行結果
</p>
<pre>
[:protected_foo, :public_foo]
[:public_foo]
[:private_foo]
[:protected_foo]
</pre>
</dd>


<dt class="method-heading" id="I_METHOD_DEFINED--3F"><code>method_defined?(name) -&gt; bool</code><span class="permalink">[<a href="../method/-module/i/method_defined=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-method_defined-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
モジュールにインスタンスメソッド name が定義されているとき
true を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
<a href="../class/-symbol.html">Symbol</a> か <a href="../class/-string.html">String</a> を指定します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-module/i/public_method_defined=3f.html">Module#public_method_defined?</a>, <a href="../method/-module/i/private_method_defined=3f.html">Module#private_method_defined?</a>, <a href="../method/-module/i/protected_method_defined=3f.html">Module#protected_method_defined?</a>
</p>
</dd>


<dt class="method-heading" id="I_PREPEND"><code>prepend(*modules) -&gt; self</code><span class="permalink">[<a href="../method/-module/i/prepend.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-prepend">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
指定したモジュールを self の継承チェインの先頭に「追加する」ことで
self の定数、メソッド、モジュール変数を「上書き」します。
</p>
<p>
継承チェイン上で、self のモジュール/クラスよりも「手前」に
追加されるため、結果として self で定義されたメソッドは
override されます。
</p>
<p>
modules で指定したモジュールは後ろから順に処理されるため、
modules の先頭が最も優先されます。
</p>
<p>
また、継承によってこの「上書き」を処理するため、prependの引数として
渡したモジュールのインスタンスメソッドでsuperを呼ぶことで
self のモジュール/クラスのメソッドを呼び出すことができます。
</p>
<p>
実際の処理は modules の各要素の prepend_features を後ろから順に呼びだすだけです。
<a href="../method/-module/i/prepend_features.html">Module#prepend_features</a> が継承チェインの改変を実行し、結果として上のような
処理が実現されます。そのため、prepend_features を override することで
prepend の処理を追加/変更できます。
</p>
<dl>
<dt class='method-param'>[PARAM] modules:</dt>
<dd>
prepend する <a href="../class/-module.html">Module</a> を指定します
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-module/i/prepend_features.html">Module#prepend_features</a>
</p>
<pre>
# super と prepend の組み合わせの例
module X
  def foo
    puts &quot;X1&quot; # (1x)
    super # (2x)
    puts &quot;X2&quot; # (3x)
  end
end

class A
  prepend X

  def foo
    puts &quot;A&quot; #(1a)
  end
end

A.new.foo
# (1x) (2x)(ここの super で A#foo を呼びだす) (1a) (3x) の順に実行される
# &gt;&gt; X1
# &gt;&gt; A
# &gt;&gt; X2

# 2つのモジュールを X, Y を prepend X, Y という順で指定したもの
module Y
  def foo
    puts &quot;Y1&quot; #(1y)
    super #(2y)
    puts &quot;Y2&quot; #(3y)
  end
end

class B
  prepend X, Y
  def foo
    puts &quot;B&quot; # (1b)
  end
end

B.new.foo
# (1x) (2x) (1y) (2y) (1b) (3y) (3x) の順に実行される
# X#foo のほうが Y#foo より継承チェインの手前側にあり、そちらが優先される
# &gt;&gt; X1
# &gt;&gt; Y1
# &gt;&gt; B
# &gt;&gt; Y2
# &gt;&gt; X2
# prepend Y, X とすると Y1 X1 B X2 Y2 の順で表示される
</pre>
</dd>


<dt class="method-heading" id="I_PRIVATE_CLASS_METHOD"><code>private_class_method(*name) -&gt; self</code><span class="permalink">[<a href="../method/-module/i/private_class_method.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-private_class_method">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
name で指定したクラスメソッド (クラスの特異メソッド) の
可視性を private に変更します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
0 個以上の <a href="../class/-string.html">String</a> か <a href="../class/-symbol.html">Symbol</a> を指定します。
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_PRIVATE_INSTANCE_METHODS"><code>private_instance_methods(inherited_too = true) -&gt; [Symbol]</code><span class="permalink">[<a href="../method/-module/i/private_instance_methods.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-private_instance_methods">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
そのモジュールで定義されている private メソッド名
の一覧を配列で返します。
</p>
<dl>
<dt class='method-param'>[PARAM] inherited_too:</dt>
<dd>
false を指定するとそのモジュールで定義されているメソッドのみ返します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-object/i/private_methods.html">Object#private_methods</a>, <a href="../method/-module/i/instance_methods.html">Module#instance_methods</a>
</p>
</dd>


<dt class="method-heading" id="I_PRIVATE_METHOD_DEFINED--3F"><code>private_method_defined?(name) -&gt; bool</code><span class="permalink">[<a href="../method/-module/i/private_method_defined=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-private_method_defined-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
インスタンスメソッド name がモジュールに定義されており、
しかもその可視性が private であるときに true を返します。
そうでなければ false を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
<a href="../class/-symbol.html">Symbol</a> か <a href="../class/-string.html">String</a> を指定します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-module/i/method_defined=3f.html">Module#method_defined?</a>
</p>
</dd>


<dt class="method-heading" id="I_PROTECTED_INSTANCE_METHODS"><code>protected_instance_methods(inherited_too = true) -&gt; [Symbol]</code><span class="permalink">[<a href="../method/-module/i/protected_instance_methods.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-protected_instance_methods">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
そのモジュールで定義されている protected メソッド名
の一覧を配列で返します。
</p>
<dl>
<dt class='method-param'>[PARAM] inherited_too:</dt>
<dd>
false を指定するとそのモジュールで定義されているメソッドのみ返します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-object/i/protected_methods.html">Object#protected_methods</a>, <a href="../method/-module/i/instance_methods.html">Module#instance_methods</a>
</p>
</dd>


<dt class="method-heading" id="I_PROTECTED_METHOD_DEFINED--3F"><code>protected_method_defined?(name) -&gt; bool</code><span class="permalink">[<a href="../method/-module/i/protected_method_defined=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-protected_method_defined-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
インスタンスメソッド name がモジュールに定義されており、
しかもその可視性が protected であるときに true を返します。
そうでなければ false を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
<a href="../class/-symbol.html">Symbol</a> か <a href="../class/-string.html">String</a> を指定します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-module/i/method_defined=3f.html">Module#method_defined?</a>
</p>
</dd>


<dt class="method-heading" id="I_PUBLIC_CLASS_METHOD"><code>public_class_method(*name) -&gt; self</code><span class="permalink">[<a href="../method/-module/i/public_class_method.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-public_class_method">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
name で指定したクラスメソッド (クラスの特異メソッド) の
可視性を public に変更します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
0 個以上の <a href="../class/-string.html">String</a> か <a href="../class/-symbol.html">Symbol</a> を指定します。
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_PUBLIC_INSTANCE_METHOD"><code>public_instance_method(name) -&gt; UnboundMethod</code><span class="permalink">[<a href="../method/-module/i/public_instance_method.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-public_instance_method">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self の public インスタンスメソッド name をオブジェクト化した <a href="../class/-unbound-method.html">UnboundMethod</a> を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
メソッド名を <a href="../class/-symbol.html">Symbol</a> または <a href="../class/-string.html">String</a> で指定します。
</dd>
<dt>[EXCEPTION] NameError:</dt>
<dd>
定義されていないメソッド名や、
protected メソッド名、 private メソッド名を引数として与えると発生します。
</dd>
</dl>
<pre>
Kernel.public_instance_method(:object_id) #=&gt; #&lt;UnboundMethod: Kernel#object_id&gt;
Kernel.public_instance_method(:p)         #   method `p' for module `Kernel' is private (NameError)
</pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/instance_method.html">Module#instance_method</a>,<a href="../method/-object/i/public_method.html">Object#public_method</a>
</p>
</dd>


<dt class="method-heading" id="I_PUBLIC_INSTANCE_METHODS"><code>public_instance_methods(inherited_too = true) -&gt; [Symbol]</code><span class="permalink">[<a href="../method/-module/i/public_instance_methods.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-public_instance_methods">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
そのモジュールで定義されている public メソッド名
の一覧を配列で返します。
</p>
<dl>
<dt class='method-param'>[PARAM] inherited_too:</dt>
<dd>
false を指定するとそのモジュールで定義されているメソッドのみ返します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-object/i/public_methods.html">Object#public_methods</a>, <a href="../method/-module/i/instance_methods.html">Module#instance_methods</a>
</p>
</dd>


<dt class="method-heading" id="I_PUBLIC_METHOD_DEFINED--3F"><code>public_method_defined?(name) -&gt; bool</code><span class="permalink">[<a href="../method/-module/i/public_method_defined=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-public_method_defined-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
インスタンスメソッド name がモジュールに定義されており、
しかもその可視性が public であるときに true を返します。
そうでなければ false を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
<a href="../class/-symbol.html">Symbol</a> か <a href="../class/-string.html">String</a> を指定します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-module/i/method_defined=3f.html">Module#method_defined?</a>
</p>
</dd>


<dt class="method-heading" id="I_REMOVE_CLASS_VARIABLE"><code>remove_class_variable(name) -&gt; object</code><span class="permalink">[<a href="../method/-module/i/remove_class_variable.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-remove_class_variable">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
引数で指定したクラス変数を取り除き、そのクラス変数に設定さ
れていた値を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
<a href="../class/-string.html">String</a> または <a href="../class/-symbol.html">Symbol</a> を指定します。
</dd>
<dt>[RETURN]</dt>
<dd>
引数で指定されたクラス変数に設定されていた値を返します。
</dd>
<dt>[EXCEPTION] NameError:</dt>
<dd>
引数で指定されたクラス変数がそのモジュールやクラスに定義されていない場合に発生します。
</dd>
</dl>
<pre>
class Foo
  @@foo = 1
  remove_class_variable(:@@foo)   # =&gt; 1
  p @@foo   # =&gt; uninitialized class variable @@foo in Foo (NameError)
end
</pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/remove_const.html">Module#remove_const</a>, <a href="../method/-object/i/remove_instance_variable.html">Object#remove_instance_variable</a>
</p>
</dd>


</dl>

<h2>privateメソッド</h2>
<dl>

<dt class="method-heading" id="I_ALIAS_METHOD"><code>alias_method(new, original) -&gt; self</code><span class="permalink">[<a href="../method/-module/i/alias_method.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-alias_method">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
メソッドの別名を定義します。
</p>
<p>
alias との違いは以下の通りです。
</p>
<ul>
<li>メソッド名は <a href="../class/-string.html">String</a> または <a href="../class/-symbol.html">Symbol</a> で指定します</li>
<li>グローバル変数の別名をつけることはできません</li>
</ul>
<p>
また、クラスメソッドに対して使用することはできません。
</p>
<dl>
<dt class='method-param'>[PARAM] new:</dt>
<dd>
新しいメソッド名。<a href="../class/-string.html">String</a> または <a href="../class/-symbol.html">Symbol</a> で指定します。
</dd>
<dt class='method-param'>[PARAM] original:</dt>
<dd>
元のメソッド名。<a href="../class/-string.html">String</a> または <a href="../class/-symbol.html">Symbol</a> で指定します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../doc/spec=2fdef.html#alias">クラス／メソッドの定義/alias</a>
</p>
</dd>


<dt class="method-heading" id="I_APPEND_FEATURES"><code>append_features(module_or_class) -&gt; self</code><span class="permalink">[<a href="../method/-module/i/append_features.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-append_features">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
モジュール(あるいはクラス)に self の機能を追加します。
</p>
<p>
このメソッドは <a href="../method/-module/i/include.html">Module#include</a> の実体であり、
include を Ruby で書くと以下のように定義できます。
</p>
<pre>
def include(*modules)
  modules.reverse_each do |mod|
    # append_features や included はプライベートメソッドなので
    # 直接 mod.append_features(self) などとは書けない
    mod.__send__(:append_features, self)
    mod.__send__(:included, self)
  end
end
</pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/included.html">Module#included</a>
</p>
</dd>


<dt class="method-heading" id="I_ATTR"><code>attr(name, assignable = false) -&gt; nil</code><span class="permalink">[<a href="../method/-module/i/attr.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-attr">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
インスタンス変数読み取りのためのインスタンスメソッド name を定義します。
</p>
<p>
このメソッドで定義されるアクセスメソッドの定義は次の通りです。
</p>
<pre>
def name
  @name
end
</pre>
<p>
省略可能な第 2 引数 assignable が指定されその値が真である
場合には、属性の書き込み用メソッド name= も同時に定義されます。
その定義は次の通りです。
</p>
<pre>
def name=(val)
  @name = val
end
</pre>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
<a href="../class/-string.html">String</a> または <a href="../class/-symbol.html">Symbol</a> で指定します。
</dd>
<dt class='method-param'>[PARAM] assignable:</dt>
<dd>
true を指定するとインスタンス変数書き込み用のインスタンスメソッドも定義します。
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_ATTR_ACCESSOR"><code>attr_accessor(*name) -&gt; nil</code><span class="permalink">[<a href="../method/-module/i/attr_accessor.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-attr_accessor">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
インスタンス変数 name に対する読み取りメソッドと書き込みメソッドの両方を
定義します。
</p>
<p>
このメソッドで定義されるメソッドの定義は以下の通りです。
</p>
<pre>
def name
  @name
end
def name=(val)
  @name = val
end
</pre>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
<a href="../class/-string.html">String</a> または <a href="../class/-symbol.html">Symbol</a> を 1 つ以上指定します。
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_ATTR_READER"><code>attr_reader(*name) -&gt; nil</code><span class="permalink">[<a href="../method/-module/i/attr_reader.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-attr_reader">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
インスタンス変数 name の読み取りメソッドを定義します。
</p>
<p>
このメソッドで定義されるメソッドの定義は以下の通りです。
</p>
<pre>
def name
  @name
end
</pre>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
<a href="../class/-string.html">String</a> または <a href="../class/-symbol.html">Symbol</a> を 1 つ以上指定します。
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_ATTR_WRITER"><code>attr_writer(*name) -&gt; nil</code><span class="permalink">[<a href="../method/-module/i/attr_writer.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-attr_writer">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
インスタンス変数 name への書き込みメソッド (name=) を定義します。
</p>
<p>
このメソッドで定義されるメソッドの定義は以下の通りです。
</p>
<pre>
def name=(val)
  @name = val
end
</pre>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
<a href="../class/-string.html">String</a> または <a href="../class/-symbol.html">Symbol</a> を 1 つ以上指定します。
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_CLASS_EXEC"><code>module_exec(*args) {|*vars| ... } -&gt; object</code><span class="permalink">[<a href="../method/-module/i/class_exec.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-class_exec">rdoc</a>]</span></dt>
<dt class="method-heading"><code>class_exec(*args) {|*vars| ... } -&gt; object</code></dt>
<dd class="method-description">
<p>
与えられたブロックを指定された args を引数としてモジュールのコンテキストで評価します。
</p>
<p>
モジュールのコンテキストで評価するとは、実行中そのモジュールが self になるということです。
つまり、そのモジュールの定義式の中にあるかのように実行されます。
</p>
<p>
ローカル変数、定数とクラス変数のスコープはブロックの外側のスコープになります。
</p>
<dl>
<dt class='method-param'>[PARAM] args:</dt>
<dd>
ブロックに渡す引数を指定します。
</dd>
</dl>
<pre>
class Thing
end
c = 1

Thing.class_exec{
  def hello()
    &quot;Hello there!&quot;
  end

  define_method(:foo) do   # ローカル変数がブロックの外側を参照している
    c
  end
}

t = Thing.new
p t.hello()            #=&gt; &quot;Hello there!&quot;
p t.foo()              #=&gt; 1
</pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/module_eval.html">Module#module_eval</a>, <a href="../method/-module/i/class_eval.html">Module#class_eval</a>
</p>
</dd>


<dt class="method-heading" id="I_CLASS_VARIABLE_GET"><code>class_variable_get(name) -&gt; object</code><span class="permalink">[<a href="../method/-module/i/class_variable_get.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-class_variable_get">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
クラス／モジュールに定義されているクラス変数 name の値を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
<a href="../class/-string.html">String</a> または <a href="../class/-symbol.html">Symbol</a> を指定します。
</dd>
<dt>[EXCEPTION] NameError:</dt>
<dd>
クラス変数 name が定義されていない場合、発生します。
</dd>
</dl>
<pre>
class Fred
  @@foo = 99
end

def Fred.foo
  class_variable_get(:@@foo)
end

p Fred.foo #=&gt; 99
</pre>
</dd>


<dt class="method-heading" id="I_CLASS_VARIABLE_SET"><code>class_variable_set(name, val) -&gt; object</code><span class="permalink">[<a href="../method/-module/i/class_variable_set.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-class_variable_set">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
クラス／モジュールにクラス変数 name を定義して、その値として
val をセットします。val を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
<a href="../class/-string.html">String</a> または <a href="../class/-symbol.html">Symbol</a> を指定します。
</dd>
</dl>
<pre>
class Fred
  @@foo = 99
  def foo
    @@foo
  end
end

def Fred.foo(val)
  class_variable_set(:@@foo, val)
end

p Fred.foo(101)   # =&gt; 101
p Fred.new.foo    # =&gt; 101
</pre>
</dd>


<dt class="method-heading" id="I_DEFINE_METHOD"><code>define_method(name, method) -&gt; Symbol</code><span class="permalink">[<a href="../method/-module/i/define_method.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-define_method">rdoc</a>]</span></dt>
<dt class="method-heading"><code>define_method(name) { ... } -&gt; Symbol</code></dt>
<dd class="method-description">
<p>
インスタンスメソッド name を定義します。
</p>
<p>
ブロックを与えた場合、定義したメソッドの実行時にブロックが
レシーバクラスのインスタンスの上で <a href="../method/-basic-object/i/instance_eval.html">BasicObject#instance_eval</a> されます。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
メソッド名を <a href="../class/-string.html">String</a> または <a href="../class/-symbol.html">Symbol</a> を指定します。
</dd>
<dt class='method-param'>[PARAM] method:</dt>
<dd>
<a href="../class/-proc.html">Proc</a>、<a href="../class/-method.html">Method</a> あるいは <a href="../class/-unbound-method.html">UnboundMethod</a> の
いずれかのインスタンスを指定します。
</dd>
<dt>[RETURN]</dt>
<dd>
メソッド名を表す <a href="../class/-symbol.html">Symbol</a> を返します。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
method に同じクラス、サブクラス、モジュール以外のメソッ
ドを指定した場合に発生します。
</dd>
</dl>
<pre>
class Foo
  def foo() p :foo end
  define_method(:bar, instance_method(:foo))
end
Foo.new.bar    # =&gt; :foo
</pre>
</dd>


<dt class="method-heading" id="I_EXTEND_OBJECT"><code>extend_object(obj) -&gt; object</code><span class="permalink">[<a href="../method/-module/i/extend_object.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-extend_object">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../method/-object/i/extend.html">Object#extend</a> の実体です。オブジェクトにモジュールの機能を追加します。
</p>
<p>
<a href="../method/-object/i/extend.html">Object#extend</a> は、Ruby で書くと以下のように定義できます。
</p>
<pre>
def extend(*modules)
  modules.reverse_each do |mod|
    # extend_object や extended はプライベートメソッドなので
    # 直接 mod.extend_object(self) などとは書けない
    mod.__send__(:extend_object, self)
    mod.__send__(:extended, self)
  end
end
</pre>
<p>
extend_object のデフォルトの実装では、self に定義されて
いるインスタンスメソッドを obj の特異メソッドとして追加します。
</p>
<dl>
<dt class='method-param'>[PARAM] obj:</dt>
<dd>
self の機能を追加するオブジェクトを指定します。
</dd>
<dt>[RETURN]</dt>
<dd>
obj で指定されたオブジェクトを返します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-module/i/extended.html">Module#extended</a>
</p>
</dd>


<dt class="method-heading" id="I_EXTENDED"><code>extended(obj) -&gt; ()</code><span class="permalink">[<a href="../method/-module/i/extended.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-extended">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self が他のオブジェクト に <a href="../method/-object/i/extend.html">Object#extend</a> されたときに
呼ばれます。引数には extend を行ったオブジェクトが渡されます。
</p>
<dl>
<dt class='method-param'>[PARAM] obj:</dt>
<dd>
<a href="../method/-object/i/extend.html">Object#extend</a> を行ったオブジェクト
</dd>
</dl>
<pre>
module Foo
  def self.extended(obj)
    p &quot;#{obj} extend #{self}&quot;
  end
end

Object.new.extend Foo

# =&gt; &quot;#&lt;Object:0x401cbc3c&gt; extend Foo&quot;
</pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/extend_object.html">Module#extend_object</a>
</p>
</dd>


<dt class="method-heading" id="I_INCLUDED"><code>included(class_or_module) -&gt; ()</code><span class="permalink">[<a href="../method/-module/i/included.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-included">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self が <a href="../method/-module/i/include.html">Module#include</a> されたときに対象のクラスまたはモジュー
ルを引数にしてインタプリタがこのメソッドを呼び出します。
</p>
<dl>
<dt class='method-param'>[PARAM] class_or_module:</dt>
<dd>
<a href="../method/-module/i/include.html">Module#include</a> を実行したオブジェクト
</dd>
</dl>
<pre>
module Foo
  def self.included(mod)
    p &quot;#{mod} include #{self}&quot;
  end
end
class Bar
  include Foo
end
# =&gt; &quot;Bar include Foo&quot;
</pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/append_features.html">Module#append_features</a>
</p>
</dd>


<dt class="method-heading" id="I_METHOD_ADDED"><code>method_added(name) -&gt; ()</code><span class="permalink">[<a href="../method/-module/i/method_added.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-method_added">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
メソッド name が追加された時にインタプリタがこのメソッドを呼び出します。
</p>
<p>
特異メソッドの追加に対するフックには
<a href="../method/-basic-object/i/singleton_method_added.html">BasicObject#singleton_method_added</a>
を使います。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
追加されたメソッドの名前が <a href="../class/-symbol.html">Symbol</a> で渡されます。
</dd>
</dl>
<pre>
class Foo
  def Foo.method_added(name)
    puts &quot;method \&quot;#{name}\&quot; was added&quot;
  end

  def foo
  end
  define_method :bar, instance_method(:foo)
end

=&gt; method &quot;foo&quot; was added
   method &quot;bar&quot; was added
</pre>
</dd>


<dt class="method-heading" id="I_METHOD_REMOVED"><code>method_removed(name) -&gt; ()</code><span class="permalink">[<a href="../method/-module/i/method_removed.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-method_removed">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
メソッドが <a href="../method/-module/i/remove_method.html">Module#remove_method</a> により削除
された時にインタプリタがこのメソッドを呼び出します。
</p>
<p>
特異メソッドの削除に対するフックには
<a href="../method/-basic-object/i/singleton_method_removed.html">BasicObject#singleton_method_removed</a>
を使います。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
削除されたメソッド名が <a href="../class/-symbol.html">Symbol</a> で渡されます。
</dd>
</dl>
<pre>
class Foo
  def Foo.method_removed(name)
    puts &quot;method \&quot;#{name}\&quot; was removed&quot;
  end

  def foo
  end
  remove_method :foo
end

=&gt; method &quot;foo&quot; was removed
</pre>
</dd>


<dt class="method-heading" id="I_METHOD_UNDEFINED"><code>method_undefined(name) -&gt; ()</code><span class="permalink">[<a href="../method/-module/i/method_undefined.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-method_undefined">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
このモジュールのインスタンスメソッド name が
<a href="../method/-module/i/undef_method.html">Module#undef_method</a> によって削除されるか、
undef 文により未定義にされると、インタプリタがこのメソッドを呼び出します。
</p>
<p>
特異メソッドの削除をフックするには
<a href="../method/-basic-object/i/singleton_method_undefined.html">BasicObject#singleton_method_undefined</a>
を使います。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
削除/未定義にされたメソッド名が <a href="../class/-symbol.html">Symbol</a> で渡されます。
</dd>
</dl>
<pre>
class C
  def C.method_undefined(name)
    puts &quot;method C\##{name} was undefined&quot;
  end

  def foo
  end
  def bar
  end

  undef_method :foo
  undef bar
end
</pre>
<p>
実行結果:
</p>
<pre>
method C#foo was undefined
method C#bar was undefined
</pre>
</dd>


<dt class="method-heading" id="I_MODULE_FUNCTION"><code>module_function(*name) -&gt; self</code><span class="permalink">[<a href="../method/-module/i/module_function.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-module_function">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
メソッドをモジュール関数にします。
</p>
<p>
引数が与えられた時には、
引数で指定されたメソッドをモジュール関数にします。
引数なしのときは今後このモジュール定義文内で
新しく定義されるメソッドをすべてモジュール関数にします。
</p>
<p>
モジュール関数とは、プライベートメソッドであると同時に
モジュールの特異メソッドでもあるようなメソッドです。
例えば <a href="../class/-math.html">Math</a> モジュールのメソッドはすべてモジュール関数です。
</p>
<p>
self を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
<a href="../class/-string.html">String</a> または <a href="../class/-symbol.html">Symbol</a> を 0 個以上指定します。
</dd>
</dl>
<h3 >注意</h3>
<p>
module_function はメソッドに「モジュール関数」という属性をつけるメ
ソッドではなく、プライベートメソッドとモジュールの特異メソッドの 2
つを同時に定義するメソッドです。
そのため、以下のように書いてもモジュール関数の別名は定義できません。
</p>
<pre>
module M
  def foo
    p &quot;foo&quot;
  end
  module_function :foo
  alias bar foo
end

M.foo   # =&gt; &quot;foo&quot;
M.bar   # =&gt; undefined method `bar' for Foo:Module (NoMethodError)
</pre>
<p>
このコードでは、モジュール関数 foo と
プライベートインスタンスメソッド bar を定義してしまいます。
</p>
<p>
正しくモジュール関数に別名を付けるには、
以下のように、先に別名を定義してから
それぞれをモジュール関数にしなければいけません。
</p>
<pre>
module M
  def foo
    p &quot;foo&quot;
  end

  alias bar foo
  module_function :foo, :bar
end

M.foo   # =&gt; &quot;foo&quot;
M.bar   # =&gt; &quot;foo&quot;
</pre>
</dd>


<dt class="method-heading" id="I_PREPEND_FEATURES"><code>prepend_features(mod) -&gt; self</code><span class="permalink">[<a href="../method/-module/i/prepend_features.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-prepend_features">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../method/-module/i/prepend.html">Module#prepend</a> から呼び出されるメソッドで、
prepend の処理の実体です。このメソッド自体は mod で指定した
モジュール/クラスの継承チェインの先頭に self を追加します。
</p>
<p>
このメソッドを上書きすることで、prepend の処理を変更したり
追加したりすることができます。
</p>
<dl>
<dt class='method-param'>[PARAM] mod:</dt>
<dd>
prepend を呼び出したモジュール
</dd>
<dt>[RETURN]</dt>
<dd>
mod が返されます
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_PREPENDED"><code>prepended(class_or_module) -&gt; ()</code><span class="permalink">[<a href="../method/-module/i/prepended.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-prepended">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self が <a href="../method/-module/i/prepend.html">Module#prepend</a> されたときに対象のクラスまたはモジュールを
引数にしてインタプリタがこのメソッドを呼び出します。
</p>
<dl>
<dt class='method-param'>[PARAM] class_or_module:</dt>
<dd>
<a href="../method/-module/i/prepend.html">Module#prepend</a> を実行したオブジェクト
</dd>
</dl>
<pre>
module A
  def self.prepended(mod)
    puts &quot;#{self} prepended to #{mod}&quot;
  end
end
module Enumerable
  prepend A
end
# =&gt; &quot;A prepended to Enumerable&quot;
</pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/included.html">Module#included</a>, <a href="../method/-module/i/prepend.html">Module#prepend</a>
</p>
</dd>


<dt class="method-heading" id="I_PRIVATE"><code>private(*name) -&gt; self</code><span class="permalink">[<a href="../method/-module/i/private.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-private">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
メソッドを private に設定します。
</p>
<p>
引数なしのときは今後このクラスまたはモジュール定義内で新規に定義さ
れるメソッドを関数形式でだけ呼び出せるように(private)設定します。
</p>
<p>
引数が与えられた時には引数によって指定されたメソッドを private に
設定します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
<a href="../class/-string.html">String</a> または <a href="../class/-symbol.html">Symbol</a> を 0 個以上指定します。
</dd>
<dt>[EXCEPTION] NameError:</dt>
<dd>
存在しないメソッド名を指定した場合に発生します。
</dd>
</dl>
<pre>
class Foo
  def foo1() 1 end      # デフォルトでは public
  private               # 可視性を private に変更
  def foo2() 2 end      # foo2 は private メソッド
end

foo = Foo.new
p foo.foo1          # =&gt; 1
p foo.foo2          # =&gt; private method `foo2' called for #&lt;Foo:0x401b7628&gt; (NoMethodError)
</pre>
</dd>


<dt class="method-heading" id="I_PRIVATE_CONSTANT"><code>private_constant(*name) -&gt; self</code><span class="permalink">[<a href="../method/-module/i/private_constant.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-private_constant">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
name で指定した定数の可視性を private に変更します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
0 個以上の <a href="../class/-string.html">String</a> か <a href="../class/-symbol.html">Symbol</a> を指定します。
</dd>
<dt>[EXCEPTION] NameError:</dt>
<dd>
存在しない定数を指定した場合に発生します。
</dd>
<dt>[RETURN]</dt>
<dd>
self を返します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-module/i/public_constant.html">Module#public_constant</a>, <a href="../method/-object/i/untrusted=3f.html">Object#untrusted?</a>
</p>
</dd>


<dt class="method-heading" id="I_PROTECTED"><code>protected(*name) -&gt; self</code><span class="permalink">[<a href="../method/-module/i/protected.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-protected">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
メソッドを protected に設定します。
</p>
<p>
引数なしのときは今後このクラスまたはモジュール定義内で新規に定義さ
れるメソッドを protected に設定します。
</p>
<p>
引数が与えられた時には引数によって指定されたメソッドを protected
に設定します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
<a href="../class/-string.html">String</a> または <a href="../class/-symbol.html">Symbol</a> を 0 個以上指定します。
</dd>
<dt>[EXCEPTION] NameError:</dt>
<dd>
存在しないメソッド名を指定した場合に発生します。
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_PUBLIC"><code>public(*name) -&gt; self</code><span class="permalink">[<a href="../method/-module/i/public.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-public">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
メソッドを public に設定します。
</p>
<p>
引数なしのときは今後このクラスまたはモジュール定義内で新規に定義さ
れるメソッドをどんな形式でも呼び出せるように(public)設定します。
</p>
<p>
引数が与えられた時には引数によって指定されたメソッドを public に設
定します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
<a href="../class/-string.html">String</a> または <a href="../class/-symbol.html">Symbol</a> を 0 個以上指定します。
</dd>
<dt>[EXCEPTION] NameError:</dt>
<dd>
存在しないメソッド名を指定した場合に発生します。
</dd>
</dl>
<pre>
def foo() 1 end
p foo             # =&gt; 1
# the toplevel default is private
p self.foo        # =&gt; private method `foo' called for #&lt;Object:0x401c83b0&gt; (NoMethodError)

def bar() 2 end
public :bar       # visibility changed (all access allowed)
p bar             # =&gt; 2
p self.bar        # =&gt; 2
</pre>
</dd>


<dt class="method-heading" id="I_PUBLIC_CONSTANT"><code>public_constant(*name) -&gt; self</code><span class="permalink">[<a href="../method/-module/i/public_constant.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-public_constant">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
name で指定した定数の可視性を public に変更します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
0 個以上の <a href="../class/-string.html">String</a> か <a href="../class/-symbol.html">Symbol</a> を指定します。
</dd>
<dt>[EXCEPTION] NameError:</dt>
<dd>
存在しない定数を指定した場合に発生します。
</dd>
<dt>[RETURN]</dt>
<dd>
self を返します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-module/i/private_constant.html">Module#private_constant</a>, <a href="../method/-object/i/untrusted=3f.html">Object#untrusted?</a>
</p>
</dd>


<dt class="method-heading" id="I_REFINE"><code>refine(klass) { ... } -&gt; Module</code><span class="permalink">[<a href="../method/-module/i/refine.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-refine">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
引数 klass で指定したクラスだけに対して、ブロックで指定した機能を提供で
きるモジュールを定義します。定義した機能は Module#refine を使用せずに直
接 klass に対して変更を行う場合と異なり、限られた範囲のみ有効にできます。
そのため、既存の機能を局所的に修正したい場合などに用いる事ができます。
</p>
<p>
refinements 機能の詳細については以下を参照してください。
</p>
<ul>
<li><a class="external" href="http://magazine.rubyist.net/?0041-200Special-refinement">http://magazine.rubyist.net/?0041-200Special-refinement</a></li>
<li><a class="external" href="https://docs.ruby-lang.org/en/trunk/syntax/refinements_rdoc.html">https://docs.ruby-lang.org/en/trunk/syntax/refinements_rdoc.html</a></li>
</ul>
<p>
定義した機能は <a href="../method/main/s/using.html">main.using</a>, <a href="../method/-module/i/using.html">Module#using</a> を実行した場合のみ
有効になります。
</p>
<dl>
<dt class='method-param'>[PARAM] klass:</dt>
<dd>
拡張する対象のクラスを指定します。
</dd>
<dt>[RETURN]</dt>
<dd>
ブロックで指定した機能を持つ無名のモジュールを返します。
</dd>
</dl>
<pre>
class C
  def foo
    puts &quot;C#foo&quot;
  end
end

module M
  refine C do
    def foo
      puts &quot;C#foo in M&quot;
    end
  end
end

x = C.new
x.foo # =&gt; &quot;C#foo&quot;

using M

x = C.new
x.foo # =&gt; &quot;C#foo in M&quot;
</pre>
<p>
[SEE_ALSO] <a href="../method/main/s/using.html">main.using</a>
</p>
</dd>


<dt class="method-heading" id="I_REMOVE_CONST"><code>remove_const(name) -&gt; object</code><span class="permalink">[<a href="../method/-module/i/remove_const.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-remove_const">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
name で指定した定数を取り除き、その定数に設定されていた値を
返します。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
<a href="../class/-string.html">String</a> または <a href="../class/-symbol.html">Symbol</a> を指定します。
</dd>
<dt>[RETURN]</dt>
<dd>
引数で指定された定数に設定されていた値を返します。
</dd>
<dt>[EXCEPTION] NameError:</dt>
<dd>
引数で指定された定数がそのモジュールやクラスに定義されていない場合に発生します。
</dd>
</dl>
<pre>
class Foo
  FOO = 1
  p remove_const(:FOO)    # =&gt; 1
  p FOO     # =&gt; uninitialized constant FOO at Foo (NameError)
end
</pre>
<p>
組み込みクラス/モジュールを設定している定数や <a href="../method/-kernel/m/autoload.html">Kernel.#autoload</a> を指定した(まだロードしてない)定数を含めて削除する事ができます。
</p>
<p>
取り除かれた定数は参照できなくなりますが、消える訳ではないので注意して
使用してください。
</p>
<p>
[SEE_ALSO] <a href="../method/-module/i/remove_class_variable.html">Module#remove_class_variable</a>, <a href="../method/-object/i/remove_instance_variable.html">Object#remove_instance_variable</a>
</p>
</dd>


<dt class="method-heading" id="I_REMOVE_METHOD"><code>remove_method(*name) -&gt; self</code><span class="permalink">[<a href="../method/-module/i/remove_method.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-remove_method">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
インスタンスメソッド name をモジュールから削除します。
</p>
<p>
Ruby 1.8.0 以降は複数のメソッド名を指定して一度に削除できます。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
0 個以上の <a href="../class/-string.html">String</a> か <a href="../class/-symbol.html">Symbol</a> を指定します。
</dd>
<dt>[EXCEPTION] NameError:</dt>
<dd>
指定したメソッドが定義されていない場合に発生します。
</dd>
</dl>
<pre>
class C
  def foo
  end

  remove_method :foo
  remove_method :no_such_method   # 例外 NameError が発生
end
</pre>
<p>
[SEE_ALSO] <a href="../method/-module/i/undef_method.html">Module#undef_method</a>
</p>
</dd>


<dt class="method-heading" id="I_SINGLETON_CLASS--3F"><code>singleton_class? -&gt; bool</code><span class="permalink">[<a href="../method/-module/i/singleton_class=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-singleton_class-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self が特異クラスの場合に true を返します。そうでなければ false を返し
ます。
</p>
<pre>
class C
end
C.singleton_class?                  # =&gt; false
C.singleton_class.singleton_class?  # =&gt; true
</pre>
</dd>


<dt class="method-heading" id="I_UNDEF_METHOD"><code>undef_method(*name) -&gt; self</code><span class="permalink">[<a href="../method/-module/i/undef_method.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-undef_method">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
このモジュールのインスタンスメソッド name を未定義にします。
</p>
<dl>
<dt class='method-param'>[PARAM] name:</dt>
<dd>
0 個以上の <a href="../class/-string.html">String</a> か <a href="../class/-symbol.html">Symbol</a> を指定します。
</dd>
<dt>[EXCEPTION] NameError:</dt>
<dd>
指定したインスタンスメソッドが定義されていない場合に発生します。
</dd>
</dl>
<h3 >「未定義にする」とは</h3>
<p>
このモジュールのインスタンスに対して name という
メソッドを呼び出すことを禁止するということです。
スーパークラスの定義が継承されるかどうかという点において、
「未定義」は「メソッドの削除」とは区別されます。
以下のコード例を参照してください。
</p>
<pre>
class A
  def ok
    puts 'A'
  end
end
class B &lt; A
  def ok
    puts 'B'
  end
end

B.new.ok   # =&gt; B

# undef_method の場合はスーパークラスに同名のメソッドがあっても
# その呼び出しはエラーになる
class B
  undef_method :ok
end
B.new.ok   # =&gt; NameError

# remove_method の場合はスーパークラスに同名のメソッドがあると
# それが呼ばれる
class B
  remove_method :ok
end
B.new.ok   # =&gt; A
</pre>
<p>
また、undef 文と undef_method の違いは、
メソッド名を <a href="../class/-string.html">String</a> または <a href="../class/-symbol.html">Symbol</a> で与えられることです。
</p>
<pre>
module M1
  def foo
  end
  def self.moo
    undef foo
  end
end
M1.instance_methods false #=&gt; [&quot;foo&quot;]
M1.moo
M1.instance_methods false #=&gt; []
module M2
  def foo
  end
  def self.moo
    undef_method :foo
  end
end
M2.instance_methods false #=&gt; [&quot;foo&quot;]
M2.moo
M2.instance_methods false #=&gt; []
</pre>
</dd>


<dt class="method-heading" id="I_USING"><code>using(module) -&gt; self</code><span class="permalink">[<a href="../method/-module/i/using.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.2.0/Module.html#method-i-using">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
引数で指定したモジュールで定義された拡張を現在のクラス、モジュールで有
効にします。
</p>
<p>
有効にした拡張の有効範囲については以下を参照してください。
</p>
<ul>
<li><a class="external" href="https://docs.ruby-lang.org/en/trunk/syntax/refinements_rdoc.html#label-Scope">https://docs.ruby-lang.org/en/trunk/syntax/refinements_rdoc.html#label-Scope</a></li>
</ul>
<dl>
<dt class='method-param'>[PARAM] module:</dt>
<dd>
有効にするモジュールを指定します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-module/i/refine.html">Module#refine</a>, <a href="../method/main/s/using.html">main.using</a>
</p>
</dd>


</dl>



<div id="footer">
  <a rel="license" href="https://creativecommons.org/licenses/by/3.0/">
    <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/3.0/88x31.png" />
  </a>
</div>
</body>
</html>
