<!DOCTYPE html>
<html lang="ja-JP">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Language" content="ja-JP">
  <link rel="stylesheet" type="text/css" href="../style.css">
  <link rel="icon" type="image/png" href="../rurema.png">
  
  <title>class OpenSSL::BN (Ruby 1.9.2)</title>
</head>
<body>

<p>
<a href="../doc/index.html">Ruby 1.9.2 リファレンスマニュアル</a>
&gt; <a href="../library/index.html">ライブラリ一覧</a>
&gt; <a href="../library/openssl.html">opensslライブラリ</a>
&gt; OpenSSL::BNクラス
</p>


<h1>class OpenSSL::BN</h1>
<p>


クラスの継承リスト: OpenSSL::BN

      &lt; <a href="../class/-comparable.html">Comparable</a>
      

      &lt; <a href="../class/-object.html">Object</a>
      

      &lt; <a href="../class/-kernel.html">Kernel</a>
      

      &lt; <a href="../class/-basic-object.html">BasicObject</a>
      







</p>

<h2>要約</h2>
<p>
OpenSSL内で利用される多倍長整数クラスです。
</p>
<p>
通常多倍長整数を利用するには <a href="../class/-bignum.html">Bignum</a> を用いてください。
</p>



<h2>目次</h2>
<dl>

<dt>特異メソッド</dt>
<dd>

<a href="#S_GENERATE_PRIME">generate_prime</a>

<a href="#S_NEW">new</a>

<a href="#S_PSEUDO_RAND">pseudo_rand</a>

<a href="#S_PSEUDO_RAND_RANGE">pseudo_rand_range</a>

<a href="#S_RAND">rand</a>

<a href="#S_RAND_RANGE">rand_range</a>

</dd>

<dt>インスタンスメソッド</dt>
<dd>

<a href="#I_--25">%</a>

<a href="#I_--2A">*</a>

<a href="#I_--2A--2A">**</a>

<a href="#I_--2B">+</a>

<a href="#I_--2D">-</a>

<a href="#I_--2F">/</a>

<a href="#I_--3C--3C"><<</a>

<a href="#I_--3C--3D--3E"><=></a>

<a href="#I_--3C--3D--3E">cmp</a>

<a href="#I_--3D--3D">==</a>

<a href="#I_--3D--3D">===</a>

<a href="#I_--3D--3D">eql?</a>

<a href="#I_--3E--3E">>></a>

<a href="#I_BIT_SET--3F">bit_set?</a>

<a href="#I_CLEAR_BIT--21">clear_bit!</a>

<a href="#I_COERCE">coerce</a>

<a href="#I_COPY">copy</a>

<a href="#I_GCD">gcd</a>

<a href="#I_LSHIFT--21">lshift!</a>

<a href="#I_MASK_BITS--21">mask_bits!</a>

<a href="#I_MOD_ADD">mod_add</a>

<a href="#I_MOD_EXP">mod_exp</a>

<a href="#I_MOD_INVERSE">mod_inverse</a>

<a href="#I_MOD_MUL">mod_mul</a>

<a href="#I_MOD_SQR">mod_sqr</a>

<a href="#I_MOD_SUB">mod_sub</a>

<a href="#I_NUM_BITS">num_bits</a>

<a href="#I_NUM_BYTES">num_bytes</a>

<a href="#I_ODD--3F">odd?</a>

<a href="#I_ONE--3F">one?</a>

<a href="#I_PRIME--3F">prime?</a>

<a href="#I_PRIME_FASTTEST--3F">prime_fasttest?</a>

<a href="#I_RSHIFT--21">rshift!</a>

<a href="#I_SET_BIT--21">set_bit!</a>

<a href="#I_SQR">sqr</a>

<a href="#I_TO_BN">to_bn</a>

<a href="#I_TO_I">to_i</a>

<a href="#I_TO_I">to_int</a>

<a href="#I_TO_S">to_s</a>

<a href="#I_UCMP">ucmp</a>

<a href="#I_ZERO--3F">zero?</a>

</dd>

</dl>


<h2>特異メソッド</h2>
<dl>

<dt class="method-heading" id="S_GENERATE_PRIME"><code>generate_prime(bits, safe=true, add=nil, rem=nil) -&gt; OpenSSL::BN</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/s/generate_prime.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-c-generate_prime">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
ランダム(疑似乱数的)な bits ビットの素数を返します。
</p>
<p>
暗号的に意味のある素数は十分大きくないといけないので、
bits が小さすぎる場合は期待する結果を返しません。
</p>
<p>
safe が真であれば、「安全な」素数((p-1)/2が素数である素数p)を
返します。
</p>
<p>
add に整数を渡すと、 p % add == rem であるような
素数pのみを返します。rem が nil の場合は rem=1と見なします。
</p>
<dl>
<dt class='method-param'>[PARAM] bits:</dt>
<dd>
生成するランダム素数のビット数
</dd>
<dt class='method-param'>[PARAM] safe:</dt>
<dd>
true で安全な素数のみを生成する
</dd>
<dt class='method-param'>[PARAM] add:</dt>
<dd>
生成する素数の剰余の条件
</dd>
<dt class='method-param'>[PARAM] rem:</dt>
<dd>
生成する素数の剰余の条件
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
素数の生成に失敗した場合に発生します
</dd>
</dl>
</dd>


<dt class="method-heading" id="S_NEW"><code>new(str, base=10) -&gt; OpenSSL::BN</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/s/new.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-c-new">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
文字列を多倍長整数オブジェクト(<a href="../class/-open-s-s-l=3a=3a-b-n.html">OpenSSL::BN</a>)を生成します。
</p>
<p>
base によって変換の基数を決めることができます。
10, 16 が利用可能です。
</p>
<p>
baseに2を指定すると文字列を big-endian の符号無し整数のバイナリ列とみなして
変換します。
</p>
<p>
また、base に 0 を指定すると、MPIのフォーマットから変換します。
(最初の4byteはbig-endianでデータ長を表わし、その後にそのデータ長のバイト
列(big-endian)で数値を表す。最上位ビットが立っていると負数)。
</p>
<p>
例:
</p>
<pre>
OpenSSL::BN.new(&quot;-241&quot;) # =&gt; -241
OpenSSL::BN.new(&quot;ff00&quot;,16) # =&gt; 65280
OpenSSL::BN.new(&quot;\x81&quot;,2) # =&gt; 129
OpenSSL::BN.new(&quot;\xff\x81&quot;,2) # =&gt; 65409
OpenSSL::BN.new(&quot;\x00\x00\x00\x02\x00\x81&quot;, 0) # =&gt; 129
OpenSSL::BN.new(&quot;\x00\x00\x00\x02\x80\x81&quot;, 0) # =&gt; -129
</pre>
<dl>
<dt class='method-param'>[PARAM] str:</dt>
<dd>
整数を表す文字列
</dd>
<dt class='method-param'>[PARAM] base:</dt>
<dd>
文字列から整数に変換するときの基数
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
変換に失敗した場合に発生します
</dd>
</dl>
</dd>
<dt class="method-heading" id="S_NEW"><code>new(bn) -&gt; OpenSSL::BN</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/s/new.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-c-new">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../class/-open-s-s-l=3a=3a-b-n.html">OpenSSL::BN</a> を複製して返します。
</p>
<dl>
<dt class='method-param'>[PARAM] bn:</dt>
<dd>
複製する <a href="../class/-open-s-s-l=3a=3a-b-n.html">OpenSSL::BN</a> オブジェクト
</dd>
</dl>
</dd>


<dt class="method-heading" id="S_PSEUDO_RAND"><code>pseudo_rand(bits, fill=0, odd=false) -&gt; OpenSSL::BN</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/s/pseudo_rand.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-c-pseudo_rand">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
乱数を生成し、返します。
</p>
<p>
乱数系列に暗号論的な強さはないため、暗号関連でない場合や、
強さが必要でない場合に用いることができます。
鍵生成のような場合には使えません。
</p>
<p>
bits ビットの長さの正の整数を生成します。
</p>
<p>
fill が -1 なら、生成させる数の最上位ビットが
0である場合を許容します。fill が 0 なら、
生成させる数の最上位ビットは1にセットされます、
つまり必ず bits ビットの整数となります。
fill が1の場合は、上位2ビットが1にセットされます。
</p>
<p>
odd が真なら、生成される整数は奇数のみとなります。
</p>
<dl>
<dt class='method-param'>[PARAM] bits:</dt>
<dd>
発生させる数のビット数
</dd>
<dt class='method-param'>[PARAM] fill:</dt>
<dd>
上位ビットの性質を決める整数
</dd>
<dt class='method-param'>[PARAM] odd:</dt>
<dd>
真なら発生させる数は奇数のみとなる
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
乱数の生成に失敗した場合に発生します
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-b-n/s/rand.html">OpenSSL::BN.rand</a>, <a href="../method/-open-s-s-l=3a=3a-b-n/s/pseudo_rand_range.html">OpenSSL::BN.pseudo_rand_range</a>
</p>
</dd>


<dt class="method-heading" id="S_PSEUDO_RAND_RANGE"><code>pseudo_rand_range(range) -&gt; OpenSSL::BN</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/s/pseudo_rand_range.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-c-pseudo_rand_range">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
乱数を 0 から range-1 までの間で生成し、返します。
</p>
<p>
乱数系列に暗号論的な強さはありません。
</p>
<dl>
<dt class='method-param'>[PARAM] range:</dt>
<dd>
生成する乱数の範囲
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
乱数の生成に失敗した場合に発生します
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-b-n/s/pseudo_rand.html">OpenSSL::BN.pseudo_rand</a>, <a href="../method/-open-s-s-l=3a=3a-b-n/s/rand_range.html">OpenSSL::BN.rand_range</a>
</p>
</dd>


<dt class="method-heading" id="S_RAND"><code>rand(bits, fill=0, odd=false) -&gt; OpenSSL::BN</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/s/rand.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-c-rand">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
暗号論的に強い疑似乱数を生成し、返します。
</p>
<p>
bits ビットの長さの正の整数を生成します。
</p>
<p>
fill が -1 なら、生成させる数の最上位ビットが
0である場合を許容します。fill が 0 なら、
生成させる数の最上位ビットは1にセットされます、
つまり必ず bits ビットの整数となります。
fill が1の場合は、上位2ビットが1にセットされます。
</p>
<p>
odd が真なら、生成される整数は奇数のみとなります。
</p>
<dl>
<dt class='method-param'>[PARAM] bits:</dt>
<dd>
発生させる数のビット数
</dd>
<dt class='method-param'>[PARAM] fill:</dt>
<dd>
上位ビットの性質を決める整数
</dd>
<dt class='method-param'>[PARAM] odd:</dt>
<dd>
真なら発生させる数は奇数のみとなる
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
乱数の生成に失敗した場合に発生します
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-b-n/s/pseudo_rand.html">OpenSSL::BN.pseudo_rand</a>, <a href="../method/-open-s-s-l=3a=3a-b-n/s/rand_range.html">OpenSSL::BN.rand_range</a>
</p>
</dd>


<dt class="method-heading" id="S_RAND_RANGE"><code>rand_range(range) -&gt; OpenSSL::BN</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/s/rand_range.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-c-rand_range">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
暗号論的に強い疑似乱数を 0 から range-1 までの間で生成し、返します。
</p>
<dl>
<dt class='method-param'>[PARAM] range:</dt>
<dd>
生成する乱数の範囲
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
乱数の生成に失敗した場合に発生します
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-b-n/s/rand.html">OpenSSL::BN.rand</a>, <a href="../method/-open-s-s-l=3a=3a-b-n/s/pseudo_rand_range.html">OpenSSL::BN.pseudo_rand_range</a>
</p>
</dd>


</dl>

<h2>インスタンスメソッド</h2>
<dl>

<dt class="method-heading" id="I_--25"><code>self % other -&gt; OpenSSL::BN</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/=25.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-25">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身を other で割り算した余りを返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
除数
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
計算時エラー
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_--2A"><code>self * other -&gt; OpenSSL::BN</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/=2a.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-2A">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身と other の積を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
かける数
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
計算時エラー
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_--2A--2A"><code>self ** other -&gt; OpenSSL::BN</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/=2a=2a.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-2A-2A">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身の other 乗を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
指数
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
計算時エラー
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_--2B"><code>self + other -&gt; OpenSSL::BN</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/=2b.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-2B">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身と other の和を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
足す整数
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
計算時エラー
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_--2D"><code>self - other -&gt; OpenSSL::BN</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/=2d.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-2D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身から other を引いた値を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
引く整数
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
計算時エラー
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_--2F"><code>self / other -&gt; [OpenSSL::BN, OpenSSL::BN]</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/=2f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-2F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身を other で割った商と余りを配列で返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
除数
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
計算時エラー
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_--3C--3C"><code>self &lt;&lt; other -&gt; OpenSSL::BN</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/=3c=3c.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-3C-3C">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身を other ビット左シフトした値を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
シフトするビット数
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
計算時エラー
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_--3C--3D--3E"><code>self &lt;=&gt; other -&gt; -1 | 0 | 1</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/=3c=3d=3e.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-3C-3D-3E">rdoc</a>]</span></dt>
<dt class="method-heading"><code>cmp(other) -&gt; -1 | 0 | 1</code></dt>
<dd class="method-description">
<p>
自身と other を比較し、otherのほうが小さければ-1、
大きければ+1、等しければ 0 を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
比較する数
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_--3D--3D"><code>self == other -&gt; bool</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/=3d=3d.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-3D-3D">rdoc</a>]</span></dt>
<dt class="method-heading"><code>self === other -&gt; bool</code></dt>
<dt class="method-heading"><code>eql?(other) -&gt; bool</code></dt>
<dd class="method-description">
<p>
自身と other が等しい場合に真を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
比較する数
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_--3E--3E"><code>self &gt;&gt; other -&gt; OpenSSL::BN</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/=3e=3e.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-3E-3E">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身を other ビット右シフトした値を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
シフトするビット数
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
計算時エラー
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_BIT_SET--3F"><code>bit_set?(n) -&gt; bool</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/bit_set=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-bit_set-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身の n ビット目が立っているなら真を返します。
</p>
<p>
例:
</p>
<pre>
BN.new(&quot;129&quot;).bit_set?(0) # =&gt; true
BN.new(&quot;129&quot;).bit_set?(1) # =&gt; false
</pre>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
調べるビットの位置
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_CLEAR_BIT--21"><code>clear_bit!(n) -&gt; self</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/clear_bit=21.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-clear_bit-21">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身の n ビット目を0にします。
</p>
<p>
例:
</p>
<pre>
a = BN.new(&quot;129&quot;)
a.clear_bit!(0)
a # =&gt; 128
</pre>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
0にするビットの位置
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
計算時エラー
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_COERCE"><code>coerce(other) -&gt; Array</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/coerce.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-coerce">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身と other が同じクラスになるよう、自身か other を変換し
[other, self] という配列にして返します。
</p>
<p>
基本的に other が整数のときに、自身を Integer のオブジェクトに
変換して [other, 変換後オブジェクト] にして返します。
それ以外の場合は例外 TypeError を発生させます。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
変換の基準となるオブジェクト
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
変換に失敗した場合に発生します
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_COPY"><code>copy(other) -&gt; self</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/copy.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-copy">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
other の内容を自身にコピーします。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
コピーする <a href="../class/-open-s-s-l=3a=3a-b-n.html">OpenSSL::BN</a> のオブジェクト
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
コピーに失敗
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_GCD"><code>gcd(other) -&gt; OpenSSL::BN</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/gcd.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-gcd">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
GCD(最大公約数)を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身との GCD を計算する数
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
計算時エラー
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_LSHIFT--21"><code>lshift!(n) -&gt; self</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/lshift=21.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-lshift-21">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身を n ビット左シフトします。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
シフトするビット数
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
計算時エラー
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_MASK_BITS--21"><code>mask_bits!(n) -&gt; self</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/mask_bits=21.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-mask_bits-21">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身を下位 n ビットでマスクします。
</p>
<p>
n が自身のビット数より大きい場合は例外 <a href="../class/-open-s-s-l=3a=3a-b-n-error.html">OpenSSL::BNError</a>
が発生します。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
マスクするビット数
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
計算時エラー
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_MOD_ADD"><code>mod_add(other, m) -&gt; OpenSSL::BN</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/mod_add.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-mod_add">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
(self + other) % m を返します。
</p>
<p>
例:
</p>
<pre>
BN.new(&quot;7&quot;).mod_add(BN.new(&quot;3&quot;), BN.new(&quot;6&quot;)) # =&gt; 4
</pre>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
和を取る数
</dd>
<dt class='method-param'>[PARAM] m:</dt>
<dd>
剰余を取る数
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
計算時エラー
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_MOD_EXP"><code>mod_exp(other, m) -&gt; OpenSSL::BN</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/mod_exp.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-mod_exp">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
(self ** other) % m を返します。
</p>
<p>
例:
</p>
<pre>
BN.new(&quot;7&quot;).mod_exp(BN.new(&quot;3&quot;), BN.new(&quot;6&quot;)) # =&gt; 1
</pre>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
指数
</dd>
<dt class='method-param'>[PARAM] m:</dt>
<dd>
剰余を取る数
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
計算時エラー
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_MOD_INVERSE"><code>mod_inverse(m) -&gt; OpenSSL::BN</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/mod_inverse.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-mod_inverse">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身の mod m における逆元を返します。
</p>
<p>
(self * r) % m == 1 となる r を返します。
存在しない場合は例外 <a href="../class/-open-s-s-l=3a=3a-b-n-error.html">OpenSSL::BNError</a> が発生します。
</p>
<dl>
<dt class='method-param'>[PARAM] m:</dt>
<dd>
mod を取る数
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
計算時エラー
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_MOD_MUL"><code>mod_mul(other, m) -&gt; OpenSSL::BN</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/mod_mul.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-mod_mul">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
(self * other) % m を返します。
</p>
<p>
例:
</p>
<pre>
BN.new(&quot;7&quot;).mod_mul(BN.new(&quot;3&quot;), BN.new(&quot;6&quot;)) # =&gt; 3
</pre>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
積を取る数
</dd>
<dt class='method-param'>[PARAM] m:</dt>
<dd>
剰余を取る数
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
計算時エラー
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_MOD_SQR"><code>mod_sqr(m) -&gt; OpenSSL::BN</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/mod_sqr.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-mod_sqr">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
(self ** 2) % m を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] m:</dt>
<dd>
mod を取る数
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
計算時エラー
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_MOD_SUB"><code>mod_sub(other, m) -&gt; OpenSSL::BN</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/mod_sub.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-mod_sub">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
(self - other) % m を返します。
</p>
<p>
例:
</p>
<pre>
BN.new(&quot;27&quot;).mod_mul(BN.new(&quot;3&quot;), BN.new(&quot;5&quot;)) # =&gt; 4
</pre>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
引く数
</dd>
<dt class='method-param'>[PARAM] m:</dt>
<dd>
剰余を取る数
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
計算時エラー
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_NUM_BITS"><code>num_bits -&gt; Integer</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/num_bits.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-num_bits">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身を表現するのに使っているビット数を返します。
</p>
<p>
符号は無視されます。
</p>
<p>
例:
</p>
<pre>
OpenSSL::BN.new(&quot;127&quot;).num_bits # =&gt; 7
OpenSSL::BN.new(&quot;-127&quot;).num_bits # =&gt; 7
OpenSSL::BN.new(&quot;128&quot;).num_bits # =&gt; 8
</pre>
</dd>


<dt class="method-heading" id="I_NUM_BYTES"><code>num_bytes -&gt; Integer</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/num_bytes.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-num_bytes">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身を表現するのに使っているバイト数を返します。
</p>
</dd>


<dt class="method-heading" id="I_ODD--3F"><code>odd? -&gt; bool</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/odd=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-odd-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身が奇数である場合に真を返します。
</p>
</dd>


<dt class="method-heading" id="I_ONE--3F"><code>one? -&gt; bool</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/one=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-one-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身が1である場合に真を返します。
</p>
</dd>


<dt class="method-heading" id="I_PRIME--3F"><code>prime? -&gt; bool</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/prime=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-prime-3F">rdoc</a>]</span></dt>
<dt class="method-heading"><code>prime?(checks) -&gt; bool</code></dt>
<dd class="method-description">
<p>
自身が素数であるなら真を返します。
</p>
<p>
Miller-Rabin 法により確率的に判定します。
checkで指定した回数だけ繰り返します。
引数を省略した場合は OpenSSL が適切な
回数を判断します。
</p>
<dl>
<dt class='method-param'>[PARAM] check:</dt>
<dd>
Miller-Robin 法の繰り返しの回数
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
判定時にエラーが発生
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-b-n/i/prime_fasttest=3f.html">OpenSSL::BN#prime_fasttest?</a>
</p>
</dd>


<dt class="method-heading" id="I_PRIME_FASTTEST--3F"><code>prime_fasttest?(checks=nil, vtrivdiv=true) -&gt; bool</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/prime_fasttest=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-prime_fasttest-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身が素数であるなら真を返します。
</p>
<p>
vtrivdiv が真である場合には、 Miller-Rabin 法での
判定の前に小さな素数で割ることで素数か否かを
調べます。自身が小さな素数である場合にはこの手順
により素数ではないと誤った返り値を返します。
</p>
<p>
Miller-Rabin 法により確率的に判定します。
checksで指定した回数だけ繰り返します。
checksがnilである場合は OpenSSL が適切な
回数を判断します。
</p>
<p>
例:
</p>
<pre>
# 181 は 「小さな素数」である
OpenSSL::BN.new(&quot;181&quot;).prime_fasttest?(nil, true) # =&gt; false
OpenSSL::BN.new(&quot;181&quot;).prime_fasttest?(nil, false) # =&gt; true
</pre>
<dl>
<dt class='method-param'>[PARAM] checks:</dt>
<dd>
Miller-Robin法の繰り返しの回数
</dd>
<dt class='method-param'>[PARAM] vtrivdiv:</dt>
<dd>
真なら小さな素数で割ることでの素数判定を試みます
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
判定時にエラーが発生
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-b-n/i/prime=3f.html">OpenSSL::BN#prime?</a>
</p>
</dd>


<dt class="method-heading" id="I_RSHIFT--21"><code>rshift!(n) -&gt; self</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/rshift=21.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-rshift-21">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身を n ビット右シフトします。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
シフトするビット数
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
計算時エラー
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_SET_BIT--21"><code>set_bit!(n) -&gt; self</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/set_bit=21.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-set_bit-21">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身の n ビット目を1にします。
</p>
<p>
例:
</p>
<pre>
a = BN.new(&quot;128&quot;)
a.set_bit!(0)
a # =&gt; 129
</pre>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
1にするビットの位置
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
計算時エラー
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_SQR"><code>sqr -&gt; OpenSSL::BN</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/sqr.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-sqr">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身の2乗を計算します。
</p>
<dl>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
計算時エラー
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_TO_BN"><code>to_bn -&gt; self</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/to_bn.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-to_bn">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自分自身を返します。
</p>
</dd>


<dt class="method-heading" id="I_TO_I"><code>to_i -&gt; Integer</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/to_i.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-to_i">rdoc</a>]</span></dt>
<dt class="method-heading"><code>to_int -&gt; Integer</code></dt>
<dd class="method-description">
<p>
自身を Integer のインスタンスに変換します。
</p>
<dl>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
変換に失敗した場合に発生します
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_TO_S"><code>to_s(base=10) -&gt; String</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/to_s.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-to_s">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身を表す文字列を返します。
</p>
<p>
base で基数を指定します。10,16を指定できます。
2を指定すると自身の絶対値を big-endian の符号無し整数のバイナリ列に
変換します。
0を指定した場合には MPI 形式の文字列(バイト列)に変換します。
</p>
<dl>
<dt class='method-param'>[PARAM] base:</dt>
<dd>
文字列変換の基数
</dd>
<dt>[EXCEPTION] OpenSSL::BNError:</dt>
<dd>
変換に失敗した場合に発生します
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-b-n/s/new.html">OpenSSL::BN.new</a>
</p>
</dd>


<dt class="method-heading" id="I_UCMP"><code>ucmp(other) -&gt; -1 | 0 | 1</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/ucmp.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-ucmp">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身と other の絶対値を比較し、other の絶対値のほうが
自身の絶対値より小さければ-1、
大きければ+1、2つの絶対値が等しければ 0 を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
比較する数
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_ZERO--3F"><code>zero? -&gt; bool</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-b-n/i/zero=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/OpenSSL/BN.html#method-i-zero-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身が0である場合に真を返します。
</p>
</dd>


</dl>



<div id="footer">
  <a rel="license" href="https://creativecommons.org/licenses/by/3.0/">
    <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/3.0/88x31.png" />
  </a>
</div>
</body>
</html>
