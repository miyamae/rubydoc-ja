<!DOCTYPE html>
<html lang="ja-JP">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Language" content="ja-JP">
  <link rel="stylesheet" type="text/css" href="../../../style.css">
  <link rel="icon" type="image/png" href="../../../rurema.png">
  
  <title>singleton method Dir.mktmpdir (Ruby 1.9.2)</title>
</head>
<body>

<p>
<a href="../../../doc/index.html">Ruby 1.9.2 リファレンスマニュアル</a>
&gt; <a href="../../../library/index.html">ライブラリ一覧</a>
&gt; <a href="../../../library/tmpdir.html">tmpdirライブラリ</a>
&gt; <a href="../../../class/-dir.html">Dirクラス</a>
&gt; mktmpdir

</p>


<h1>singleton method Dir.mktmpdir</h1>
<dl class="methodlist">

<dt class="method-heading" id="S_MKTMPDIR"><code>mktmpdir(prefix_suffix = nil, tmpdir = nil) -&gt; String</code><span class="permalink">[<a href="../../../method/-dir/s/mktmpdir.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/1.9.2/Dir.html#method-c-mktmpdir">rdoc</a>]</span> <span class="kindinfo">[added by <a href="../../../library/tmpdir.html">tmpdir</a>]</span>
</dt>
<dt class="method-heading"><code>mktmpdir(prefix_suffix = nil, tmpdir = nil) {|dir| ... } -&gt; object</code> <span class="kindinfo">[added by <a href="../../../library/tmpdir.html">tmpdir</a>]</span>
</dt>
<dd class="method-description">
<p>
一時ディレクトリを作成します。
</p>
<p>
作成されたディレクトリのパーミッションは 0700 です。
</p>
<p>
ブロックが与えられた場合は、ブロックの評価が終わると
作成された一時ディレクトリやその配下にあったファイルを
<a href="../../../method/-file-utils/m/remove_entry_secure.html">FileUtils.#remove_entry_secure</a> を用いて削除します。
ブロックが与えられなかった場合は、作成した一時ディレクトリのパスを
返します。この場合、このメソッドは作成した一時ディレクトリを削除しません。
</p>
<dl>
<dt class='method-param'>[PARAM] prefix_suffix:</dt>
<dd>
nil の場合は、'd' をデフォルトのプレフィクスとして使用します。サフィックスは付きません。
文字列が与えられた場合は、その文字列をプレフィクスとして使用します。サフィックスは付きません。
2 要素の配列が与えられた場合は、一つ目の要素をプレフィクス、二つ目の要素をサフィックスとして使用します。
</dd>
<dt class='method-param'>[PARAM] tmpdir:</dt>
<dd>
nil の場合は <a href="../../../method/-dir/s/tmpdir.html">Dir.tmpdir</a> を使用します。
そうでない場合は、そのディレクトリを使用します。
</dd>
</dl>
<p>
使用例
</p>
<pre>
require 'tmpdir'

puts Dir.tmpdir
# 出力例: 動作環境により出力は異なります。
#=&gt; /cygdrive/c/DOCUME~1/kouya/LOCALS~1/Temp
Dir.mktmpdir{|dir|
  puts dir
  # 出力例: 一時ディレクトリ の名前の先頭に'd' をつける。
  #=&gt; /cygdrive/c/DOCUME~1/kouya/LOCALS~1/Temp/d20081011-4524-1m69psi
  #                                            ^
}
Dir.mktmpdir(&quot;foo&quot;){|dir|
  puts dir
  # 出力例:一時ディレクトリ の名前の先頭に'foo' をつける。
  #=&gt; /cygdrive/c/DOCUME~1/kouya/LOCALS~1/Temp/foo20081011-4824-pjvhwx
  #                                            ^^^
}
Dir.mktmpdir([&quot;foo&quot;, &quot;bar&quot;]){|dir|
  puts dir
  # 出力例: 一時ディレクトリの名前の先頭に'foo' 、最後に'bar'をつける。
  #=&gt; /cygdrive/c/DOCUME~1/kouya/LOCALS~1/Temp/foo20081011-5624-1hyxrqbbar
  #                                            ^^^                     ^^^
}

Dir.mktmpdir(nil, &quot;/var/tmp&quot;) {|dir|
  puts dir
  # 出力例: tmpdir の作成先が'/var/tmp'となる。
  #         さらに、一時ディレクトリ の名前の先頭に'd' をつける。
  #=&gt; /var/tmp/d20081011-5304-h6b13j
}

memory_dir = nil
Dir.mktmpdir {|dir|
  memory_dir = dir
  File.open(&quot;#{dir}/foo&quot;, &quot;w&quot;) { |fp|
   fp.puts &quot;hogehoge&quot;
  }
}
# ブロックを抜けたら、テンポラリディレクトリは消される。
p FileTest.directory?(memory_dir) #=&gt; false

dir = Dir.mktmpdir
# ブロックを与えない場合は、ディレクトリは存在する。
begin
  File.open(&quot;#{dir}/foo&quot;, &quot;w&quot;) { |fp|
    fp.puts &quot;hogehoge&quot;
  }
ensure
  FileUtils.remove_entry_secure dir
end
p FileTest.directory?(dir) #=&gt; false
</pre>
</dd>


</dl>


<div id="footer">
  <a rel="license" href="https://creativecommons.org/licenses/by/3.0/">
    <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/3.0/88x31.png" />
  </a>
</div>
</body>
</html>
