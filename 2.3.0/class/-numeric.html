<!DOCTYPE html>
<html lang="ja-JP">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Language" content="ja-JP">
  <link rel="stylesheet" type="text/css" href="../style.css">
  <link rel="icon" type="image/png" href="../rurema.png">
  
  <title>class Numeric (Ruby 2.3.0)</title>
</head>
<body>

<p>
<a href="../doc/index.html">Ruby 2.3.0 リファレンスマニュアル</a>
&gt; <a href="../library/index.html">ライブラリ一覧</a>
&gt; <a href="../library/_builtin.html">組み込みライブラリ</a>
&gt; Numericクラス
</p>


<h1>class Numeric</h1>
<p>


クラスの継承リスト: Numeric

      &lt; <a href="../class/-comparable.html">Comparable</a>
      

      &lt; <a href="../class/-object.html">Object</a>
      

      &lt; <a href="../class/-kernel.html">Kernel</a>
      

      &lt; <a href="../class/-basic-object.html">BasicObject</a>
      







</p>

<h2>要約</h2>
<p>
数値を表す抽象クラスです。<a href="../class/-fixnum.html">Fixnum</a> や <a href="../class/-float.html">Float</a> などの数値クラスは Numeric のサブクラスとして
実装されています。
</p>
<p>
演算や比較を行うメソッド(+, -, *, /, &lt;=&gt;)は Numeric のサブクラスで定義されま
す。Numeric で定義されているメソッドは、サブクラスで提供されているメソッド
(+, -, *, /, %) を利用して定義されるものがほとんどです。
つまり Numeric で定義されているメソッドは、Numeric のサブクラスとして新たに数値クラスを定義した時に、
演算メソッド(+, -, *, /, %, &lt;=&gt;, coerce)だけを定義すれば、数値クラスのそのほかのメソッドが
適切に定義されることを意図して提供されています。
</p>
<p>
+@, -@ は単項演算子 +, - を表しメソッド定義などではこの記法を利用します。
</p>
<p>
効率のため Numeric のメソッドと同じメソッドがサブクラスで再定義されている場合があります。
</p>
<p>
<a href="../method/-numeric/i/coerce.html">Numeric#coerce</a> メソッドを使うことによって異なる数値クラス間で演算を行うこともできます。
</p>
<h2 >数値関連のメソッドを実際に定義しているクラス一覧</h2>
<p>
ほとんどの数値関連のメソッドはサブクラスで再定義されています。これは、
効率のためであったり上位抽象クラスで実装を定義することができなかったり
するためです。以下の表は 2.1.2 での一覧です。実際にどのメソッドがどのク
ラスに定義されているかはそれぞれのクラスを参照してください。
</p>
<pre>
=&gt; ruby 2.1.2p95 (2014-05-08 revision 45877) [x86_64-linux]
                          Numeric    Integer     Fixnum     Bignum     Float     Rational   Complex
          -------------------------------------------------------------------------------------------
                     % |     o          -          o          o          o          -          -
                     &amp; |     -          -          o          o          -          -          -
                     * |     -          -          o          o          o          o          o
                    ** |     -          -          o          o          o          o          o
                     + |     -          -          o          o          o          o          o
                    +@ |     o          -          -          -          -          -          -
                     - |     -          -          o          o          o          o          o
                    -@ |     o          -          o          o          o          -          o
                     / |     -          -          o          o          o          o          o
                     &lt; |     -          -          o          o          o          -          -
                          Numeric    Integer     Fixnum     Bignum     Float     Rational   Complex
          -------------------------------------------------------------------------------------------
                    &lt;&lt; |     -          -          o          o          -          -          -
                    &lt;= |     -          -          o          o          o          -          -
                   &lt;=&gt; |     o          -          o          o          o          o          -
                    == |     -          -          o          o          o          o          o
                   === |     -          -          o          o          o          -          -
                     &gt; |     -          -          o          o          o          -          -
                    &gt;= |     -          -          o          o          o          -          -
                    &gt;&gt; |     -          -          o          o          -          -          -
                    [] |     -          -          o          o          -          -          -
                     ^ |     -          -          o          o          -          -          -
                          Numeric    Integer     Fixnum     Bignum     Float     Rational   Complex
          -------------------------------------------------------------------------------------------
                   abs |     o          -          o          o          o          -          o
                  abs2 |     o          -          -          -          -          -          o
                 angle |     o          -          -          -          o          -          o
                   arg |     o          -          -          -          o          -          o
            bit_length |     -          -          o          o          -          -          -
                  ceil |     o          o          -          -          o          o          -
                   chr |     -          o          -          -          -          -          -
                coerce |     o          -          -          o          o          o          o
                  conj |     o          -          -          -          -          -          o
             conjugate |     o          -          -          -          -          -          o
                          Numeric    Integer     Fixnum     Bignum     Float     Rational   Complex
          -------------------------------------------------------------------------------------------
           denominator |     o          o          -          -          o          o          o
                   div |     o          -          o          o          -          -          -
                divmod |     o          -          o          o          o          -          -
                downto |     -          o          -          -          -          -          -
                  eql? |     o          -          -          o          o          -          o
                 even? |     -          o          o          o          -          -          -
                  fdiv |     o          -          o          o          o          o          o
               finite? |     -          -          -          -          o          -          -
                 floor |     o          o          -          -          o          o          -
                   gcd |     -          o          -          -          -          -          -
                          Numeric    Integer     Fixnum     Bignum     Float     Rational   Complex
          -------------------------------------------------------------------------------------------
                gcdlcm |     -          o          -          -          -          -          -
                  hash |     -          -          -          o          o          o          o
                     i |     o          -          -          -          -          -          -
                  imag |     o          -          -          -          -          -          o
             imaginary |     o          -          -          -          -          -          o
             infinite? |     -          -          -          -          o          -          -
               inspect |     -          -          o          o          o          o          o
              integer? |     o          o          -          -          -          -          -
                   lcm |     -          o          -          -          -          -          -
             magnitude |     o          -          o          o          o          -          o
                          Numeric    Integer     Fixnum     Bignum     Float     Rational   Complex
          -------------------------------------------------------------------------------------------
                modulo |     o          -          o          o          o          -          -
                  nan? |     -          -          -          -          o          -          -
                  next |     -          o          -          -          -          -          -
              nonzero? |     o          -          -          -          -          -          -
             numerator |     o          o          -          -          o          o          o
                  odd? |     -          o          o          o          -          -          -
                   ord |     -          o          -          -          -          -          -
                 phase |     o          -          -          -          o          -          o
                 polar |     o          -          -          -          -          -          o
                  pred |     -          o          -          -          -          -          -
                          Numeric    Integer     Fixnum     Bignum     Float     Rational   Complex
          -------------------------------------------------------------------------------------------
                   quo |     o          -          -          -          o          o          o
           rationalize |     -          o          -          -          o          o          o
                  real |     o          -          -          -          -          -          o
                 real? |     o          -          -          -          -          -          o
                  rect |     o          -          -          -          -          -          o
           rectangular |     o          -          -          -          -          -          o
             remainder |     o          -          -          o          -          -          -
                 round |     o          o          -          -          o          o          -
singleton_method_added |     o          -          -          -          -          -          -
                  size |     -          -          o          o          -          -          -
                          Numeric    Integer     Fixnum     Bignum     Float     Rational   Complex
          -------------------------------------------------------------------------------------------
                  step |     o          -          -          -          -          -          -
                  succ |     -          o          o          -          -          -          -
                 times |     -          o          -          -          -          -          -
                  to_c |     o          -          -          -          -          -          o
                  to_f |     -          -          o          o          o          o          o
                  to_i |     -          o          -          -          o          o          o
                to_int |     o          o          -          -          o          -          -
                  to_r |     -          o          -          -          o          o          o
                  to_s |     -          -          o          o          o          o          o
              truncate |     o          o          -          -          o          o          -
                          Numeric    Integer     Fixnum     Bignum     Float     Rational   Complex
          -------------------------------------------------------------------------------------------
                  upto |     -          o          -          -          -          -          -
                 zero? |     o          -          o          -          o          -          -
                     | |     -          -          o          o          -          -          -
                     ~ |     -          -          o          o          -          -          -
</pre>
<h2 >丸めメソッドの動作一覧</h2>
<p>
<a href="../method/-numeric/i/ceil.html">Numeric#ceil</a>, <a href="../method/-numeric/i/floor.html">Numeric#floor</a>, <a href="../method/-numeric/i/round.html">Numeric#round</a>, <a href="../method/-numeric/i/truncate.html">Numeric#truncate</a>
のふるまいの違いの表です。左の実数に対して各メソッドを呼ぶと表のような数を
返します。
</p>
<pre>
      |       ceil      floor      round   truncate
----------------------------------------------------
  1.9 |          2          1          2          1
  1.1 |          2          1          1          1
 -1.1 |         -1         -2         -1         -1
 -1.9 |         -1         -2         -2         -1
</pre>
<h2 >丸めメソッドの拡張例</h2>
<p>
切上げはceil, floor を使用して以下のように定義できます。
</p>
<pre>
if n &gt; 0 then
  n.ceil
else
  n.floor
end
</pre>
<p>
また、任意桁の切上げ、切捨て、四捨五入を行うメソッドは以下のように
定義できます。
</p>
<pre>
class Numeric
  def roundup(d=0)
    x = 10**d
    if self &gt; 0
      self.quo(x).ceil * x
    else
      self.quo(x).floor * x
    end
  end

  def rounddown(d=0)
    x = 10**d
    if self &lt; 0
      self.quo(x).ceil * x
    else
      self.quo(x).floor * x
    end
  end

  def roundoff(d=0)
    x = 10**d
    if self &lt; 0
      (self.quo(x) - 0.5).ceil * x
    else
      (self.quo(x) + 0.5).floor * x
    end
  end
end
</pre>



<h2>目次</h2>
<dl>

<dt>インスタンスメソッド</dt>
<dd>

<a href="#I_--25">%</a>

<a href="#I_--25">modulo</a>

<a href="#I_--2B--40">+@</a>

<a href="#I_--2D--40">-@</a>

<a href="#I_--3C--3D--3E"><=></a>

<a href="#I_ABS">abs</a>

<a href="#I_ABS">magnitude</a>

<a href="#I_ABS2">abs2</a>

<a href="#I_ANGLE">angle</a>

<a href="#I_ANGLE">arg</a>

<a href="#I_ANGLE">phase</a>

<a href="#I_CEIL">ceil</a>

<a href="#I_COERCE">coerce</a>

<a href="#I_CONJ">conj</a>

<a href="#I_CONJ">conjugate</a>

<a href="#I_DENOMINATOR">denominator</a>

<a href="#I_DIV">div</a>

<a href="#I_DIVMOD">divmod</a>

<a href="#I_EQL--3F">eql?</a>

<a href="#I_FDIV">fdiv</a>

<a href="#I_FLOOR">floor</a>

<a href="#I_I">i</a>

<a href="#I_IMAG">imag</a>

<a href="#I_IMAG">imaginary</a>

<a href="#I_INTEGER--3F">integer?</a>

<a href="#I_NEGATIVE--3F">negative?</a>

<a href="#I_NONZERO--3F">nonzero?</a>

<a href="#I_NUMERATOR">numerator</a>

<a href="#I_POLAR">polar</a>

<a href="#I_POSITIVE--3F">positive?</a>

<a href="#I_QUO">quo</a>

<a href="#I_REAL">real</a>

<a href="#I_REAL--3F">real?</a>

<a href="#I_RECT">rect</a>

<a href="#I_RECT">rectangular</a>

<a href="#I_REMAINDER">remainder</a>

<a href="#I_ROUND">round</a>

<a href="#I_STEP">step</a>

<a href="#I_TO_C">to_c</a>

<a href="#I_TO_INT">to_int</a>

<a href="#I_TRUNCATE">truncate</a>

<a href="#I_ZERO--3F">zero?</a>

</dd>

</dl>


<h2>インスタンスメソッド</h2>
<dl>

<dt class="method-heading" id="I_--25"><code>modulo(other) -&gt; Numeric</code><span class="permalink">[<a href="../method/-numeric/i/=25.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-25">rdoc</a>]</span></dt>
<dt class="method-heading"><code>self % other -&gt; Numeric</code></dt>
<dd class="method-description">
<p>
self を other で割った余り r を返します。
</p>
<p>
ここで、商 q と余り r は、
</p>
<ul>
<li>self == other * q + r</li>
</ul>
<p>
と
</p>
<ul>
<li>other &gt; 0 のとき  0 &lt;= r &lt; other</li>
<li>other &lt; 0 のとき other &lt; r &lt;= 0</li>
<li>q は整数</li>
</ul>
<p>
をみたす数です。
余り r は、other と同じ符号になります。
商  q は、<a href="../method/-numeric/i/div.html">Numeric#div</a> (あるいは 「/」)で求められます。
modulo はメソッド % の呼び出しとして定義されています。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身を割る数を指定します。
</dd>
</dl>
<pre>
p 13.modulo(4)       #=&gt;  1
p (11.5).modulo(3.5) #=&gt; 1.0
p 13.modulo(-4)      #=&gt; -3
p (-13).modulo(4)    #=&gt;  3
p (-13).modulo(-4)   #=&gt; -1
p (-11).modulo(3.5)  #=&gt; 3.0
</pre>
<p>
[SEE_ALSO] <a href="../method/-numeric/i/divmod.html">Numeric#divmod</a>, <a href="../method/-numeric/i/remainder.html">Numeric#remainder</a>
</p>
</dd>


<dt class="method-heading" id="I_--2B--40"><code>+ self -&gt; self</code><span class="permalink">[<a href="../method/-numeric/i/=2b=40.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-2B-40">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
単項演算子の + です。
self を返します。
</p>
</dd>


<dt class="method-heading" id="I_--2D--40"><code>- self -&gt; Numeric</code><span class="permalink">[<a href="../method/-numeric/i/=2d=40.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-2D-40">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
単項演算子の - です。
self の符号を反転させたものを返します。
</p>
<p>
このメソッドは、二項演算子 - で 0 - self によって定義されています。
</p>
</dd>


<dt class="method-heading" id="I_--3C--3D--3E"><code>self &lt;=&gt; other -&gt; -1 | 0 | 1 | nil</code><span class="permalink">[<a href="../method/-numeric/i/=3c=3d=3e.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-3C-3D-3E">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身が other より大きい場合に 1 を、等しい場合に 0 を、小さい場合には -1 をそれぞれ返します。
自身と other が比較できない場合には nil を返します。
</p>
<p>
Numeric のサブクラスは、上の動作を満たすよう このメソッドを適切に再定義しなければなりません。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身と比較したい数値を指定します。
</dd>
</dl>
<pre>
1 &lt;=&gt; 0   #=&gt; 1
1 &lt;=&gt; 1   #=&gt; 0
1 &lt;=&gt; 2   #=&gt; -1
1 &lt;=&gt; &quot;0&quot; #=&gt; nil
</pre>
</dd>


<dt class="method-heading" id="I_ABS"><code>abs -&gt; Numeric</code><span class="permalink">[<a href="../method/-numeric/i/abs.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-abs">rdoc</a>]</span></dt>
<dt class="method-heading"><code>magnitude -&gt; Numeric</code></dt>
<dd class="method-description">
<p>
自身が 0 以上ならば self を、そうでない場合は -self を返します。
</p>
</dd>


<dt class="method-heading" id="I_ABS2"><code>abs2 -&gt; Numeric</code><span class="permalink">[<a href="../method/-numeric/i/abs2.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-abs2">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身の絶対値の 2 乗を返します。
</p>
<p>
例:
</p>
<pre>
2.abs2    # =&gt; 4
-2.abs2   # =&gt; 4
2.0.abs2  # =&gt; 4
-2.0.abs2 # =&gt; 4
</pre>
<p>
Numeric のサブクラスは、このメソッドを適切に再定義しなければなりません。
</p>
</dd>


<dt class="method-heading" id="I_ANGLE"><code>arg -&gt; 0 | Math::PI</code><span class="permalink">[<a href="../method/-numeric/i/angle.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-angle">rdoc</a>]</span></dt>
<dt class="method-heading"><code>angle -&gt; 0 | Math::PI</code></dt>
<dt class="method-heading"><code>phase -&gt; 0 | Math::PI</code></dt>
<dd class="method-description">
<p>
自身の偏角(正の数なら 0、負の数なら <a href="../method/-math/c/-p-i.html">Math::PI</a>)を返します。
</p>
<p>
例:
</p>
<pre>
1.arg  # =&gt; 0
-1.arg # =&gt; 3.141592653589793
</pre>
<p>
Numeric のサブクラスは、このメソッドを適切に再定義しなければなりません。
</p>
<p>
[SEE_ALSO] <a href="../method/-complex/i/arg.html">Complex#arg</a>
</p>
</dd>


<dt class="method-heading" id="I_CEIL"><code>ceil -&gt; Integer</code><span class="permalink">[<a href="../method/-numeric/i/ceil.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-ceil">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身と等しいかより大きな整数のうち最小のものを返します。
</p>
<pre>
1.ceil        #=&gt; 1
1.2.ceil      #=&gt; 2
(-1.2).ceil   #=&gt; -1
(-1.5).ceil   #=&gt; -1
</pre>
<p>
[SEE_ALSO] <a href="../method/-numeric/i/floor.html">Numeric#floor</a>, <a href="../method/-numeric/i/round.html">Numeric#round</a>, <a href="../method/-numeric/i/truncate.html">Numeric#truncate</a>
</p>
</dd>


<dt class="method-heading" id="I_COERCE"><code>coerce(other) -&gt; [Numeric]</code><span class="permalink">[<a href="../method/-numeric/i/coerce.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-coerce">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身と other が同じクラスになるよう、自身か other を変換し [other, self] という配列にして返します。
</p>
<p>
デフォルトでは self と other を <a href="../class/-float.html">Float</a> に変換して [other, self] という配列にして返します。
Numeric のサブクラスは、このメソッドを適切に再定義しなければなりません。
以下は <a href="../class/-rational.html">Rational</a> の coerce のソースです。other が自身の知らない数値クラスであった場合、
super を呼んでいることに注意して下さい。
</p>
<pre>
# lib/rational.rb より

def coerce(other)
  if other.kind_of?(Float)
    return other, self.to_f
  elsif other.kind_of?(Integer)
    return Rational.new!(other, 1), self
  else
    super
  end
end
</pre>
<p>
数値クラスの算術演算子は通常自分と演算できないクラスをオペランドとして受け
取ると coerce を使って自分とオペランドを変換した上で演算を行います。
以下は <a href="../class/-rational.html">Rational</a> の + メソッドを一部省略したものです。
引数が自身の知らない数値クラスである場合、引数の coerce により自身を変換してから
+ 演算子を呼んでいます。
</p>
<pre>
# lib/rational.rb より

def + (a)
  if a.kind_of?(Rational)
    # 長いので省略
  elsif a.kind_of?(Integer)
    # 長いので省略
  elsif a.kind_of?(Float)
    Float(self) + a
  else
    x, y = a.coerce(self)
    x + y
  end
end
</pre>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
オペランドを数値で指定します。
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_CONJ"><code>conj -&gt; Numeric</code><span class="permalink">[<a href="../method/-numeric/i/conj.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-conj">rdoc</a>]</span></dt>
<dt class="method-heading"><code>conjugate -&gt; Numeric</code></dt>
<dd class="method-description">
<p>
自身の共役複素数(実数の場合は常に自身)を返します。
</p>
<p>
Numeric のサブクラスは、このメソッドを適切に再定義しなければなりません。
</p>
<p>
[SEE_ALSO] <a href="../method/-complex/i/conj.html">Complex#conj</a>
</p>
</dd>


<dt class="method-heading" id="I_DENOMINATOR"><code>denominator -&gt; Integer</code><span class="permalink">[<a href="../method/-numeric/i/denominator.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-denominator">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身を <a href="../class/-rational.html">Rational</a> に変換した時の分母を返します。
</p>
<dl>
<dt>[RETURN]</dt>
<dd>
分母を返します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-numeric/i/numerator.html">Numeric#numerator</a>
</p>
</dd>


<dt class="method-heading" id="I_DIV"><code>div(other) -&gt; Integer</code><span class="permalink">[<a href="../method/-numeric/i/div.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-div">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self を other で割った整数の商 q を返します。
</p>
<p>
ここで、商 q と余り r は、それぞれ
</p>
<ul>
<li>self == other * q + r</li>
</ul>
<p>
と
</p>
<ul>
<li>other &gt; 0 のとき:  0     &lt;= r &lt; other</li>
<li>other &lt; 0 のとき:  other &lt;  r &lt;= 0</li>
<li>q は整数</li>
</ul>
<p>
をみたす数です。
商に対応する余りは <a href="../method/-numeric/i/modulo.html">Numeric#modulo</a> で求められます。
div はメソッド / を呼びだし、floorを取ることで計算されます。
</p>
<p>
メソッド / の定義はサブクラスごとの定義を用います。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身を割る数を指定します。
</dd>
</dl>
<pre>
p 3.div(2) # =&gt; 1
p (-3).div(2) # =&gt; -2
p (-3.0).div(2) # =&gt; -2
</pre>
</dd>


<dt class="method-heading" id="I_DIVMOD"><code>divmod(other) -&gt; [Numeric]</code><span class="permalink">[<a href="../method/-numeric/i/divmod.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-divmod">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self を other で割った商 q と余り r を、
[q, r] という 2 要素の配列にして返します。
商 q は常に整数ですが、余り r は整数であるとは限りません。
</p>
<p>
ここで、商 q と余り r は、
</p>
<ul>
<li>self == other * q + r</li>
</ul>
<p>
と
</p>
<ul>
<li>other &gt; 0 のとき:  0     &lt;= r &lt; other</li>
<li>other &lt; 0 のとき:  other &lt;  r &lt;= 0</li>
<li>q は整数</li>
</ul>
<p>
をみたす数です。
divmod が返す商は <a href="../method/-numeric/i/div.html">Numeric#div</a> と同じです。
また余りは、<a href="../method/-numeric/i/modulo.html">Numeric#modulo</a> と同じです。
このメソッドは、メソッド / と % によって定義されています。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身を割る数を指定します。
</dd>
</dl>
<pre>
11.divmod(3)         #=&gt; [3, 2]
(11.5).divmod(3.5)   #=&gt; [3, 1.0]
11.divmod(-3)        #=&gt; [-4, -1]
11.divmod(3.5)       #=&gt; [3, 0.5]
(-11).divmod(3.5)    #=&gt; [-4, 3.0]
</pre>
<p>
[SEE_ALSO] <a href="../method/-numeric/i/div.html">Numeric#div</a>, <a href="../method/-numeric/i/modulo.html">Numeric#modulo</a>
</p>
</dd>


<dt class="method-heading" id="I_EQL--3F"><code>eql?(other) -&gt; bool</code><span class="permalink">[<a href="../method/-numeric/i/eql=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-eql-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身と other のクラスが等しくかつ == メソッドで比較して等しい場合に true を返します。
そうでない場合に false を返します。
</p>
<p>
Numeric のサブクラスは、eql? で比較して等しい数値同士が同じハッシュ値を返すように
hash メソッドを適切に定義する必要があります。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身と比較したい数値を指定します。
</dd>
</dl>
<pre>
p 1.eql?(1)    #=&gt; true
p 1.eql?(1.0)  #=&gt; false
p 1 == 1.0     #=&gt; true
</pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/equal=3f.html">Object#equal?</a>, <a href="../method/-object/i/eql=3f.html">Object#eql?</a>, <a href="../method/-object/i/=3d=3d.html">Object#==</a>, <a href="../method/-object/i/=3d=3d=3d.html">Object#===</a>
</p>
</dd>


<dt class="method-heading" id="I_FDIV"><code>fdiv(other) -&gt; Float | Complex</code><span class="permalink">[<a href="../method/-numeric/i/fdiv.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-fdiv">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self を other で割った商を <a href="../class/-float.html">Float</a> で返します。
ただし <a href="../class/-complex.html">Complex</a> が関わる場合は例外です。
その場合も成分は Float になります。
</p>
<p>
Numeric のサブクラスは、このメソッドを適切に再定義しなければなりません。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身を割る数を指定します。
</dd>
</dl>
<pre>
1.fdiv(3)            #=&gt; 0.3333333333333333
Complex(1, 1).fdiv 1 #=&gt; (1.0+1.0i)
1.fdiv Complex(1, 1) #=&gt; (0.5-0.5i)
</pre>
<p>
[SEE_ALSO] <a href="../method/-numeric/i/quo.html">Numeric#quo</a>
</p>
</dd>


<dt class="method-heading" id="I_FLOOR"><code>floor -&gt; Integer</code><span class="permalink">[<a href="../method/-numeric/i/floor.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-floor">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身と等しいかより小さな整数のうち最大のものを返します。
</p>
<pre>
1.floor        #=&gt; 1
1.2.floor      #=&gt; 1
(-1.2).floor   #=&gt; -2
(-1.5).floor   #=&gt; -2
</pre>
<p>
[SEE_ALSO] <a href="../method/-numeric/i/ceil.html">Numeric#ceil</a>, <a href="../method/-numeric/i/round.html">Numeric#round</a>, <a href="../method/-numeric/i/truncate.html">Numeric#truncate</a>
</p>
</dd>


<dt class="method-heading" id="I_I"><code>i -&gt; Complex</code><span class="permalink">[<a href="../method/-numeric/i/i.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-i">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
Complex(0, self) を返します。
</p>
<p>
ただし、<a href="../class/-complex.html">Complex</a> オブジェクトでは利用できません。
</p>
<p>
例:
</p>
<pre>
10.i             # =&gt; (0+10i)
-10.i            # =&gt; (0-10i)
(0.1).i          # =&gt; (0+0.1i)
Rational(1, 2).i # =&gt; (0+(1/2)*i)
</pre>
</dd>


<dt class="method-heading" id="I_IMAG"><code>imag -&gt; 0</code><span class="permalink">[<a href="../method/-numeric/i/imag.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-imag">rdoc</a>]</span></dt>
<dt class="method-heading"><code>imaginary -&gt; 0</code></dt>
<dd class="method-description">
<p>
常に 0 を返します。
</p>
<p>
Numeric のサブクラスは、このメソッドを適切に再定義しなければなりません。
</p>
<p>
[SEE_ALSO] <a href="../method/-numeric/i/real.html">Numeric#real</a>、<a href="../method/-complex/i/imag.html">Complex#imag</a>
</p>
</dd>


<dt class="method-heading" id="I_INTEGER--3F"><code>integer? -&gt; bool</code><span class="permalink">[<a href="../method/-numeric/i/integer=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-integer-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self が整数の時、真を返します。そうでない場合に false を返します。
</p>
<p>
Numeric のサブクラスは、このメソッドを適切に再定義しなければなりません。
</p>
</dd>


<dt class="method-heading" id="I_NEGATIVE--3F"><code>negative? -&gt; bool</code><span class="permalink">[<a href="../method/-numeric/i/negative=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-negative-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self が 0 未満の場合に true を返します。そうでない場合に false を返します。
</p>
<p>
[SEE_ALSO] <a href="../method/-numeric/i/positive=3f.html">Numeric#positive?</a>
</p>
</dd>


<dt class="method-heading" id="I_NONZERO--3F"><code>nonzero? -&gt; self | nil</code><span class="permalink">[<a href="../method/-numeric/i/nonzero=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-nonzero-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身がゼロの時 nil を返し、非ゼロの時 self を返します。
</p>
<pre>
p 10.nonzero?              #=&gt; 10
p 0.nonzero?               #=&gt; nil
p 0.0.nonzero?             #=&gt; nil

require 'rational'
p Rational(0, 2).nonzero?  #=&gt; nil
</pre>
<p>
非ゼロの時に self を返すため、自身が 0 の時に他の処理をさせたい場合に以
下のように記述する事もできます。
</p>
<pre>
a = %w( z Bb bB bb BB a aA Aa AA A )
b = a.sort {|a,b| (a.downcase &lt;=&gt; b.downcase).nonzero? || a &lt;=&gt; b }
b   #=&gt; [&quot;A&quot;, &quot;a&quot;, &quot;AA&quot;, &quot;Aa&quot;, &quot;aA&quot;, &quot;BB&quot;, &quot;Bb&quot;, &quot;bB&quot;, &quot;bb&quot;, &quot;z&quot;]
</pre>
<p>
[SEE_ALSO] <a href="../method/-numeric/i/zero=3f.html">Numeric#zero?</a>
</p>
</dd>


<dt class="method-heading" id="I_NUMERATOR"><code>numerator -&gt; Integer</code><span class="permalink">[<a href="../method/-numeric/i/numerator.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-numerator">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身を <a href="../class/-rational.html">Rational</a> に変換した時の分子を返します。
</p>
<dl>
<dt>[RETURN]</dt>
<dd>
分子を返します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-numeric/i/denominator.html">Numeric#denominator</a>
</p>
</dd>


<dt class="method-heading" id="I_POLAR"><code>polar -&gt; [Numeric, Numeric]</code><span class="permalink">[<a href="../method/-numeric/i/polar.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-polar">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身の絶対値と偏角を配列にして返します。正の数なら [self, 0]、負の数な
ら [-self, <a href="../method/-math/c/-p-i.html">Math::PI</a>] を返します。
</p>
<p>
例:
</p>
<pre>
1.0.polar  # =&gt; [1.0, 0]
2.0.polar  # =&gt; [2.0, 0]
-1.0.polar # =&gt; [1.0, 3.141592653589793]
-2.0.polar # =&gt; [2.0, 3.141592653589793]
</pre>
<p>
Numeric のサブクラスは、このメソッドを適切に再定義しなければなりません。
</p>
<p>
[SEE_ALSO] <a href="../method/-complex/i/polar.html">Complex#polar</a>
</p>
</dd>


<dt class="method-heading" id="I_POSITIVE--3F"><code>positive? -&gt; bool</code><span class="permalink">[<a href="../method/-numeric/i/positive=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-positive-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self が 0 より大きい場合に true を返します。そうでない場合に false を返します。
</p>
<p>
[SEE_ALSO] <a href="../method/-numeric/i/negative=3f.html">Numeric#negative?</a>
</p>
</dd>


<dt class="method-heading" id="I_QUO"><code>quo(other) -&gt; Rational | Float | Complex</code><span class="permalink">[<a href="../method/-numeric/i/quo.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-quo">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self を other で割った商を返します。
整商を得たい場合は <a href="../method/-numeric/i/div.html">Numeric#div</a> を使ってください。
</p>
<p>
<a href="../method/-numeric/i/fdiv.html">Numeric#fdiv</a> が結果を <a href="../class/-float.html">Float</a> で返すメソッドなのに対して quo はなるべく正確な数値を返すことを意図しています。
具体的には有理数の範囲に収まる計算では <a href="../class/-rational.html">Rational</a> の値を返します。
<a href="../class/-float.html">Float</a> や <a href="../class/-complex.html">Complex</a> が関わるときはそれらのクラスになります。
</p>
<p>
Numeric のサブクラスは、このメソッドを適切に再定義しなければなりません。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身を割る数を指定します。
</dd>
</dl>
<pre>
1.quo(3)      #=&gt; (1/3)
1.0.quo(3)    #=&gt; 0.3333333333333333
1.quo(3.0)    #=&gt; 0.3333333333333333
1.quo(0.5)    #=&gt; 2.0

Complex(1, 1).quo(1)  #=&gt; ((1/1)+(1/1)*i)
1.quo(Complex(1, 1))  #=&gt; ((1/2)-(1/2)*i)
</pre>
<p>
[SEE_ALSO] <a href="../method/-numeric/i/fdiv.html">Numeric#fdiv</a>
</p>
</dd>


<dt class="method-heading" id="I_REAL"><code>real -&gt; Numeric</code><span class="permalink">[<a href="../method/-numeric/i/real.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-real">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身を返します。
</p>
<p>
Numeric のサブクラスは、このメソッドを適切に再定義しなければなりません。
</p>
<p>
[SEE_ALSO] <a href="../method/-numeric/i/imag.html">Numeric#imag</a>、<a href="../method/-complex/i/real.html">Complex#real</a>
</p>
</dd>


<dt class="method-heading" id="I_REAL--3F"><code>real? -&gt; bool</code><span class="permalink">[<a href="../method/-numeric/i/real=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-real-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身が <a href="../class/-complex.html">Complex</a> かそのサブクラスのインスタンスでない場合に
true を返します。そうでない場合に false を返します。
</p>
<p>
Numeric のサブクラスは、このメソッドを適切に再定義しなければなりません。
</p>
</dd>


<dt class="method-heading" id="I_RECT"><code>rect -&gt; [Numeric, Numeric]</code><span class="permalink">[<a href="../method/-numeric/i/rect.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-rect">rdoc</a>]</span></dt>
<dt class="method-heading"><code>rectangular -&gt; [Numeric, Numeric]</code></dt>
<dd class="method-description">
<p>
[self, 0] を返します。
</p>
<p>
例:
</p>
<pre>
1.rect    # =&gt; [1, 0]
-1.rect   # =&gt; [-1, 0]
1.0.rect  # =&gt; [1.0, 0]
-1.0.rect # =&gt; [-1.0, 0]
</pre>
<p>
Numeric のサブクラスは、このメソッドを適切に再定義しなければなりません。
</p>
<p>
[SEE_ALSO] <a href="../method/-complex/i/rect.html">Complex#rect</a>
</p>
</dd>


<dt class="method-heading" id="I_REMAINDER"><code>remainder(other) -&gt; Numeric</code><span class="permalink">[<a href="../method/-numeric/i/remainder.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-remainder">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self を other で割った余り r を返します。
</p>
<p>
ここで、商 q と余り r は、
</p>
<ul>
<li>self == other * q + r</li>
</ul>
<p>
と
</p>
<ul>
<li>self &gt; 0 のとき  0 &lt;= r &lt; |other|</li>
<li>self &lt; 0 のとき -|other| &lt; r &lt;= 0</li>
<li>q は整数</li>
</ul>
<p>
をみたす数です。r の符号は self と同じになります。
商 q を直接返すメソッドはありません。self.quo(other).truncate がそれに相当します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身を割る数を指定します。
</dd>
</dl>
<pre>
p 13.remainder(4)       #=&gt;  1
p (11.5).remainder(3.5) #=&gt; 1.0
p 13.remainder(-4)      #=&gt;  1
p (-13).remainder(4)    #=&gt; -1
p (-13).remainder(-4)   #=&gt; -1
p (-11).remainder(3.5)  #=&gt; -0.5
</pre>
<p>
[SEE_ALSO] <a href="../method/-numeric/i/divmod.html">Numeric#divmod</a>, <a href="../method/-numeric/i/modulo.html">Numeric#modulo</a>
</p>
</dd>


<dt class="method-heading" id="I_ROUND"><code>round -&gt; Integer</code><span class="permalink">[<a href="../method/-numeric/i/round.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-round">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身ともっとも近い整数を返します。
</p>
<p>
中央値 0.5, -0.5 はそれぞれ 1,-1 に切り上げされます。いわゆる四捨五入ですが、偶数丸めではありません。
</p>
<pre>
1.round        #=&gt; 1
1.2.round      #=&gt; 1
(-1.2).round   #=&gt; -1
(-1.5).round   #=&gt; -2
</pre>
<p>
[SEE_ALSO] <a href="../method/-numeric/i/ceil.html">Numeric#ceil</a>, <a href="../method/-numeric/i/floor.html">Numeric#floor</a>, <a href="../method/-numeric/i/truncate.html">Numeric#truncate</a>
</p>
</dd>


<dt class="method-heading" id="I_STEP"><code>step(limit, step = 1) {|n| ... } -&gt; self</code><span class="permalink">[<a href="../method/-numeric/i/step.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-step">rdoc</a>]</span></dt>
<dt class="method-heading"><code>step(limit, step = 1) -&gt; Enumerator</code></dt>
<dt class="method-heading"><code>step(by: step, to: limit) {|n| ... } -&gt; self</code></dt>
<dt class="method-heading"><code>step(by: step, to: limit) -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
self からはじめ step を足しながら limit を越える
前までブロックを繰り返します。step は負の数も指定できます。また、limit や step には <a href="../class/-float.html">Float</a> なども
指定できます。
</p>
<dl>
<dt class='method-param'>[PARAM] limit:</dt>
<dd>
ループの上限あるいは下限を数値で指定します。step に負の数が指定された場合は、
下限として解釈されます。
</dd>
<dt class='method-param'>[PARAM] step:</dt>
<dd>
各ステップの大きさを数値で指定します。負の数を指定することもできます。
</dd>
<dt>[EXCEPTION] ArgumentError:</dt>
<dd>
step に 0 を指定した場合に発生します。
</dd>
</dl>
<pre>
2.step(5){|n| p n}
2
3
4
5

1.1.step(1.5, 0.1) {|n| p n}
1.1
1.2
1.3
1.4
1.5

10.step(6, -1){|n| p n}
10
9
8
7
6

3.step(by:2, to:10){|n| p n}
3
5
7
9
</pre>
<p>
注：浮動小数点数の 0.1 は 2進数では正確な表現ができない(2進数で
0.1は 0.00011001100....となる)ので、以下のようなループでは誤差が
生じて意図した回数ループしないことがある。step はこの誤差を考慮し
て実装されている。
</p>
<pre>
i = 1.1
while i &lt;= 1.5
  p i
  i += 0.1
end
=&gt; 1.1
   1.2
   1.3
   1.4   &lt;- 1.5 が表示されない
</pre>
<p>
[SEE_ALSO] <a href="../method/-integer/i/downto.html">Integer#downto</a>
</p>
</dd>


<dt class="method-heading" id="I_TO_C"><code>to_c -&gt; Complex</code><span class="permalink">[<a href="../method/-numeric/i/to_c.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-to_c">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身を複素数 (<a href="../class/-complex.html">Complex</a>) に変換します。Complex(self, 0) を返します。
</p>
<p>
例:
</p>
<pre>
1.to_c              # =&gt; (1+0i)
-1.to_c             # =&gt; (-1+0i)
1.0.to_c            # =&gt; (1.0+0i)
Rational(1, 2).to_c # =&gt; ((1/2)+0i)
</pre>
<p>
Numeric のサブクラスは、このメソッドを適切に再定義しなければなりません。
</p>
</dd>


<dt class="method-heading" id="I_TO_INT"><code>to_int -&gt; Integer</code><span class="permalink">[<a href="../method/-numeric/i/to_int.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-to_int">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self.to_i と同じです。
</p>
</dd>


<dt class="method-heading" id="I_TRUNCATE"><code>truncate -&gt; Integer</code><span class="permalink">[<a href="../method/-numeric/i/truncate.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-truncate">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
0 から 自身までの整数で、自身にもっとも近い整数を返します。
</p>
<pre>
1.truncate        #=&gt; 1
1.2.truncate      #=&gt; 1
(-1.2).truncate   #=&gt; -1
(-1.5).truncate   #=&gt; -1
</pre>
<p>
[SEE_ALSO] <a href="../method/-numeric/i/ceil.html">Numeric#ceil</a>, <a href="../method/-numeric/i/floor.html">Numeric#floor</a>, <a href="../method/-numeric/i/round.html">Numeric#round</a>
</p>
</dd>


<dt class="method-heading" id="I_ZERO--3F"><code>zero? -&gt; bool</code><span class="permalink">[<a href="../method/-numeric/i/zero=3f.html">permalink</a>][<a href="http://docs.ruby-lang.org/en/2.3.0/Numeric.html#method-i-zero-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身がゼロの時、trueを返します。そうでない場合は false を返します。
</p>
<pre>
p 10.zero?              #=&gt; false
p 0.zero?               #=&gt; true
p 0.0.zero?             #=&gt; true
</pre>
<p>
[SEE_ALSO] <a href="../method/-numeric/i/nonzero=3f.html">Numeric#nonzero?</a>
</p>
</dd>


</dl>



<div id="footer">
  <a rel="license" href="https://creativecommons.org/licenses/by/3.0/">
    <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/3.0/88x31.png" />
  </a>
</div>
</body>
</html>
