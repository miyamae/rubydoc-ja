<!DOCTYPE html>
<html lang="ja-JP">
<head>

<meta name="robots" content="noindex">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../style.css">
<link rel="stylesheet" href="../syntax-highlight.css">
<link rel="icon" type="image/png" href="../rurema.png">

<title>class OpenSSL::SSL::SSLContext (Ruby 2.7.6 リファレンスマニュアル)</title>
<meta name="description" content="SSL コンテキストクラス。">
<script src="../script.js"></script>
</head>
<body>


<header>
  <nav>
    <ol class="inline-breadcrumb-list">
      <li>
        <a href="../doc/index.html">Ruby 2.7.6 リファレンスマニュアル</a>
      </li>
      <li>
        <a href="../library/index.html">ライブラリ一覧</a>
      </li>
      <li>
        <a href="../library/openssl.html">opensslライブラリ</a>
      </li>
      <li>
        OpenSSL::SSL::SSLContextクラス
      </li>
    </ol>
  </nav>

<h1>class OpenSSL::SSL::SSLContext</h1>
</header>

<main>



  <nav>
    クラス・モジュールの継承リスト:
    <ol class="inline-ancestors-list">
      
        <li>
          <a href="../class/-basic-object.html">BasicObject</a>
        </li>
        
      
        <li>
          <a href="../class/-kernel.html">Kernel</a>
        </li>
        
      
        <li>
          <a href="../class/-object.html">Object</a>
        </li>
        
      
      <li>
        OpenSSL::SSL::SSLContext
      </li>
    </ol>
  </nav>











<h2>要約</h2>
<p>
SSL コンテキストクラス。
</p>
<p>
SSL コネクション(<a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-socket.html">OpenSSL::SSL::SSLSocket</a> や <a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-server.html">OpenSSL::SSL::SSLServer</a>)
オブジェクトを生成するためのファクトリクラスです。コネクションを生成するために必要なパラメータ(プロトコルのバージョン、証明書の情報、認証の要件など)を保持します。
</p>
<p>
コネクションを1度生成して以降は、コンテキストが保持しているパラメータを変更できません。一部のパラメータが共有されるため、安全性のため
<a href="../method/-object/i/freeze.html">Object#freeze</a> によってオブジェクトを変更不可能にします。ただしこの凍結は完全ではなく、この後もセッション管理機能によってオブジェクトのキャッシュ領域にセッションを追加したり削除したりできます。
</p>
<h2 >Constants</h2>
<p>
verify_mode= と options= で指定できる定数に関しては <a href="../class/-open-s-s-l=3a=3a-s-s-l.html">OpenSSL::SSL</a> を参照してください。
</p>



<h2>目次</h2>
<dl>

<dt>特異メソッド</dt>
<dd>
<ul class="class-toc">

<li><a href="#S_NEW">new</a></li>

</ul>
</dd>

<dt>インスタンスメソッド</dt>
<dd>
<ul class="class-toc">

<li><a href="#I_CA_FILE">ca_file</a></li>

<li><a href="#I_CA_FILE--3D">ca_file=</a></li>

<li><a href="#I_CA_PATH">ca_path</a></li>

<li><a href="#I_CA_PATH--3D">ca_path=</a></li>

<li><a href="#I_CERT">cert</a></li>

<li><a href="#I_CERT--3D">cert=</a></li>

<li><a href="#I_CERT_STORE">cert_store</a></li>

<li><a href="#I_CERT_STORE--3D">cert_store=</a></li>

<li><a href="#I_CIPHERS">ciphers</a></li>

<li><a href="#I_CIPHERS--3D">ciphers=</a></li>

<li><a href="#I_CLIENT_CA">client_ca</a></li>

<li><a href="#I_CLIENT_CA--3D">client_ca=</a></li>

<li><a href="#I_CLIENT_CERT_CB">client_cert_cb</a></li>

<li><a href="#I_CLIENT_CERT_CB--3D">client_cert_cb=</a></li>

<li><a href="#I_EXTRA_CHAIN_CERT">extra_chain_cert</a></li>

<li><a href="#I_EXTRA_CHAIN_CERT--3D">extra_chain_cert=</a></li>

<li><a href="#I_FLUSH_SESSIONS">flush_sessions</a></li>

<li><a href="#I_KEY">key</a></li>

<li><a href="#I_KEY--3D">key=</a></li>

<li><a href="#I_OPTIONS">options</a></li>

<li><a href="#I_OPTIONS--3D">options=</a></li>

<li><a href="#I_RENEGOTIATION_CB">renegotiation_cb</a></li>

<li><a href="#I_RENEGOTIATION_CB--3D">renegotiation_cb=</a></li>

<li><a href="#I_SERVERNAME_CB">servername_cb</a></li>

<li><a href="#I_SERVERNAME_CB--3D">servername_cb=</a></li>

<li><a href="#I_SESSION_ADD">session_add</a></li>

<li><a href="#I_SESSION_CACHE_MODE">session_cache_mode</a></li>

<li><a href="#I_SESSION_CACHE_MODE--3D">session_cache_mode=</a></li>

<li><a href="#I_SESSION_CACHE_SIZE">session_cache_size</a></li>

<li><a href="#I_SESSION_CACHE_SIZE--3D">session_cache_size=</a></li>

<li><a href="#I_SESSION_CACHE_STATS">session_cache_stats</a></li>

<li><a href="#I_SESSION_GET_CB">session_get_cb</a></li>

<li><a href="#I_SESSION_GET_CB--3D">session_get_cb=</a></li>

<li><a href="#I_SESSION_ID_CONTEXT">session_id_context</a></li>

<li><a href="#I_SESSION_ID_CONTEXT--3D">session_id_context=</a></li>

<li><a href="#I_SESSION_NEW_CB">session_new_cb</a></li>

<li><a href="#I_SESSION_NEW_CB--3D">session_new_cb=</a></li>

<li><a href="#I_SESSION_REMOVE">session_remove</a></li>

<li><a href="#I_SESSION_REMOVE_CB">session_remove_cb</a></li>

<li><a href="#I_SESSION_REMOVE_CB--3D">session_remove_cb=</a></li>

<li><a href="#I_SET_PARAMS">set_params</a></li>

<li><a href="#I_SSL_TIMEOUT">ssl_timeout</a></li>

<li><a href="#I_SSL_TIMEOUT--3D">ssl_timeout=</a></li>

<li><a href="#I_SSL_VERSION--3D">ssl_version=</a></li>

<li><a href="#I_SSL_TIMEOUT">timeout</a></li>

<li><a href="#I_SSL_TIMEOUT--3D">timeout=</a></li>

<li><a href="#I_TMP_DH_CALLBACK">tmp_dh_callback</a></li>

<li><a href="#I_TMP_DH_CALLBACK--3D">tmp_dh_callback=</a></li>

<li><a href="#I_VERIFY_CALLBACK">verify_callback</a></li>

<li><a href="#I_VERIFY_CALLBACK--3D">verify_callback=</a></li>

<li><a href="#I_VERIFY_DEPTH">verify_depth</a></li>

<li><a href="#I_VERIFY_DEPTH--3D">verify_depth=</a></li>

<li><a href="#I_VERIFY_MODE">verify_mode</a></li>

<li><a href="#I_VERIFY_MODE--3D">verify_mode=</a></li>

</ul>
</dd>

<dt>定数</dt>
<dd>
<ul class="class-toc">

<li><a href="#C_-D-E-F-A-U-L-T_-C-E-R-T_-S-T-O-R-E">DEFAULT_CERT_STORE</a></li>

<li><a href="#C_-D-E-F-A-U-L-T_-P-A-R-A-M-S">DEFAULT_PARAMS</a></li>

<li><a href="#C_-M-E-T-H-O-D-S">METHODS</a></li>

<li><a href="#C_-S-E-S-S-I-O-N_-C-A-C-H-E_-B-O-T-H">SESSION_CACHE_BOTH</a></li>

<li><a href="#C_-S-E-S-S-I-O-N_-C-A-C-H-E_-C-L-I-E-N-T">SESSION_CACHE_CLIENT</a></li>

<li><a href="#C_-S-E-S-S-I-O-N_-C-A-C-H-E_-N-O_-A-U-T-O_-C-L-E-A-R">SESSION_CACHE_NO_AUTO_CLEAR</a></li>

<li><a href="#C_-S-E-S-S-I-O-N_-C-A-C-H-E_-N-O_-I-N-T-E-R-N-A-L">SESSION_CACHE_NO_INTERNAL</a></li>

<li><a href="#C_-S-E-S-S-I-O-N_-C-A-C-H-E_-N-O_-I-N-T-E-R-N-A-L_-L-O-O-K-U-P">SESSION_CACHE_NO_INTERNAL_LOOKUP</a></li>

<li><a href="#C_-S-E-S-S-I-O-N_-C-A-C-H-E_-N-O_-I-N-T-E-R-N-A-L_-S-T-O-R-E">SESSION_CACHE_NO_INTERNAL_STORE</a></li>

<li><a href="#C_-S-E-S-S-I-O-N_-C-A-C-H-E_-O-F-F">SESSION_CACHE_OFF</a></li>

<li><a href="#C_-S-E-S-S-I-O-N_-C-A-C-H-E_-S-E-R-V-E-R">SESSION_CACHE_SERVER</a></li>

</ul>
</dd>

</dl>




</dl>


<h2>特異メソッド</h2>
<dl>

<dt class="method-heading" id="S_NEW"><code>new(ssl_method) -&gt; OpenSSL::SSL::SSLContext</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/s/new.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-c-new">rdoc</a>]</span></dt>
<dt class="method-heading"><code>new -&gt; OpenSSL::SSL::SSLContext</code></dt>
<dd class="method-description">
<p>
SSL コンテキストオブジェクトを生成します。
</p>
<p>
ssl_method で利用するプロトコルの種類を文字列もしくはシンボルで指定します。以下のいずれかが利用可能です。
</p>
<ul>
<li>'TLSv1'         TLSv1サーバクライアント両用</li>
<li>'TLSv1_server'  TLSv1サーバ用</li>
<li>'TLSv1_client'  TLSv1クライアント用</li>
<li>'TLSv1_1'</li>
<li>'TLSv1_1_server'</li>
<li>'TLSv1_1_client'</li>
<li>'TLSv1_2'</li>
<li>'TLSv1_2_server'</li>
<li>'TLSv1_2_client'</li>
<li>'SSLv2'         SSLv2サーバクライアント両用</li>
<li>'SSLv2_server'  SSLv2サーバ用</li>
<li>'SSLv2_client'  SSLv2クライアント用</li>
<li>'SSLv3'         SSLv3サーバクライアント両用</li>
<li>'SSLv3_server'  SSLv3サーバ用</li>
<li>'SSLv3_client'  SSLv3クライアント用</li>
<li>'SSLv23'        SSLv2,3/TLSv1サーバクライアント両用</li>
<li>'SSLv23_server' SSLv2,3/TLSv1サーバ用</li>
<li>'SSLv23_client' SSLv2,3/TLSv1クライアント用</li>
</ul>
<p>
SSLv2 はプロトコル上の脆弱性が明らかにされているため使うべきではありません。
</p>
<p>
SSLv2 は無効化して SSLv3 と TLSv1 の両方を有効化するためには
'SSLv23' を指定し、<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/options=3d.html">OpenSSL::SSL::SSLContext#options=</a> で
<a href="../method/-open-s-s-l=3a=3a-s-s-l/c/-o-p_-n-o_-s-s-lv2.html">OpenSSL::SSL::OP_NO_SSLv2</a> を指定します。
</p>
<dl>
<dt class='method-param'>[PARAM] ssl_method:</dt>
<dd>
プロトコルを表す文字列もしくはシンボル
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/ssl_version=3d.html">OpenSSL::SSL::SSLContext#ssl_version=</a>
</p>
</dd>


</dl>

<h2>インスタンスメソッド</h2>
<dl>

<dt class="method-heading" id="I_CA_FILE"><code>ca_file -&gt; String | nil</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/ca_file.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-ca_file">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
接続相手の検証のために使う、信頼している CA 証明書ファイルのパスを返します。
</p>
<p>
設定されていない場合は nil を返します。
</p>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/ca_file=3d.html">OpenSSL::SSL::SSLContext#ca_file=</a>
</p>
</dd>


<dt class="method-heading" id="I_CA_FILE--3D"><code>ca_file=(ca)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/ca_file=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-ca_file-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
接続相手の検証のために使う、信頼している CA 証明書ファイルのパスを設定します。
</p>
<p>
ファイルは以下のように複数の証明書を含んでいても構いません。
</p>
<pre>
(ここに証明書の説明)

-----BEGIN CERTIFICATE-----
... (CA certificate in base64 encoding) ...
-----END CERTIFICATE-----

(ここに証明書の説明)

-----BEGIN CERTIFICATE-----
... (CA certificate in base64 encoding) ...
-----END CERTIFICATE-----
</pre>
<p>
デフォルトは nil です。
</p>
<dl>
<dt class='method-param'>[PARAM] ca:</dt>
<dd>
CA証明書ファイルのパス文字列
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/ca_file=3d.html">OpenSSL::SSL::SSLContext#ca_file=</a>
</p>
</dd>


<dt class="method-heading" id="I_CA_PATH"><code>ca_path -&gt; String | nil</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/ca_path.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-ca_path">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
信頼している CA 証明書ファイルを含むディレクトリを返します。
</p>
<p>
設定されていない場合は nil を返します。
</p>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/ca_path=3d.html">OpenSSL::SSL::SSLContext#ca_path=</a>
</p>
</dd>


<dt class="method-heading" id="I_CA_PATH--3D"><code>ca_path=(ca)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/ca_path=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-ca_path-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
接続相手の証明書の検証のために使う、信頼している CA 証明書ファイルを含むディレクトリを設定します。
</p>
<p>
そのディレクトリに含まれる証明書のファイル名は証明書のハッシュ値文字列でなければなりません。
</p>
<dl>
<dt class='method-param'>[PARAM] ca:</dt>
<dd>
CA 証明書ファイルを含むディレクトリ名文字列
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/ca_path.html">OpenSSL::SSL::SSLContext#ca_path</a>
</p>
</dd>


<dt class="method-heading" id="I_CERT"><code>cert -&gt; OpenSSL::X509::Certificate</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/cert.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-cert">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自分自身を証明するための証明書を返します。
</p>
<p>
デフォルトは nil (証明書なし)です。
</p>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/cert=3d.html">OpenSSL::SSL::SSLContext#cert=</a>
</p>
</dd>


<dt class="method-heading" id="I_CERT--3D"><code>cert=(certificate)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/cert=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-cert-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自分自身を証明するための証明書を設定します。
</p>
<p>
デフォルトは nil (証明書なし)です。
</p>
<dl>
<dt class='method-param'>[PARAM] certificate:</dt>
<dd>
設定する証明書(<a href="../class/-open-s-s-l=3a=3a-x509=3a=3a-certificate.html">OpenSSL::X509::Certificate</a> のインスタンス)
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/cert.html">OpenSSL::SSL::SSLContext#cert</a>
</p>
</dd>


<dt class="method-heading" id="I_CERT_STORE"><code>cert_store -&gt; OpenSSL::X509::Store | nil</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/cert_store.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-cert_store">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
接続相手の証明書の検証のために使う、信頼している CA 証明書を含む証明書ストアを返します。
</p>
<p>
デフォルトは nil です。
</p>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/cert_store=3d.html">OpenSSL::SSL::SSLContext#cert_store=</a>
</p>
</dd>


<dt class="method-heading" id="I_CERT_STORE--3D"><code>cert_store=(store)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/cert_store=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-cert_store-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
接続相手の証明書の検証のために使う、信頼している CA 証明書を含む証明書ストアを設定します。
</p>
<p>
通常は <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/ca_path=3d.html">OpenSSL::SSL::SSLContext#ca_path=</a> や
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/ca_file=3d.html">OpenSSL::SSL::SSLContext#ca_file=</a> で証明書を設定しますが、
CRL を使いたいなど、より詳細な設定をしたい場合にはこれを使います。
</p>
<p>
デフォルトは nil (証明書ストアを指定しない)です。
</p>
<dl>
<dt class='method-param'>[PARAM] store:</dt>
<dd>
設定する証明書ストア(<a href="../class/-open-s-s-l=3a=3a-x509=3a=3a-store.html">OpenSSL::X509::Store</a> のインスタンス)
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/cert_store.html">OpenSSL::SSL::SSLContext#cert_store</a>
</p>
</dd>


<dt class="method-heading" id="I_CIPHERS"><code>ciphers -&gt; [[String, String, Integer, Integer]]</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/ciphers.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-ciphers">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
利用可能な共通鍵暗号の種類を配列で返します。
</p>
<p>
配列の各要素は以下のような配列です
</p>
<pre>
[暗号方式の名前の文字列, 利用可能なSSL/TLSのバージョン文字列, 鍵長(ビット数), アルゴリズムのビット長]
</pre>
<p>
例:
</p>
<pre>
require 'openssl'
ctx = OpenSSL::SSL::SSLContext.new('TLSv1')
ctx.ciphers
# =&gt; [[&quot;DHE-RSA-AES256-SHA&quot;, &quot;TLSv1/SSLv3&quot;, 256, 256],
#     [&quot;DHE-DSS-AES256-SHA&quot;, &quot;TLSv1/SSLv3&quot;, 256, 256], ... ]
</pre>
</dd>


<dt class="method-heading" id="I_CIPHERS--3D"><code>ciphers=(ciphers)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/ciphers=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-ciphers-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
利用可能な共通鍵暗号を設定します。
</p>
<p>
これによって、SSL コネクションにおいて特定の共通鍵暗号だけを利用可能にすることができます。
</p>
<p>
指定の方法は2種類あります。1つは
</p>
<pre>
&quot;ALL:!ADH:!LOW:!EXP:!MD5:@STRENGTH&quot;
</pre>
<p>
のような文字列で指定する方法で、もう一つは配列で
</p>
<pre>
[&quot;ALL&quot;, &quot;!ADH&quot;, &quot;!LOW&quot;, &quot;!EXP&quot;, &quot;!MD5&quot;, &quot;@STRENGTH&quot;]
</pre>
<p>
という配列で指定する方法です。上の2つの例は同じ内容を意味しています。詳しくは OpenSSL のマニュアルの
SSL_CTX_set_cipher_list の項を見てください。
</p>
<dl>
<dt class='method-param'>[PARAM] ciphers:</dt>
<dd>
利用可能にする共通鍵暗号の種類
</dd>
<dt>[EXCEPTION] OpenSSL::SSL::SSLError:</dt>
<dd>
設定に失敗した場合に発生します
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_CLIENT_CA"><code>client_ca -&gt; [OpenSSL::X509::Certificate] | OpenSSL::X509::Certificate | nil</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/client_ca.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-client_ca">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
クライアント証明書を要求する時にクライアントに送る CA のリストを返します。
</p>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/client_ca=3d.html">OpenSSL::SSL::SSLContext#client_ca=</a>
</p>
</dd>


<dt class="method-heading" id="I_CLIENT_CA--3D"><code>client_ca=(ca)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/client_ca=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-client_ca-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
クライアント証明書を要求する時にクライアントに送る CA 証明書のリストを設定します。
</p>
<p>
クライアントは提示した CA から利用可能(署名されている)な証明書を送り返します。
</p>
<p>
このメソッドはサーバ側でのみ意味を持ちます。
</p>
<p>
<a href="../class/-open-s-s-l=3a=3a-x509=3a=3a-certificate.html">OpenSSL::X509::Certificate</a> の配列を渡します。1つの場合は
<a href="../class/-open-s-s-l=3a=3a-x509=3a=3a-certificate.html">OpenSSL::X509::Certificate</a> オブジェクト自体を渡してもかまいません。
</p>
<dl>
<dt class='method-param'>[PARAM] ca:</dt>
<dd>
クライアント証明書を要求するときに提示する証明書の配列
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/client_ca.html">OpenSSL::SSL::SSLContext#client_ca</a>
</p>
</dd>


<dt class="method-heading" id="I_CLIENT_CERT_CB"><code>client_cert_cb -&gt; Proc | nil</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/client_cert_cb.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-client_cert_cb">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/cert=3d.html">OpenSSL::SSL::SSLContext#cert=</a> でクライアント証明書をセットしていなかった場合にサーバからクライアント証明書の要求が来たときに呼びだされるコールバックオブジェクトを返します。
</p>
<p>
デフォルトは nil (コールバックなし)です。
</p>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/client_cert_cb=3d.html">OpenSSL::SSL::SSLContext#client_cert_cb=</a>
</p>
</dd>


<dt class="method-heading" id="I_CLIENT_CERT_CB--3D"><code>client_cert_cb=(cb)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/client_cert_cb=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-client_cert_cb-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/cert=3d.html">OpenSSL::SSL::SSLContext#cert=</a> でクライアント証明書をセットしていなかった場合にサーバからクライアント証明書の要求が来たときに呼びだされるコールバックオブジェクトを設定します。
</p>
<p>
コールバックに渡される引数は以下のように
</p>
<pre>
proc{|sslsocket| ... }
</pre>
<p>
1つで、利用している <a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-socket.html">OpenSSL::SSL::SSLSocket</a>
オブジェクトが渡されます。そのオブジェクトから必要な証明書を見つけるのに必要な情報を取得します。コールバックはクライアント証明書(<a href="../class/-open-s-s-l=3a=3a-x509=3a=3a-certificate.html">OpenSSL::X509::Certificate</a>)
とその秘密鍵(<a href="../class/-open-s-s-l=3a=3a-p-key=3a=3a-p-key.html">OpenSSL::PKey::PKey</a>)のペアの配列を返さなければなりません。
</p>
<p>
証明書と鍵が見付からない場合は nil を返してください。また、このコールバック内で例外が発生すると、適当な証明書が見付からなかったと判断されます。このとき例外は OpenSSL のライブラリによって握り潰されてしまいます。
</p>
<p>
デフォルトは nil で、コールバックなしを意味します。この場合はクライアント証明書は利用されません。
</p>
<p>
このメソッドはクライアント側でのみ意味を持ちます。
</p>
<p>
例
</p>
<pre>
require 'openssl'
ctx = OpenSSL::SSL::SSLContext.new(ssl_method)
ctx.client_cert_cb = proc{|sslsocket|
  # sslsocket からコネクションの情報を取り出し、
  # クライアント証明書(cert)とその秘密鍵(privkey)を探しだす
  [cert, privkey]
}
</pre>
<dl>
<dt class='method-param'>[PARAM] cb:</dt>
<dd>
コールバックオブジェクト(<a href="../class/-proc.html">Proc</a>、<a href="../class/-method.html">Method</a> など)
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/client_cert_cb.html">OpenSSL::SSL::SSLContext#client_cert_cb</a>
</p>
</dd>


<dt class="method-heading" id="I_EXTRA_CHAIN_CERT"><code>extra_chain_cert -&gt; [OpenSSL::X509::Certificate] | nil</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/extra_chain_cert.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-extra_chain_cert">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自分自身を証明する証明書からルート CA までの証明書のリストです。
</p>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/extra_chain_cert=3d.html">OpenSSL::SSL::SSLContext#extra_chain_cert=</a>
</p>
</dd>


<dt class="method-heading" id="I_EXTRA_CHAIN_CERT--3D"><code>extra_chain_cert=(certificates)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/extra_chain_cert=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-extra_chain_cert-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自分自身を証明する証明書からルート CA までの証明書のリストを配列で設定します。
</p>
<p>
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/cert.html">OpenSSL::SSL::SSLContext#cert</a> で設定した証明書から相手が持っていると期待されるルート CA 証明書までのリストを渡します。
</p>
<p>
これによって接続相手はチェインを辿ることでその相手が信頼していない証明書の信頼性を順に確認し、自分自身を証明する証明書の信頼性を確認します。
</p>
<dl>
<dt class='method-param'>[PARAM] certificates:</dt>
<dd>
設定する証明書チェイン(<a href="../class/-open-s-s-l=3a=3a-x509=3a=3a-certificate.html">OpenSSL::X509::Certificate</a> の配列)
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/extra_chain_cert.html">OpenSSL::SSL::SSLContext#extra_chain_cert</a>
</p>
</dd>


<dt class="method-heading" id="I_FLUSH_SESSIONS"><code>flush_sessions(time=nil) -&gt; self</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/flush_sessions.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-flush_sessions">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身が保持しているセッションキャッシュを破棄します。
</p>
<p>
time に nil を渡すと現在時刻で期限切れになっているキャッシュを破棄します。
</p>
<p>
time に <a href="../class/-time.html">Time</a> オブジェクトを渡すと、その時刻で時間切れになるキャッシュを破棄します。
</p>
<dl>
<dt class='method-param'>[PARAM] time:</dt>
<dd>
キャッシュ破棄の基準時刻
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context=23session_cache_mode=3d.html">OpenSSL::SSL::SSLContext#session_cache_mode=</a>
</p>
</dd>


<dt class="method-heading" id="I_KEY"><code>key -&gt; OpenSSL::PKey::PKey | nil</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/key.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-key">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/cert.html">OpenSSL::SSL::SSLContext#cert</a> で得られる自分自身を証明するための証明書の公開鍵に対応する秘密鍵を返します。
</p>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/key=3d.html">OpenSSL::SSL::SSLContext#key=</a>
</p>
</dd>


<dt class="method-heading" id="I_KEY--3D"><code>key=(key)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/key=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-key-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/cert=3d.html">OpenSSL::SSL::SSLContext#cert=</a> で設定された自分自身を証明するための証明書の公開鍵に対応する秘密鍵を設定します。
</p>
<p>
デフォルトな nil です。
</p>
<dl>
<dt class='method-param'>[PARAM] key:</dt>
<dd>
設定する秘密鍵(<a href="../class/-open-s-s-l=3a=3a-p-key=3a=3a-p-key.html">OpenSSL::PKey::PKey</a> のサブクラスのインスタンス)
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/key.html">OpenSSL::SSL::SSLContext#key</a>
</p>
</dd>


<dt class="method-heading" id="I_OPTIONS"><code>options -&gt; Integer | nil</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/options.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-options">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
設定されているオプションフラグを返します。
</p>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/options=3d.html">OpenSSL::SSL::SSLContext#options=</a>
</p>
</dd>


<dt class="method-heading" id="I_OPTIONS--3D"><code>options=(options)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/options=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-options-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オプションを設定します。
</p>
<p>
以下の値の OR で指定します。
</p>
<ul>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l/c/-o-p_-a-l-l.html">OpenSSL::SSL::OP_ALL</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l/c/-o-p_-c-i-p-h-e-r_-s-e-r-v-e-r_-p-r-e-f-e-r-e-n-c-e.html">OpenSSL::SSL::OP_CIPHER_SERVER_PREFERENCE</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l/c/-o-p_-e-p-h-e-m-e-r-a-l_-r-s-a.html">OpenSSL::SSL::OP_EPHEMERAL_RSA</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l/c/-o-p_-n-e-t-s-c-a-p-e_-c-a_-d-n_-b-u-g.html">OpenSSL::SSL::OP_NETSCAPE_CA_DN_BUG</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l/c/-o-p_-n-e-t-s-c-a-p-e_-d-e-m-o_-c-i-p-h-e-r_-c-h-a-n-g-e_-b-u-g.html">OpenSSL::SSL::OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l/c/-o-p_-n-o_-s-e-s-s-i-o-n_-r-e-s-u-m-p-t-i-o-n_-o-n_-r-e-n-e-g-o-t-i-a-t-i-o-n.html">OpenSSL::SSL::OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l/c/-o-p_-n-o_-s-s-lv2.html">OpenSSL::SSL::OP_NO_SSLv2</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l/c/-o-p_-n-o_-s-s-lv3.html">OpenSSL::SSL::OP_NO_SSLv3</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l/c/-o-p_-n-o_-t-l-sv1.html">OpenSSL::SSL::OP_NO_TLSv1</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l/c/-o-p_-n-o_-t-i-c-k-e-t.html">OpenSSL::SSL::OP_NO_TICKET</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l/c/-o-p_-p-k-c-s1_-c-h-e-c-k_1.html">OpenSSL::SSL::OP_PKCS1_CHECK_1</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l/c/-o-p_-p-k-c-s1_-c-h-e-c-k_2.html">OpenSSL::SSL::OP_PKCS1_CHECK_2</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l/c/-o-p_-s-i-n-g-l-e_-d-h_-u-s-e.html">OpenSSL::SSL::OP_SINGLE_DH_USE</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l/c/-o-p_-s-i-n-g-l-e_-e-c-d-h_-u-s-e.html">OpenSSL::SSL::OP_SINGLE_ECDH_USE</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l/c/-o-p_-t-l-s_-r-o-l-l-b-a-c-k_-b-u-g.html">OpenSSL::SSL::OP_TLS_ROLLBACK_BUG</a></li>
</ul>
<dl>
<dt class='method-param'>[PARAM] options:</dt>
<dd>
設定するオプションフラグ(整数値)
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/options.html">OpenSSL::SSL::SSLContext#options</a>
</p>
</dd>


<dt class="method-heading" id="I_RENEGOTIATION_CB"><code>renegotiation_cb -&gt; nil | Proc</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/renegotiation_cb.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-renegotiation_cb">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
ハンドシェイク開始時に呼び出されるコールバックを得ます。
</p>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/renegotiation_cb=3d.html">OpenSSL::SSL::SSLContext#renegotiation_cb=</a>
</p>
</dd>


<dt class="method-heading" id="I_RENEGOTIATION_CB--3D"><code>renegotiation_cb=(cb)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/renegotiation_cb=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-renegotiation_cb-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p class="todo">
[TODO]
</p>
<p>
ハンドシェイク開始時に呼び出されるコールバックを設定します。
</p>
<p>
コールバックには <a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-socket.html">OpenSSL::SSL::SSLSocket</a> オブジェクトが渡されます。
</p>
<p>
このコールバック内で何らかの例外が生じた場合には以降のSSLの処理を停止します。
</p>
<p>
再ネゴシエーションのたびにこのコールバックが呼び出されるため、何らかの理由で再ネゴシエーションを禁止したい場合などに利用できます。
</p>
<p>
nil を渡すとコールバックは無効になります。
</p>
<p>
以下の例は再ネゴシエーションを一切禁止します。
</p>
<pre>
num_handshakes = 0
ctx.renegotiation_cb = lambda do |ssl|
  num_handshakes += 1
  raise RuntimeError.new(&quot;Client renegotiation disabled&quot;) if num_handshakes &gt; 1
end
</pre>
<dl>
<dt class='method-param'>[PARAM] cb:</dt>
<dd>
コールバック(Proc, Method など)もしくは nil
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/renegotiation_cb.html">OpenSSL::SSL::SSLContext#renegotiation_cb</a>
</p>
</dd>


<dt class="method-heading" id="I_SERVERNAME_CB"><code>servername_cb -&gt; Proc | nil</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/servername_cb.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-servername_cb">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
TLS の Server Name Indication(SNI) 拡張でクライアント側からホスト名が伝えられてきた場合に呼びだされるコールバックを返します。
</p>
<p>
詳しくは <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/servername_cb=3d.html">OpenSSL::SSL::SSLContext#servername_cb=</a> を見てください。
</p>
</dd>


<dt class="method-heading" id="I_SERVERNAME_CB--3D"><code>servername_cb=(pr)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/servername_cb=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-servername_cb-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
TLS の Server Name Indication(SNI) 拡張でクライアント側からホスト名が伝えられてきた場合に呼びだされるコールバックを設定します。
</p>
<p>
このコールバックはハンドシェイク時にクライアント側がサーバのホスト名を伝えてきた場合にサーバ側で呼びだされます。このコールバック内でサーバ側に提示する証明書を調整したりします。
</p>
<p>
<a href="../class/-proc.html">Proc</a> や <a href="../class/-method.html">Method</a> をコールバックオブジェクトとして渡します。コールバックに渡される引数は以下のように
</p>
<pre>
proc{|sslsocket, hostname| ... }
</pre>
<p>
2つで、1つ目は認証および暗号化通信に使われる <a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-socket.html">OpenSSL::SSL::SSLSocket</a>
オブジェクトで、2つ目がクライアント側から伝えられてきたホスト名です。
</p>
<p>
コールバックの返り値には認証と暗号化の設定を含んだ
<a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context.html">OpenSSL::SSL::SSLContext</a> オブジェクト、もしくは
nil を返さなければなりません。これで得られたコンテキストオブジェクトが sslsocket に設定され、コンテキストが持っている証明書などの各情報を用いてハンドシェイクを継続します。コールバックが nil を返した場合には sslsocket が用いるコンテキストは変更されません。
</p>
<dl>
<dt class='method-param'>[PARAM] pr:</dt>
<dd>
コールバックオブジェクト
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/servername_cb.html">OpenSSL::SSL::SSLContext#servername_cb</a>
</p>
</dd>


<dt class="method-heading" id="I_SESSION_ADD"><code>session_add(sess) -&gt; bool</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_add.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-session_add">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
セッションを <a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context.html">OpenSSL::SSL::SSLContext</a> 内部のキャッシュ領域に追加します。
</p>
<p>
成功時には真を返します。すでにキャッシュ領域にあるセッションを追加しようとした場合は追加されずに偽を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] sess:</dt>
<dd>
追加するセッション(<a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-session.html">OpenSSL::SSL::Session</a>)
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_SESSION_CACHE_MODE"><code>session_cache_mode -&gt; Integer</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_cache_mode.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-session_cache_mode">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
セッションキャッシュのモードを返します。
</p>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_cache_mode=3d.html">OpenSSL::SSL::SSLContext#session_cache_mode=</a>
</p>
</dd>


<dt class="method-heading" id="I_SESSION_CACHE_MODE--3D"><code>session_cache_mode=(mode)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_cache_mode=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-session_cache_mode-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
セッションキャッシュのモードを指定します。
</p>
<p>
以下の定数のORを引数として渡します。
</p>
<ul>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-s-e-s-s-i-o-n_-c-a-c-h-e_-o-f-f.html">OpenSSL::SSL::SSLContext::SESSION_CACHE_OFF</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-s-e-s-s-i-o-n_-c-a-c-h-e_-c-l-i-e-n-t.html">OpenSSL::SSL::SSLContext::SESSION_CACHE_CLIENT</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-s-e-s-s-i-o-n_-c-a-c-h-e_-s-e-r-v-e-r.html">OpenSSL::SSL::SSLContext::SESSION_CACHE_SERVER</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-s-e-s-s-i-o-n_-c-a-c-h-e_-b-o-t-h.html">OpenSSL::SSL::SSLContext::SESSION_CACHE_BOTH</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-s-e-s-s-i-o-n_-c-a-c-h-e_-n-o_-a-u-t-o_-c-l-e-a-r.html">OpenSSL::SSL::SSLContext::SESSION_CACHE_NO_AUTO_CLEAR</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-s-e-s-s-i-o-n_-c-a-c-h-e_-n-o_-i-n-t-e-r-n-a-l.html">OpenSSL::SSL::SSLContext::SESSION_CACHE_NO_INTERNAL</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-s-e-s-s-i-o-n_-c-a-c-h-e_-n-o_-i-n-t-e-r-n-a-l_-l-o-o-k-u-p.html">OpenSSL::SSL::SSLContext::SESSION_CACHE_NO_INTERNAL_LOOKUP</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-s-e-s-s-i-o-n_-c-a-c-h-e_-n-o_-i-n-t-e-r-n-a-l_-s-t-o-r-e.html">OpenSSL::SSL::SSLContext::SESSION_CACHE_NO_INTERNAL_STORE</a></li>
</ul>
<p>
デフォルト値は OpenSSL::SSL::SSLContext::SESSION_CACHE_SERVER です。
</p>
<dl>
<dt class='method-param'>[PARAM] mode:</dt>
<dd>
設定するモード(整数値)
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_cache_mode.html">OpenSSL::SSL::SSLContext#session_cache_mode</a>
</p>
</dd>


<dt class="method-heading" id="I_SESSION_CACHE_SIZE"><code>session_cache_size -&gt; Integer</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_cache_size.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-session_cache_size">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身が保持可能なセッションキャッシュのサイズを返します。
</p>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_cache_size=3d.html">OpenSSL::SSL::SSLContext#session_cache_size=</a>
</p>
</dd>


<dt class="method-heading" id="I_SESSION_CACHE_SIZE--3D"><code>session_cache_size=(size)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_cache_size=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-session_cache_size-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身が保持可能なセッションキャッシュのサイズを指定します。
</p>
<p>
size に 0 を渡すと制限なしを意味します。
</p>
<p>
デフォルトは 1024*20 で、20000 セッションまでキャッシュを保持できます。
</p>
<dl>
<dt class='method-param'>[PARAM] size:</dt>
<dd>
セッションキャッシュのサイズ(整数値)
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_cache_size.html">OpenSSL::SSL::SSLContext#session_cache_size</a>
</p>
</dd>


<dt class="method-heading" id="I_SESSION_CACHE_STATS"><code>session_cache_stats -&gt; {Symbol -&gt; Integer}</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_cache_stats.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-session_cache_stats">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
セッションキャッシュの内部統計情報をハッシュテーブルで返します。
</p>
<p>
ハッシュテーブルの各キーとその意味は以下の通りです。
</p>
<ul>
<li>:cache_num  内部キャッシュに保持されているセッションの数</li>
<li>:connect クライアント側でハンドシェイクした回数</li>
<li>:connect_good クライアント側でハンドシェイクが成功した回数</li>
<li>:connect_renegotiate クライアント側で再ネゴシエイトした回数</li>
<li>:accept サーバ側でハンドシェイクした回数</li>
<li>:accept_good サーバ側でハンドシェイクが成功した回数</li>
<li>:accept_renegotiate サーバ側で再ネゴシエイトした回数</li>
<li>:cache_hits サーバ側で内部キャッシュにヒットした数</li>
<li>:cb_hits サーバ側で外部キャッシュにヒットした数</li>
<li>:cache_full キャッシュが満杯で破棄したセッションの数</li>
<li>:timeouts ヒットしたキャッシュがタイムアウトしてしまっていた回数</li>
</ul>
</dd>


<dt class="method-heading" id="I_SESSION_GET_CB"><code>session_get_cb -&gt; Proc | nil</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_get_cb.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-session_get_cb">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
セッションキャッシュを探索し、内部のキャッシュテーブルには見付からなかった場合に呼び出されるコールバックを返します。
</p>
<p>
設定されていないときは nil を返します。
</p>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_get_cb=3d.html">OpenSSL::SSL::SSLContext#session_get_cb=</a>
</p>
</dd>


<dt class="method-heading" id="I_SESSION_GET_CB--3D"><code>session_get_cb=(cb)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_get_cb=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-session_get_cb-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
セッションキャッシュを探索し、内部のキャッシュテーブルには見付からなかった場合に呼び出されるコールバックを設定します。
</p>
<p>
コールバックオブジェクトを call するときの引数は
</p>
<pre>
[ 接続オブジェクト(OpenSSL::SSL::SSLSocket), セッションID(文字列) ]
</pre>
<p>
という配列です。このコールバックの返り値が
<a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-session.html">OpenSSL::SSL::Session</a> オブジェクトならば、それをキャッシュ値として利用します。それ以外を返したならば、キャッシュは見つからなかったものとして取り扱われます。
</p>
<p>
セッションキャッシュについて詳しくは <a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-session.html">OpenSSL::SSL::Session</a> を見てください。
</p>
<dl>
<dt class='method-param'>[PARAM] cb:</dt>
<dd>
コールバックオブジェクト(<a href="../class/-proc.html">Proc</a> もしくは <a href="../class/-method.html">Method</a>)
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_get_cb.html">OpenSSL::SSL::SSLContext#session_get_cb</a>
</p>
</dd>


<dt class="method-heading" id="I_SESSION_ID_CONTEXT"><code>session_id_context -&gt; String | nil</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_id_context.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-session_id_context">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
セッション ID コンテキスト文字列を返します。
</p>
<p>
設定されていない場合は nil を返します。
</p>
<p>
[SEE_ALSO] <a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-session.html">OpenSSL::SSL::Session</a>,
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_id_context=3d.html">OpenSSL::SSL::SSLContext#session_id_context=</a>
</p>
</dd>


<dt class="method-heading" id="I_SESSION_ID_CONTEXT--3D"><code>session_id_context=(id_context)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_id_context=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-session_id_context-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
セッション ID コンテキストを文字列で設定します。
</p>
<p>
セッション ID コンテキストは、セッションをグループ化するための識別子で、セッション ID コンテキストとセッション ID の両方が一致する場合に同一のセッションであると判別されます。この <a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context.html">OpenSSL::SSL::SSLContext</a> オブジェクトで生成されたコネクション(<a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-socket.html">OpenSSL::SSL::SSLSocket</a>)に関連付けられたセッションはセッション ID コンテキストを共有します。
</p>
<p>
セッション ID コンテキストはセッションのグループを識別するための識別子であり、一方セッション ID は各セッションを識別するための識別子であり、この2つは異なる概念であることに注意してください。
</p>
<p>
クライアント側では意味を持ちません。
</p>
<dl>
<dt class='method-param'>[PARAM] id_context:</dt>
<dd>
セッション ID コンテキスト文字列(最大32バイト)
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-session.html">OpenSSL::SSL::Session</a>,
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_id_context.html">OpenSSL::SSL::SSLContext#session_id_context</a>,
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_cache_mode=3d.html">OpenSSL::SSL::SSLContext#session_cache_mode=</a>
</p>
</dd>


<dt class="method-heading" id="I_SESSION_NEW_CB"><code>session_new_cb -&gt; Proc | nil</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_new_cb.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-session_new_cb">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
セッションが生成されたときに呼び出されるコールバックを返します。
</p>
<p>
設定されていないときは nil を返します。
</p>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_new_cb=3d.html">OpenSSL::SSL::SSLContext#session_new_cb=</a>
</p>
</dd>


<dt class="method-heading" id="I_SESSION_NEW_CB--3D"><code>session_new_cb=(cb)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_new_cb=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-session_new_cb-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
新たなセッションが作られたときに呼び出されるコールバックを指定します。
</p>
<p>
コールバックオブジェクトを call するときの引数は
</p>
<pre>
[ 接続オブジェクト(OpenSSL::SSL::SSLSocket), 新たなセッション(OpenSSL::SSL::Session)]
</pre>
<p>
という配列です。
</p>
<p>
セッションキャッシュについて詳しくは <a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-session.html">OpenSSL::SSL::Session</a> を見てください。
</p>
<dl>
<dt class='method-param'>[PARAM] cb:</dt>
<dd>
コールバックオブジェクト(<a href="../class/-proc.html">Proc</a> もしくは <a href="../class/-method.html">Method</a>)
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_new_cb.html">OpenSSL::SSL::SSLContext#session_new_cb</a>
</p>
</dd>


<dt class="method-heading" id="I_SESSION_REMOVE"><code>session_remove(sess) -&gt; bool</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_remove.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-session_remove">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
セッションを <a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context.html">OpenSSL::SSL::SSLContext</a> 内部のキャッシュ領域から取り除きます。
</p>
<p>
成功時には真を返します。キャッシュ領域に存在しないセッションを削除しようとした場合は偽を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] sess:</dt>
<dd>
削除するセッション(<a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-session.html">OpenSSL::SSL::Session</a>)
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_SESSION_REMOVE_CB"><code>session_remove_cb -&gt; Proc | nil</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_remove_cb.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-session_remove_cb">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
セッションが内部キャッシュから破棄されたときに呼び出されるコールバックを返します。
</p>
<p>
設定されていないときは nil を返します。
</p>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_remove_cb=3d.html">OpenSSL::SSL::SSLContext#session_remove_cb=</a>
</p>
</dd>


<dt class="method-heading" id="I_SESSION_REMOVE_CB--3D"><code>session_remove_cb=(cb)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_remove_cb=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-session_remove_cb-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
セッションが内部キャッシュから破棄されたときに呼び出されるコールバックを設定します。
</p>
<p>
コールバックオブジェクトを call するときの引数は
</p>
<pre>
[ SSLContextオブジェクト(OpenSSL::SSL::SSLContext),
  破棄されるセッション(OpenSSL::SSL::Session)]
</pre>
<p>
という配列です。
</p>
<p>
セッションキャッシュについて詳しくは <a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-session.html">OpenSSL::SSL::Session</a> を見てください。
</p>
<dl>
<dt class='method-param'>[PARAM] cb:</dt>
<dd>
コールバックオブジェクト(<a href="../class/-proc.html">Proc</a> もしくは <a href="../class/-method.html">Method</a>)
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_remove_cb.html">OpenSSL::SSL::SSLContext#session_remove_cb</a>
</p>
</dd>


<dt class="method-heading" id="I_SET_PARAMS"><code>set_params(params) -&gt; Hash</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/set_params.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-set_params">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
パラメータをハッシュで設定します。
</p>
<p>
渡すハッシュテーブルは { パラメータ名のシンボル =&gt; パラメータの値 } という形をしていなければなりません。
</p>
<p>
以下のパラメータを設定できます。
</p>
<ul>
<li>:cert (<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/cert=3d.html">OpenSSL::SSL::SSLContext#cert=</a>)</li>
<li>:key (<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/key=3d.html">OpenSSL::SSL::SSLContext#key=</a>)</li>
<li>:client_ca (<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/client_ca=3d.html">OpenSSL::SSL::SSLContext#client_ca=</a>)</li>
<li>:ca_file (<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/ca_file=3d.html">OpenSSL::SSL::SSLContext#ca_file=</a>)</li>
<li>:ca_path (<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/ca_path=3d.html">OpenSSL::SSL::SSLContext#ca_path=</a>)</li>
<li>:timeout (<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/timeout=3d.html">OpenSSL::SSL::SSLContext#timeout=</a>)</li>
<li>:verify_mode (<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/verify_mode=3d.html">OpenSSL::SSL::SSLContext#verify_mode=</a>)</li>
<li>:verify_depth (<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/verify_depth=3d.html">OpenSSL::SSL::SSLContext#verify_depth=</a>)</li>
<li>:verify_callback (<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/verify_callback=3d.html">OpenSSL::SSL::SSLContext#verify_callback=</a>)</li>
<li>:options (<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/options=3d.html">OpenSSL::SSL::SSLContext#options=</a>)</li>
<li>:cert_store (<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/cert_store=3d.html">OpenSSL::SSL::SSLContext#cert_store=</a>)</li>
<li>:extra_chain_cert (<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/extra_chain_cert=3d.html">OpenSSL::SSL::SSLContext#extra_chain_cert=</a>)</li>
<li>:client_cert_cb (<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/client_cert_cb=3d.html">OpenSSL::SSL::SSLContext#client_cert_cb=</a>)</li>
<li>:tmp_dh_callback (<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/tmp_dh_callback=3d.html">OpenSSL::SSL::SSLContext#tmp_dh_callback=</a>)</li>
<li>:session_id_context (<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_id_context=3d.html">OpenSSL::SSL::SSLContext#session_id_context=</a>)</li>
<li>:session_get_cb (<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_get_cb=3d.html">OpenSSL::SSL::SSLContext#session_get_cb=</a>)</li>
<li>:session_new_cb (<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_new_cb=3d.html">OpenSSL::SSL::SSLContext#session_new_cb=</a>)</li>
<li>:session_remove_cb (<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_remove_cb=3d.html">OpenSSL::SSL::SSLContext#session_remove_cb=</a>)</li>
<li>:servername_cb (<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/servername_cb=3d.html">OpenSSL::SSL::SSLContext#servername_cb=</a>)</li>
</ul>
<p>
指定されなかったパラメータは <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-d-e-f-a-u-l-t_-p-a-r-a-m-s.html">OpenSSL::SSL::SSLContext::DEFAULT_PARAMS</a>
の値で初期化されます。
</p>
</dd>


<dt class="method-heading" id="I_SSL_TIMEOUT"><code>timeout -&gt; Integer | nil</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/ssl_timeout.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-ssl_timeout">rdoc</a>]</span></dt>
<dt class="method-heading"><code>ssl_timeout -&gt; Integer | nil</code></dt>
<dd class="method-description">
<p>
このコンテキストから生成するセッションのタイムアウト秒数を返します。
</p>
<p>
デフォルト値は nil です。
</p>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/timeout=3d.html">OpenSSL::SSL::SSLContext#timeout=</a>
</p>
</dd>


<dt class="method-heading" id="I_SSL_TIMEOUT--3D"><code>timeout=(seconds)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/ssl_timeout=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-ssl_timeout-3D">rdoc</a>]</span></dt>
<dt class="method-heading"><code>ssl_timeout=(seconds)</code></dt>
<dd class="method-description">
<p>
このコンテキストから生成するセッションのタイムアウト秒数を設定します。
</p>
<p>
nil を指定すると OpenSSL のデフォルトのタイムアウト秒数(300秒)を用います。
</p>
<dl>
<dt class='method-param'>[PARAM] seconds:</dt>
<dd>
タイムアウト秒数(整数)
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-session/i/timeout.html">OpenSSL::SSL::Session#timeout</a>
</p>
</dd>


<dt class="method-heading" id="I_SSL_VERSION--3D"><code>ssl_version=(ver)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/ssl_version=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-ssl_version-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
利用するプロトコルの種類を文字列もしくはシンボルで指定します。
</p>
<p>
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/s/new.html">OpenSSL::SSL::SSLContext.new</a> で指定できるものと同じです。
</p>
<dl>
<dt class='method-param'>[PARAM] ver:</dt>
<dd>
利用するプロトコルの種類
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_TMP_DH_CALLBACK"><code>tmp_dh_callback -&gt; Proc | nil</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/tmp_dh_callback.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-tmp_dh_callback">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
一時的 DH 鍵を生成するためのコールバックを返します。
</p>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/tmp_dh_callback=3d.html">OpenSSL::SSL::SSLContext#tmp_dh_callback=</a>
</p>
</dd>


<dt class="method-heading" id="I_TMP_DH_CALLBACK--3D"><code>tmp_dh_callback=(cb)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/tmp_dh_callback=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-tmp_dh_callback-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
一時的 DH 鍵を生成するためのコールバックを設定します。
</p>
<p>
コールバックには <a href="../class/-proc.html">Proc</a> や <a href="../class/-method.html">Method</a> を渡します。
</p>
<p>
暗号で一時的な DH 鍵を利用する場合にはこのコールバックが呼びだされ、呼びだされたブロックは適切な鍵パラメータを返さなければなりません。これで設定するブロックは
</p>
<pre>
proc{|sslsocket, is_export, keylen| ... }
</pre>
<p>
という引数を取るようにします。それぞれの引数の意味は
</p>
<ul>
<li>sslsocket 通信に使われる <a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-socket.html">OpenSSL::SSL::SSLSocket</a> オブジェクト</li>
<li>is_export 輸出規制のある暗号を利用するかどうかを0か0以外かで指定</li>
<li>keylen 鍵長</li>
</ul>
<p>
となります。ブロックの返り値には適切な鍵パラメータを含む
<a href="../class/-open-s-s-l=3a=3a-p-key=3a=3a-d-h.html">OpenSSL::PKey::DH</a> オブジェクトを返します。鍵パラメータは
keylen で指定された鍵長に対応したものでなければなりません。
</p>
<p>
<a href="../class/-open-s-s-l=3a=3a-p-key=3a=3a-d-h.html">OpenSSL::PKey::DH</a> は DH パラメータと DH 鍵対を保持していますが、これで返されるオブジェクトはパラメータしか用いられません。
</p>
<p>
cb に nil を指定するとデフォルトのパラメータが利用されます。
</p>
<p>
デフォルト値は nil です。
</p>
<dl>
<dt class='method-param'>[PARAM] cb:</dt>
<dd>
設定するコールバック
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/tmp_dh_callback.html">OpenSSL::SSL::SSLContext#tmp_dh_callback</a>
</p>
</dd>


<dt class="method-heading" id="I_VERIFY_CALLBACK"><code>verify_callback -&gt; Proc | nil</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/verify_callback.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-verify_callback">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
オブジェクトに設定されている検証をフィルタするコールバックを返します。
</p>
<p>
デフォルトのコールバックが設定されている場合には nil を返します。
</p>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-x509=3a=3a-store/i/verify_callback.html">OpenSSL::X509::Store#verify_callback</a>,
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/verify_callback=3d.html">OpenSSL::SSL::SSLContext#verify_callback=</a>
</p>
</dd>


<dt class="method-heading" id="I_VERIFY_CALLBACK--3D"><code>verify_callback=(proc)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/verify_callback=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-verify_callback-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
検証をフィルタするコールバックを設定します。
</p>
<p>
<a href="../method/-open-s-s-l=3a=3a-x509=3a=3a-store/i/verify_callback=3d.html">OpenSSL::X509::Store#verify_callback=</a> と同じ働きをします。
</p>
<p>
コールバックには <a href="../class/-proc.html">Proc</a> や <a href="../class/-method.html">Method</a> を渡します。
</p>
<p>
渡されたコールバックオブジェクトは証明書チェインの検証時にチェインに含まれる各証明書の署名を検証するたびに呼びだされます。そのときに渡される引数は2つで、1つめは検証が成功したかの真偽値、
2つめは検証後の状態を保存した
<a href="../class/-open-s-s-l=3a=3a-x509=3a=3a-store-context.html">OpenSSL::X509::StoreContext</a> オブジェクトです。このコールバックには2つの役割があります。1つ目はコンテキストオブジェクトを調べることで詳細なエラー情報を得ることです。2つ目は検証をカスタマイズすることです。このコールバックが true を返すと、たとえ
OpenSSL が検証失敗と判定しても、検証が成功したものと判断し証明書チェインの検証を続けます。逆に false を返すと、検証が失敗したものとみなされ検証を停止し、検証メソッドは検証失敗を返します。詳細なエラー情報を得たいだけの場合はコールバックは第一引数をそのまま返すようにしてください。
</p>
<p>
nil を設定するとデフォルトのコールバック(単に第一引数をそのまま返すだけ)
が使われます。
</p>
<p>
初期状態は nil です。
</p>
<dl>
<dt class='method-param'>[PARAM] proc:</dt>
<dd>
設定する <a href="../class/-proc.html">Proc</a> オブジェクト
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/verify_callback.html">OpenSSL::SSL::SSLContext#verify_callback</a>,
<a href="../method/-open-s-s-l=3a=3a-x509=3a=3a-store/i/verify_callback=3d.html">OpenSSL::X509::Store#verify_callback=</a>
</p>
</dd>


<dt class="method-heading" id="I_VERIFY_DEPTH"><code>verify_depth -&gt; Integer | nil</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/verify_depth.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-verify_depth">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
証明書チェイン上の検証する最大の深さを返します。
</p>
<p>
デフォルトは nil です。
</p>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/verify_depth=3d.html">OpenSSL::SSL::SSLContext#verify_depth=</a>
</p>
</dd>


<dt class="method-heading" id="I_VERIFY_DEPTH--3D"><code>verify_depth=(depth)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/verify_depth=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-verify_depth-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
証明書チェイン上の検証する最大の深さを設定します。
</p>
<p>
デフォルトは nil で、この場合 OpenSSL のデフォルト値(9)が使われます。
</p>
<dl>
<dt class='method-param'>[PARAM] depth:</dt>
<dd>
最大深さを表す整数
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/verify_depth.html">OpenSSL::SSL::SSLContext#verify_depth</a>
</p>
</dd>


<dt class="method-heading" id="I_VERIFY_MODE"><code>verify_mode -&gt; Integer | nil</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/verify_mode.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-verify_mode">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
検証モードを返します。
</p>
<p>
デフォルトは nil です。
</p>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/verify_mode=3d.html">OpenSSL::SSL::SSLContext#verify_mode=</a>
</p>
</dd>


<dt class="method-heading" id="I_VERIFY_MODE--3D"><code>verify_mode=(mode)</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/verify_mode=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-i-verify_mode-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
検証モードを設定します。
</p>
<p>
以下の定数の OR を取って指定します。
</p>
<ul>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l/c/-v-e-r-i-f-y_-n-o-n-e.html">OpenSSL::SSL::VERIFY_NONE</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l/c/-v-e-r-i-f-y_-p-e-e-r.html">OpenSSL::SSL::VERIFY_PEER</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l/c/-v-e-r-i-f-y_-c-l-i-e-n-t_-o-n-c-e.html">OpenSSL::SSL::VERIFY_CLIENT_ONCE</a></li>
<li><a href="../method/-open-s-s-l=3a=3a-s-s-l/c/-v-e-r-i-f-y_-f-a-i-l_-i-f_-n-o_-p-e-e-r_-c-e-r-t.html">OpenSSL::SSL::VERIFY_FAIL_IF_NO_PEER_CERT</a></li>
</ul>
<p>
これらの定数の意味はクライアントモードとサーバモードでは異なる意味を持ちます。
</p>
<p>
デフォルトは nil で、VERIFY_NONE を意味します。
</p>
<dl>
<dt class='method-param'>[PARAM] mode:</dt>
<dd>
設定するモード(整数値)
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/verify_mode.html">OpenSSL::SSL::SSLContext#verify_mode</a>
</p>
</dd>


</dl>

<h2>定数</h2>
<dl>

<dt class="method-heading" id="C_-D-E-F-A-U-L-T_-C-E-R-T_-S-T-O-R-E"><code>DEFAULT_CERT_STORE -&gt; OpenSSL::X509::Store</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-d-e-f-a-u-l-t_-c-e-r-t_-s-t-o-r-e.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-c-DEFAULT_CERT_STORE">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/set_params.html">OpenSSL::SSL::SSLContext#set_params</a> で信頼する CA 証明書
(ca_file, ca_path, cert_store) を一切指定しなかった場合にデフォルトで使われる証明書ストアです。
</p>
<p>
<a href="../method/-open-s-s-l=3a=3a-x509=3a=3a-store/i/set_default_paths.html">OpenSSL::X509::Store#set_default_paths</a> でシステムが提供する証明書を利用するように設定されています。
</p>
</dd>


<dt class="method-heading" id="C_-D-E-F-A-U-L-T_-P-A-R-A-M-S"><code>DEFAULT_PARAMS -&gt; { Symbol -&gt; object }</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-d-e-f-a-u-l-t_-p-a-r-a-m-s.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-c-DEFAULT_PARAMS">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/set_params.html">OpenSSL::SSL::SSLContext#set_params</a> でデフォルト値として使われるパラメータです。
</p>
</dd>


<dt class="method-heading" id="C_-M-E-T-H-O-D-S"><code>METHODS -&gt; [Symbol]</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-m-e-t-h-o-d-s.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-c-METHODS">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
利用可能なメソッド(プロトコル)を <a href="../class/-symbol.html">Symbol</a> の配列で返します。
</p>
<pre>
require 'openssl'
OpenSSL::SSL::SSLContext::METHODS
# =&gt; [:TLSv1, :TLSv1_server, :TLSv1_client, :SSLv2, :SSLv2_server, ...]
</pre>
</dd>


<dt class="method-heading" id="C_-S-E-S-S-I-O-N_-C-A-C-H-E_-B-O-T-H"><code>SESSION_CACHE_BOTH -&gt; Integer</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-s-e-s-s-i-o-n_-c-a-c-h-e_-b-o-t-h.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-c-SESSION_CACHE_BOTH">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
サーバ側、クライアント側両方でセッションをキャッシュすることを意味します。
</p>
<p>
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_cache_mode=3d.html">OpenSSL::SSL::SSLContext#session_cache_mode=</a> に渡すフラグとして用います。
</p>
<p>
実際には
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-s-e-s-s-i-o-n_-c-a-c-h-e_-s-e-r-v-e-r.html">OpenSSL::SSL::SSLContext::SESSION_CACHE_SERVER</a> と
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-s-e-s-s-i-o-n_-c-a-c-h-e_-c-l-i-e-n-t.html">OpenSSL::SSL::SSLContext::SESSION_CACHE_CLIENT</a> のビット論理和を取った値です。
</p>
</dd>


<dt class="method-heading" id="C_-S-E-S-S-I-O-N_-C-A-C-H-E_-C-L-I-E-N-T"><code>SESSION_CACHE_CLIENT -&gt; Integer</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-s-e-s-s-i-o-n_-c-a-c-h-e_-c-l-i-e-n-t.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-c-SESSION_CACHE_CLIENT">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
クライアント側セッションをキャッシュに追加することを意味します。
</p>
<p>
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_cache_mode=3d.html">OpenSSL::SSL::SSLContext#session_cache_mode=</a> に渡すフラグとして用います。
</p>
<p>
クライアント側においては、OpenSSL ライブラリがどのセッションを再利用するべきか確実に判定する方法はないので、再利用する場合は
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-socket/i/session=3d.html">OpenSSL::SSL::SSLSocket#session=</a> によって明示的にセッションを指定しなければなりません。
</p>
</dd>


<dt class="method-heading" id="C_-S-E-S-S-I-O-N_-C-A-C-H-E_-N-O_-A-U-T-O_-C-L-E-A-R"><code>SESSION_CACHE_NO_AUTO_CLEAR -&gt; Integer</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-s-e-s-s-i-o-n_-c-a-c-h-e_-n-o_-a-u-t-o_-c-l-e-a-r.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-c-SESSION_CACHE_NO_AUTO_CLEAR">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context.html">OpenSSL::SSL::SSLContext</a> 内部のセッションキャッシュ領域を自動的にクリアしないことを意味します。
</p>
<p>
通常では255コネクションごとにキャッシュを破棄しますが、このフラグを有効にするとそれをしなくなります。代わりに適当なタイミングで
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/flush_sessions.html">OpenSSL::SSL::SSLContext#flush_sessions</a> を呼びキャッシュを破棄しなければなりません。
</p>
<p>
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_cache_mode=3d.html">OpenSSL::SSL::SSLContext#session_cache_mode=</a> に渡すフラグとして用います。
</p>
</dd>


<dt class="method-heading" id="C_-S-E-S-S-I-O-N_-C-A-C-H-E_-N-O_-I-N-T-E-R-N-A-L"><code>SESSION_CACHE_NO_INTERNAL -&gt; Integer</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-s-e-s-s-i-o-n_-c-a-c-h-e_-n-o_-i-n-t-e-r-n-a-l.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-c-SESSION_CACHE_NO_INTERNAL">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-s-e-s-s-i-o-n_-c-a-c-h-e_-n-o_-i-n-t-e-r-n-a-l_-s-t-o-r-e.html">OpenSSL::SSL::SSLContext::SESSION_CACHE_NO_INTERNAL_STORE</a>
と
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-s-e-s-s-i-o-n_-c-a-c-h-e_-n-o_-i-n-t-e-r-n-a-l_-l-o-o-k-u-p.html">OpenSSL::SSL::SSLContext::SESSION_CACHE_NO_INTERNAL_LOOKUP</a>
の両方を有効にすることを意味します。
</p>
<p>
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_cache_mode=3d.html">OpenSSL::SSL::SSLContext#session_cache_mode=</a> に渡すフラグとして用います。
</p>
</dd>


<dt class="method-heading" id="C_-S-E-S-S-I-O-N_-C-A-C-H-E_-N-O_-I-N-T-E-R-N-A-L_-L-O-O-K-U-P"><code>SESSION_CACHE_NO_INTERNAL_LOOKUP -&gt; Integer</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-s-e-s-s-i-o-n_-c-a-c-h-e_-n-o_-i-n-t-e-r-n-a-l_-l-o-o-k-u-p.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-c-SESSION_CACHE_NO_INTERNAL_LOOKUP">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
サーバ側でセッションキャッシュが必要になった場合
<a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context.html">OpenSSL::SSL::SSLContext</a> が保持するキャッシュ領域を探索しないことを意味します。
</p>
<p>
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_cache_mode=3d.html">OpenSSL::SSL::SSLContext#session_cache_mode=</a> に渡すフラグとして用います。
</p>
<p>
このフラグを ON にすると、キャッシュの探索が必要になった場合必ずコールバック(<a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context=23session_get_cb=3d.html">OpenSSL::SSL::SSLContext#session_get_cb=</a>
で設定したもの)を呼ぶようになります。
</p>
</dd>


<dt class="method-heading" id="C_-S-E-S-S-I-O-N_-C-A-C-H-E_-N-O_-I-N-T-E-R-N-A-L_-S-T-O-R-E"><code>SESSION_CACHE_NO_INTERNAL_STORE -&gt; Integer</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-s-e-s-s-i-o-n_-c-a-c-h-e_-n-o_-i-n-t-e-r-n-a-l_-s-t-o-r-e.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-c-SESSION_CACHE_NO_INTERNAL_STORE">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
セッションキャッシュを <a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context.html">OpenSSL::SSL::SSLContext</a> 内部のキャッシュ領域に保持しないことを意味します。
</p>
<p>
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_cache_mode=3d.html">OpenSSL::SSL::SSLContext#session_cache_mode=</a> に渡すフラグとして用います。
</p>
<p>
ハンドシェイクによってセッションが開始された場合にはそのセッションを <a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context.html">OpenSSL::SSL::SSLContext</a> 内部にキャッシュとして保持しますが、このフラグを有効にすると自動的にキャッシュされることはなくなります。
</p>
</dd>


<dt class="method-heading" id="C_-S-E-S-S-I-O-N_-C-A-C-H-E_-O-F-F"><code>SESSION_CACHE_OFF -&gt; Integer</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-s-e-s-s-i-o-n_-c-a-c-h-e_-o-f-f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-c-SESSION_CACHE_OFF">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
セッションをキャッシュしないことを意味します。
</p>
<p>
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_cache_mode=3d.html">OpenSSL::SSL::SSLContext#session_cache_mode=</a> に渡すフラグとして用います。
</p>
</dd>


<dt class="method-heading" id="C_-S-E-S-S-I-O-N_-C-A-C-H-E_-S-E-R-V-E-R"><code>SESSION_CACHE_SERVER -&gt; Integer</code><span class="permalink">[<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/c/-s-e-s-s-i-o-n_-c-a-c-h-e_-s-e-r-v-e-r.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/2.7.6/OpenSSL/SSL/SSLContext.html#method-c-SESSION_CACHE_SERVER">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
サーバ側でセッションをキャッシュすることを意味します。
</p>
<p>
<a href="../method/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context/i/session_cache_mode=3d.html">OpenSSL::SSL::SSLContext#session_cache_mode=</a> に渡すフラグとして用います。
</p>
<p>
このフラグが立っているとサーバ側の <a href="../class/-open-s-s-l=3a=3a-s-s-l=3a=3a-s-s-l-context.html">OpenSSL::SSL::SSLContext</a>
でセッションキャッシュの保持と管理、再利用が行われます。
</p>
<p>
このフラグはデフォルトで有効になっています。
</p>
</dd>


</dl>

</main>

<footer id="footer">
  <a rel="license" href="https://creativecommons.org/licenses/by/3.0/">
    <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/3.0/88x31.png" />
  </a>

  <a href="https://github.com/rurema/doctree/issues/new" id="feedback-link">フィードバックを送る</a>
  
  <script>if (window.URLSearchParams) { document.getElementById("feedback-link").search = new URLSearchParams({'body': document.location}); }</script>
</footer>
</body>
</html>
