<!DOCTYPE html>
<html lang="ja-JP">
<head>

<meta name="robots" content="noindex">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../style.css">
<link rel="stylesheet" href="../syntax-highlight.css">
<link rel="icon" type="image/png" href="../rurema.png">

<title>class Array (Ruby 3.1.2 リファレンスマニュアル)</title>
<meta name="description" content="配列クラスです。
配列は任意の Ruby オブジェクトを要素として持つことができます。">
<script src="../script.js"></script>
</head>
<body>


<header>
  <nav>
    <ol class="inline-breadcrumb-list">
      <li>
        <a href="../doc/index.html">Ruby 3.1.2 リファレンスマニュアル</a>
      </li>
      <li>
        <a href="../library/index.html">ライブラリ一覧</a>
      </li>
      <li>
        <a href="../library/_builtin.html">組み込みライブラリ</a>
      </li>
      <li>
        Arrayクラス
      </li>
    </ol>
  </nav>

<h1>class Array</h1>
</header>

<main>



  <nav>
    クラス・モジュールの継承リスト:
    <ol class="inline-ancestors-list">
      
        <li>
          <a href="../class/-basic-object.html">BasicObject</a>
        </li>
        
      
        <li>
          <a href="../class/-kernel.html">Kernel</a>
        </li>
        
      
        <li>
          <a href="../class/-object.html">Object</a>
        </li>
        
      
        <li>
          <a href="../class/-enumerable.html">Enumerable</a>
        </li>
        
      
      <li>
        Array
      </li>
    </ol>
  </nav>







<p>
  dynamic include:
  <a href="../class/-j-s-o-n=3a=3a-generator=3a=3a-generator-methods=3a=3a-array.html">JSON::Generator::GeneratorMethods::Array</a> (by <a href="../library/json.html">json</a>)
</p>





<h2>要約</h2>
<p>
配列クラスです。配列は任意の Ruby オブジェクトを要素として持つことができます。
</p>
<p>
一般的には配列は配列式を使って
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span>
</code></pre>
<p>
のように生成します。
</p>



<h2>目次</h2>
<dl>

<dt>特異メソッド</dt>
<dd>
<ul class="class-toc">

<li><a href="#S_--5B--5D">[]</a></li>

<li><a href="#S_NEW">new</a></li>

<li><a href="#S_TRY_CONVERT">try_convert</a></li>

</ul>
</dd>

<dt>インスタンスメソッド</dt>
<dd>
<ul class="class-toc">

<li><a href="#I_--26">&amp;</a></li>

<li><a href="#I_--2A">*</a></li>

<li><a href="#I_--2B">+</a></li>

<li><a href="#I_--2D">-</a></li>

<li><a href="#I_--3C--3C">&lt;&lt;</a></li>

<li><a href="#I_--3C--3D--3E">&lt;=&gt;</a></li>

<li><a href="#I_--3D--3D">==</a></li>

<li><a href="#I_--5B--5D">[]</a></li>

<li><a href="#I_--5B--5D--3D">[]=</a></li>

<li><a href="#I_--7C">|</a></li>

<li><a href="#I_ALL--3F">all?</a></li>

<li><a href="#I_ANY--3F">any?</a></li>

<li><a href="#I_APPEND">append</a></li>

<li><a href="#I_ASSOC">assoc</a></li>

<li><a href="#I_--5B--5D">at</a></li>

<li><a href="#I_BSEARCH">bsearch</a></li>

<li><a href="#I_BSEARCH_INDEX">bsearch_index</a></li>

<li><a href="#I_CLEAR">clear</a></li>

<li><a href="#I_CLONE">clone</a></li>

<li><a href="#I_COLLECT">collect</a></li>

<li><a href="#I_COLLECT--21">collect!</a></li>

<li><a href="#I_COMBINATION">combination</a></li>

<li><a href="#I_COMPACT">compact</a></li>

<li><a href="#I_COMPACT">compact!</a></li>

<li><a href="#I_CONCAT">concat</a></li>

<li><a href="#I_COUNT">count</a></li>

<li><a href="#I_CYCLE">cycle</a></li>

<li><a href="#I_DELETE">delete</a></li>

<li><a href="#I_DELETE_AT">delete_at</a></li>

<li><a href="#I_DELETE_IF">delete_if</a></li>

<li><a href="#I_DIFFERENCE">difference</a></li>

<li><a href="#I_DIG">dig</a></li>

<li><a href="#I_DROP">drop</a></li>

<li><a href="#I_DROP_WHILE">drop_while</a></li>

<li><a href="#I_CLONE">dup</a></li>

<li><a href="#I_EACH">each</a></li>

<li><a href="#I_EACH_INDEX">each_index</a></li>

<li><a href="#I_EMPTY--3F">empty?</a></li>

<li><a href="#I_EQL--3F">eql?</a></li>

<li><a href="#I_FETCH">fetch</a></li>

<li><a href="#I_FILL">fill</a></li>

<li><a href="#I_FILTER">filter</a></li>

<li><a href="#I_FILTER--21">filter!</a></li>

<li><a href="#I_FIND_INDEX">find_index</a></li>

<li><a href="#I_FIRST">first</a></li>

<li><a href="#I_FLATTEN">flatten</a></li>

<li><a href="#I_FLATTEN">flatten!</a></li>

<li><a href="#I_HASH">hash</a></li>

<li><a href="#I_INCLUDE--3F">include?</a></li>

<li><a href="#I_FIND_INDEX">index</a></li>

<li><a href="#I_INSERT">insert</a></li>

<li><a href="#I_INSPECT">inspect</a></li>

<li><a href="#I_INTERSECT--3F">intersect?</a></li>

<li><a href="#I_INTERSECTION">intersection</a></li>

<li><a href="#I_JOIN">join</a></li>

<li><a href="#I_KEEP_IF">keep_if</a></li>

<li><a href="#I_LAST">last</a></li>

<li><a href="#I_LENGTH">length</a></li>

<li><a href="#I_COLLECT">map</a></li>

<li><a href="#I_COLLECT--21">map!</a></li>

<li><a href="#I_MAX">max</a></li>

<li><a href="#I_MIN">min</a></li>

<li><a href="#I_MINMAX">minmax</a></li>

<li><a href="#I_NONE--3F">none?</a></li>

<li><a href="#I_ONE--3F">one?</a></li>

<li><a href="#I_PACK">pack</a></li>

<li><a href="#I_PERMUTATION">permutation</a></li>

<li><a href="#I_POP">pop</a></li>

<li><a href="#I_PREPEND">prepend</a></li>

<li><a href="#I_PRODUCT">product</a></li>

<li><a href="#I_APPEND">push</a></li>

<li><a href="#I_RASSOC">rassoc</a></li>

<li><a href="#I_REJECT">reject</a></li>

<li><a href="#I_DELETE_IF">reject!</a></li>

<li><a href="#I_REPEATED_COMBINATION">repeated_combination</a></li>

<li><a href="#I_REPEATED_PERMUTATION">repeated_permutation</a></li>

<li><a href="#I_REPLACE">replace</a></li>

<li><a href="#I_REVERSE">reverse</a></li>

<li><a href="#I_REVERSE">reverse!</a></li>

<li><a href="#I_REVERSE_EACH">reverse_each</a></li>

<li><a href="#I_RINDEX">rindex</a></li>

<li><a href="#I_ROTATE">rotate</a></li>

<li><a href="#I_ROTATE--21">rotate!</a></li>

<li><a href="#I_SAMPLE">sample</a></li>

<li><a href="#I_FILTER">select</a></li>

<li><a href="#I_FILTER--21">select!</a></li>

<li><a href="#I_SHIFT">shift</a></li>

<li><a href="#I_SHUFFLE">shuffle</a></li>

<li><a href="#I_SHUFFLE--21">shuffle!</a></li>

<li><a href="#I_LENGTH">size</a></li>

<li><a href="#I_SLICE">slice</a></li>

<li><a href="#I_SLICE--21">slice!</a></li>

<li><a href="#I_SORT">sort</a></li>

<li><a href="#I_SORT">sort!</a></li>

<li><a href="#I_SORT_BY--21">sort_by!</a></li>

<li><a href="#I_SUM">sum</a></li>

<li><a href="#I_TAKE">take</a></li>

<li><a href="#I_TAKE_WHILE">take_while</a></li>

<li><a href="#I_TO_A">to_a</a></li>

<li><a href="#I_TO_ARY">to_ary</a></li>

<li><a href="#I_TO_H">to_h</a></li>

<li><a href="#I_INSPECT">to_s</a></li>

<li><a href="#I_TRANSPOSE">transpose</a></li>

<li><a href="#I_UNION">union</a></li>

<li><a href="#I_UNIQ">uniq</a></li>

<li><a href="#I_UNIQ">uniq!</a></li>

<li><a href="#I_PREPEND">unshift</a></li>

<li><a href="#I_VALUES_AT">values_at</a></li>

<li><a href="#I_ZIP">zip</a></li>

</ul>
</dd>

</dl>




  <h2>継承しているメソッド</h2>
<dl>
  
<dt>Enumerableから継承しているメソッド</dt>
<dd>
  <ul class="class-toc">
    
      <li><a href="../method/-enumerable/i/chain.html">chain</a></li>
      
    
      <li><a href="../method/-enumerable/i/chunk.html">chunk</a></li>
      
    
      <li><a href="../method/-enumerable/i/chunk_while.html">chunk_while</a></li>
      
    
      <li><a href="../method/-enumerable/i/collect_concat.html">collect_concat</a></li>
      
    
      <li><a href="../method/-enumerable/i/detect.html">detect</a></li>
      
    
      <li><a href="../method/-enumerable/i/each_cons.html">each_cons</a></li>
      
    
      <li><a href="../method/-enumerable/i/each_entry.html">each_entry</a></li>
      
    
      <li><a href="../method/-enumerable/i/each_slice.html">each_slice</a></li>
      
    
      <li><a href="../method/-enumerable/i/each_with_index.html">each_with_index</a></li>
      
    
      <li><a href="../method/-enumerable/i/each_with_object.html">each_with_object</a></li>
      
    
      <li><a href="../method/-enumerable/i/entries.html">entries</a></li>
      
    
      <li><a href="../method/-enumerable/i/filter_map.html">filter_map</a></li>
      
    
      <li><a href="../method/-enumerable/i/detect.html">find</a></li>
      
    
      <li><a href="../method/-enumerable/i/filter.html">find_all</a></li>
      
    
      <li><a href="../method/-enumerable/i/collect_concat.html">flat_map</a></li>
      
    
      <li><a href="../method/-enumerable/i/grep.html">grep</a></li>
      
    
      <li><a href="../method/-enumerable/i/grep_v.html">grep_v</a></li>
      
    
      <li><a href="../method/-enumerable/i/group_by.html">group_by</a></li>
      
    
      <li><a href="../method/-enumerable/i/inject.html">inject</a></li>
      
    
      <li><a href="../method/-enumerable/i/lazy.html">lazy</a></li>
      
    
      <li><a href="../method/-enumerable/i/max_by.html">max_by</a></li>
      
    
      <li><a href="../method/-enumerable/i/include=3f.html">member?</a></li>
      
    
      <li><a href="../method/-enumerable/i/min_by.html">min_by</a></li>
      
    
      <li><a href="../method/-enumerable/i/minmax_by.html">minmax_by</a></li>
      
    
      <li><a href="../method/-enumerable/i/partition.html">partition</a></li>
      
    
      <li><a href="../method/-enumerable/i/inject.html">reduce</a></li>
      
    
      <li><a href="../method/-enumerable/i/slice_after.html">slice_after</a></li>
      
    
      <li><a href="../method/-enumerable/i/slice_before.html">slice_before</a></li>
      
    
      <li><a href="../method/-enumerable/i/slice_when.html">slice_when</a></li>
      
    
      <li><a href="../method/-enumerable/i/sort_by.html">sort_by</a></li>
      
    
      <li><a href="../method/-enumerable/i/tally.html">tally</a></li>
      
    
  </ul>
</dd>

</dl>


<h2>特異メソッド</h2>
<dl>

<dt class="method-heading" id="S_--5B--5D"><code>self[*item] -&gt; Array</code><span class="permalink">[<a href="../method/-array/s/=5b=5d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-c-5B-5D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
引数 item を要素として持つ配列を生成して返します。
</p>
<p>
<a href="../class/-array.html">Array</a> のサブクラスを作成したしたときに、そのサブクラスのインスタンスを作成しやすくするために用意されている。
</p>
<dl>
<dt class='method-param'>[PARAM] item:</dt>
<dd>
配列の要素を指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="no">Array</span><span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span> <span class="c1">#=&gt; [1, 2, 3]
</span>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">SubArray</span> <span class="o">&lt;</span> <span class="no">Array</span>
  <span class="c1"># ...
</span><span class="k">end</span>
<span class="nb">p</span> <span class="no">SubArray</span><span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span> <span class="c1"># =&gt; [1, 2, 3]
</span></code></pre>
</dd>


<dt class="method-heading" id="S_NEW"><code>new(size = 0, val = nil) -&gt; Array</code><span class="permalink">[<a href="../method/-array/s/new.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-c-new">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
長さ size の配列を生成し、各要素を val で初期化して返します。
</p>
<p>
要素毎に val が複製されるわけではないことに注意してください。全要素が同じオブジェクト val を参照します。後述の例では、配列の各要素は全て同一の文字列を指します。
</p>
<dl>
<dt class='method-param'>[PARAM] size:</dt>
<dd>
配列の長さを数値で指定します。
</dd>
<dt class='method-param'>[PARAM] val:</dt>
<dd>
配列の要素の値を指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span> <span class="no">Array</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="mi">3</span>, <span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span><span class="p">)</span>
<span class="nb">p</span> ary                     <span class="c1">#=&gt; [&quot;foo&quot;, &quot;foo&quot;, &quot;foo&quot;]
</span>ary<span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="p">.</span><span class="nf">capitalize!</span>
<span class="nb">p</span> ary                     <span class="c1">#=&gt; [&quot;Foo&quot;, &quot;Foo&quot;, &quot;Foo&quot;]  (各要素は同一のオブジェクトである)
</span></code></pre>
</dd>
<dt class="method-heading" id="S_NEW"><code>new(ary) -&gt; Array</code><span class="permalink">[<a href="../method/-array/s/new.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-c-new">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
指定された配列 ary を複製して返します。
<a href="../method/-array/i/dup.html">Array#dup</a> 同様 要素を複製しない浅い複製です。
</p>
<dl>
<dt class='method-param'>[PARAM] ary:</dt>
<dd>
複製したい配列を指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">p</span> <span class="no">Array</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span><span class="p">]</span><span class="p">)</span> <span class="c1"># =&gt; [1,2,3]
</span>
a <span class="o">=</span> <span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span><span class="p">]</span>
b <span class="o">=</span> <span class="no">Array</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span>a<span class="p">)</span>
a<span class="p">.</span><span class="nf">each</span><span class="p">{</span><span class="o">|</span>s<span class="o">|</span> s<span class="p">.</span><span class="nf">capitalize!</span> <span class="p">}</span>
<span class="nb">p</span> a                        <span class="c1">#=&gt; [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]
</span><span class="nb">p</span> b                        <span class="c1">#=&gt; [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]   (b は a と要素を共有する)
</span></code></pre>
</dd>
<dt class="method-heading" id="S_NEW"><code>new(size) {|index| ... } -&gt; Array</code><span class="permalink">[<a href="../method/-array/s/new.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-c-new">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
長さ size の配列を生成し、各要素のインデックスを引数としてブロックを実行し、各要素の値をブロックの評価結果に設定します。
</p>
<p>
ブロックは要素毎に実行されるので、全要素をあるオブジェクトの複製にすることができます。
</p>
<dl>
<dt class='method-param'>[PARAM] size:</dt>
<dd>
配列の長さを数値で指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span> <span class="no">Array</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="p">{</span><span class="o">|</span>index<span class="o">|</span> <span class="s2">"</span><span class="s2">hoge</span><span class="si">#{</span><span class="n">index</span><span class="si">}</span><span class="s2">"</span><span class="p">}</span>
<span class="nb">p</span> ary                      <span class="c1">#=&gt; [&quot;hoge0&quot;, &quot;hoge1&quot;, &quot;hoge2&quot;]
</span></code></pre>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span> <span class="no">Array</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="p">{</span> <span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span> <span class="p">}</span>
<span class="nb">p</span> ary                      <span class="c1">#=&gt; [&quot;foo&quot;, &quot;foo&quot;, &quot;foo&quot;]
</span>ary<span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="p">.</span><span class="nf">capitalize!</span>
<span class="nb">p</span> ary                      <span class="c1">#=&gt; [&quot;Foo&quot;, &quot;foo&quot;, &quot;foo&quot;]  (各要素は違うオブジェクトである)
</span></code></pre>
</dd>


<dt class="method-heading" id="S_TRY_CONVERT"><code>try_convert(obj) -&gt; Array | nil</code><span class="permalink">[<a href="../method/-array/s/try_convert.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-c-try_convert">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
to_ary メソッドを用いて obj を配列に変換しようとします。
</p>
<p>
何らかの理由で変換できないときには nil を返します。このメソッドは引数が配列であるかどうかを調べるために使えます。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="no">Array</span><span class="p">.</span><span class="nf">try_convert</span><span class="p">(</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="p">)</span>   <span class="c1"># =&gt; [1]
</span><span class="no">Array</span><span class="p">.</span><span class="nf">try_convert</span><span class="p">(</span><span class="s2">"</span><span class="s2">1</span><span class="s2">"</span><span class="p">)</span>   <span class="c1"># =&gt; nil
</span>
<span class="k">if</span> tmp <span class="o">=</span> <span class="no">Array</span><span class="p">.</span><span class="nf">try_convert</span><span class="p">(</span>arg<span class="p">)</span>
  <span class="c1"># the argument is an array
</span><span class="k">elsif</span> tmp <span class="o">=</span> <span class="no">String</span><span class="p">.</span><span class="nf">try_convert</span><span class="p">(</span>arg<span class="p">)</span>
  <span class="c1"># the argument is a string
</span><span class="k">end</span>
</code></pre>
</dd>


</dl>

<h2>インスタンスメソッド</h2>
<dl>

<dt class="method-heading" id="I_--26"><code>self &amp; other -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/=26.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-26">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
集合の積演算です。両方の配列に含まれる要素からなる新しい配列を返します。重複する要素は取り除かれます。
</p>
<p>
要素の重複判定は、<a href="../method/-object/i/eql=3f.html">Object#eql?</a> により行われます。
</p>
<p>
新しい配列における要素の順は self における要素の順と同じです。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
配列を指定します。配列以外のオブジェクトを指定した場合は to_ary メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に配列以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span><span class="mi">1</span>, <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span> <span class="o">&amp;</span> <span class="p">[</span><span class="mi">3</span>, <span class="mi">1</span>, <span class="mi">4</span><span class="p">]</span> <span class="c1">#=&gt; [1, 3]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/=7c.html">Array#|</a>, <a href="../method/-array/i/intersection.html">Array#intersection</a>
</p>
</dd>


<dt class="method-heading" id="I_--2A"><code>self * times -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/=2a.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-2A">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
配列の内容を times 回 繰り返した新しい配列を作成して返します。値はコピーされないことに注意してください。
</p>
<dl>
<dt class='method-param'>[PARAM] times:</dt>
<dd>
繰り返したい回数を整数で指定します。整数以外のオブジェクトを指定した場合は to_int メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
<dt>[EXCEPTION] ArgumentError:</dt>
<dd>
引数に負の数を指定した場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">p</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span>  <span class="c1">#=&gt; [1, 2, 3, 1, 2, 3, 1, 2, 3]
</span></code></pre>
</dd>
<dt class="method-heading" id="I_--2A"><code>self * sep -&gt; String</code><span class="permalink">[<a href="../method/-array/i/=2a.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-2A">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
指定された sep を間にはさんで連結した文字列を生成して返します。<a href="../method/-array/i/join.html">Array#join</a>(sep) と同じ動作をします。
</p>
<dl>
<dt class='method-param'>[PARAM] sep:</dt>
<dd>
文字列を指定します。文字列以外のオブジェクトを指定した場合は to_str メソッドによる暗黙の型変換を試みます。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">p</span> <span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="s2">"</span><span class="s2">,</span><span class="s2">"</span>
<span class="c1"># =&gt; &quot;1,2,3&quot;
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/join.html">Array#join</a>
</p>
</dd>


<dt class="method-heading" id="I_--2B"><code>self + other -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/=2b.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-2B">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身と other の内容を繋げた配列を生成して返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身と繋げたい配列を指定します。配列以外のオブジェクトを指定した場合は to_ary メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に配列以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span><span class="p">]</span>
b <span class="o">=</span> <span class="p">[</span><span class="mi">8</span>, <span class="mi">9</span><span class="p">]</span>
<span class="nb">p</span> a <span class="o">+</span> b     <span class="c1">#=&gt; [1, 2, 8, 9]
</span><span class="nb">p</span> a         <span class="c1">#=&gt; [1, 2]        (変化なし)
</span><span class="nb">p</span> b         <span class="c1">#=&gt; [8, 9]        (こちらも変化なし)
</span></code></pre>
</dd>


<dt class="method-heading" id="I_--2D"><code>self - other -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/=2d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-2D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身から other の要素を取り除いた配列を生成して返します。
</p>
<p>
要素の同一性は <a href="../method/-object/i/eql=3f.html">Object#eql?</a> により評価されます。
self 中で重複していて、other中に存在していなかった要素は、その重複が保持されます。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身から取り除きたい要素の配列を指定します。配列以外のオブジェクトを指定した場合は to_ary メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に配列以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">1</span>, <span class="mi">3</span>, <span class="mi">1</span>, <span class="mi">4</span><span class="p">]</span> <span class="o">-</span> <span class="p">[</span><span class="mi">4</span>, <span class="mi">2</span><span class="p">]</span>    <span class="c1"># =&gt; [1, 1, 3, 1]
</span>
<span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">1</span>, <span class="mi">3</span>, <span class="mi">1</span>, <span class="mi">4</span><span class="p">]</span> <span class="o">-</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">4</span><span class="p">]</span>    <span class="c1"># =&gt; [2, 3]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/difference.html">Array#difference</a>
</p>
</dd>


<dt class="method-heading" id="I_--3C--3C"><code>self &lt;&lt; obj -&gt; self</code><span class="permalink">[<a href="../method/-array/i/=3c=3c.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-3C-3C">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
指定された obj を自身の末尾に破壊的に追加します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
ary <span class="o">&lt;&lt;</span> <span class="mi">2</span>
<span class="nb">p</span> ary      <span class="c1"># [1, 2]
</span></code></pre>
<p>
またこのメソッドは self を返すので、以下のように連続して書くことができます。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
ary <span class="o">&lt;&lt;</span> <span class="mi">2</span> <span class="o">&lt;&lt;</span> <span class="mi">3</span> <span class="o">&lt;&lt;</span> <span class="mi">4</span>
<span class="nb">p</span> ary   <span class="c1">#=&gt; [1, 2, 3, 4]
</span></code></pre>
<dl>
<dt class='method-param'>[PARAM] obj:</dt>
<dd>
自身に加えたいオブジェクトを指定します。<a href="../method/-array/i/push.html">Array#push</a> と違って引数は一つしか指定できません。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-array/i/push.html">Array#push</a>
</p>
</dd>


<dt class="method-heading" id="I_--3C--3D--3E"><code>self &lt;=&gt; other -&gt; -1 | 0 | 1 | nil</code><span class="permalink">[<a href="../method/-array/i/=3c=3d=3e.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-3C-3D-3E">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身と other の各要素をそれぞれ順に &lt;=&gt; で比較していき、結果が 0 でなかった場合にその値を返します。各要素が等しく、配列の長さも等しい場合には 0 を返します。各要素が等しいまま一方だけ配列の末尾に達した時、自身の方が短ければ -1 をそうでなければ 1
を返します。
other に配列以外のオブジェクトを指定した場合は nil を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身と比較したい配列を指定します。配列以外のオブジェクトを指定した場合は to_ary メソッドによる暗黙の型変換を試みます。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span> <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span> <span class="p">]</span> <span class="o">&lt;=&gt;</span> <span class="p">[</span> <span class="mi">1</span>, <span class="mi">3</span>, <span class="mi">2</span> <span class="p">]</span>       <span class="c1">#=&gt; -1
</span><span class="p">[</span> <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span> <span class="p">]</span> <span class="o">&lt;=&gt;</span> <span class="p">[</span> <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span> <span class="p">]</span>       <span class="c1">#=&gt; 0
</span><span class="p">[</span> <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span> <span class="p">]</span> <span class="o">&lt;=&gt;</span> <span class="p">[</span> <span class="mi">1</span>, <span class="mi">2</span> <span class="p">]</span>          <span class="c1">#=&gt; 1
</span></code></pre>
</dd>


<dt class="method-heading" id="I_--3D--3D"><code>self == other -&gt; bool</code><span class="permalink">[<a href="../method/-array/i/=3d=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-3D-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身と other の各要素をそれぞれ順に == で比較して、全要素が等しければ true を返します。そうでない場合には false を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身と比較したい配列を指定します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-object/i/=3d=3d.html">Object#==</a>
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span> <span class="p">]</span>    <span class="o">==</span> <span class="p">[</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span>, <span class="mi">7</span> <span class="p">]</span>     <span class="c1">#=&gt; false
</span><span class="p">[</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span>, <span class="mi">7</span> <span class="p">]</span> <span class="o">==</span> <span class="p">[</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span>, <span class="mi">7</span> <span class="p">]</span>     <span class="c1">#=&gt; true
</span><span class="p">[</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span>, <span class="mi">7</span> <span class="p">]</span> <span class="o">==</span> <span class="p">[</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">d</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">f</span><span class="s2">"</span> <span class="p">]</span>   <span class="c1">#=&gt; false
</span></code></pre>
</dd>


<dt class="method-heading" id="I_--5B--5D"><code>self[nth] -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/=5b=5d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-5B-5D">rdoc</a>]</span></dt>
<dt class="method-heading"><code>at(nth) -&gt; object | nil</code></dt>
<dd class="method-description">
<p>
nth 番目の要素を返します。nth 番目の要素が存在しない時には nil を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] nth:</dt>
<dd>
インデックスを整数で指定します。先頭の要素が 0 番目になります。nth の値が負の時には末尾からのインデックスと見倣します。末尾の要素が -1 番目になります。整数以外のオブジェクトを指定した場合は to_int メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">d</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">e</span><span class="s2">"</span> <span class="p">]</span>
a<span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1">#=&gt; &quot;a&quot;
</span>a<span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="c1">#=&gt; &quot;b&quot;
</span>a<span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="c1">#=&gt; &quot;e&quot;
</span>a<span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="c1">#=&gt; &quot;d&quot;
</span>a<span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="c1">#=&gt; nil
</span></code></pre>
</dd>
<dt class="method-heading" id="I_--5B--5D"><code>self[range] -&gt; Array | nil</code><span class="permalink">[<a href="../method/-array/i/=5b=5d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-5B-5D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../class/-range.html">Range</a> オブジェクト range の範囲にある要素からなる部分配列を返します。
range の first の値が配列の範囲に収まらない場合 nil を返します。
range の first が end より後にある場合には空の配列を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] range:</dt>
<dd>
生成したい部分配列の範囲を <a href="../class/-range.html">Range</a> オブジェクトで指定します。
range の first や end の値が負の時には末尾からのインデックスと見倣します。末尾の要素が -1 番目になります。
end の値が配列の範囲を越える時には、越えた分は無視されます。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">d</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">e</span><span class="s2">"</span> <span class="p">]</span>
a<span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="mi">1</span><span class="p">]</span>   <span class="c1">#=&gt; [&quot;a&quot;, &quot;b&quot;]
</span>a<span class="p">[</span><span class="mi">0</span><span class="o">...</span><span class="mi">1</span><span class="p">]</span>  <span class="c1">#=&gt; [&quot;a&quot;]
</span>a<span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1">#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]
</span>a<span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="o">..</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="c1">#=&gt; [&quot;d&quot;, &quot;e&quot;]
</span>a<span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="o">..</span><span class="mi">4</span><span class="p">]</span>  <span class="c1">#=&gt; [&quot;d&quot;, &quot;e&quot;]  (start は末尾から -2 番目、end は先頭から (4+1) 番目となる。)
</span>a<span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="mi">10</span><span class="p">]</span>  <span class="c1">#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]
</span>a<span class="p">[</span><span class="mi">10</span><span class="o">..</span><span class="mi">11</span><span class="p">]</span> <span class="c1">#=&gt; nil
</span>a<span class="p">[</span><span class="mi">2</span><span class="o">..</span><span class="mi">1</span><span class="p">]</span>   <span class="c1">#=&gt; []
</span>a<span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="o">..</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="c1">#=&gt; []
</span>
<span class="c1"># 特殊なケース。first が自身の長さと同じ場合には以下のようになります。
</span>a<span class="p">[</span><span class="mi">5</span><span class="p">]</span>                   <span class="c1">#=&gt; nil
</span>a<span class="p">[</span><span class="mi">5</span>, <span class="mi">1</span><span class="p">]</span>                <span class="c1">#=&gt; []
</span>a<span class="p">[</span><span class="mi">5</span><span class="o">..</span><span class="mi">10</span><span class="p">]</span>               <span class="c1">#=&gt; []
</span></code></pre>
</dd>
<dt class="method-heading" id="I_--5B--5D"><code>self[start, length] -&gt; Array | nil</code><span class="permalink">[<a href="../method/-array/i/=5b=5d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-5B-5D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
start 番目から length 個の要素を含む部分配列を返します。
length が負の時、start が自身の範囲を越えた時には nil を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] start:</dt>
<dd>
生成したい部分配列の先頭のインデックスを整数で指定します。
start の値が負の時には末尾からのインデックスと見倣します。末尾の要素が -1 番目になります。整数以外のオブジェクトを指定した場合は to_int メソッドによる暗黙の型変換を試みます。
</dd>
<dt class='method-param'>[PARAM] length:</dt>
<dd>
生成したい部分配列の長さを整数で指定します。
length が start 番目からの配列の長さより長い時には、越えた分の長さは無視されます。整数以外のオブジェクトを指定した場合は to_int メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">d</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">e</span><span class="s2">"</span> <span class="p">]</span>
a<span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span><span class="p">]</span>    <span class="c1">#=&gt; [&quot;a&quot;]
</span>a<span class="p">[</span><span class="o">-</span><span class="mi">1</span>, <span class="mi">1</span><span class="p">]</span>   <span class="c1">#=&gt; [&quot;e&quot;]
</span>a<span class="p">[</span><span class="mi">0</span>, <span class="mi">10</span><span class="p">]</span>   <span class="c1">#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]
</span>a<span class="p">[</span><span class="mi">0</span>, <span class="mi">0</span><span class="p">]</span>    <span class="c1">#=&gt; []
</span>a<span class="p">[</span><span class="mi">0</span>, <span class="o">-</span><span class="mi">1</span><span class="p">]</span>   <span class="c1">#=&gt; nil
</span>a<span class="p">[</span><span class="mi">10</span>, <span class="mi">1</span><span class="p">]</span>   <span class="c1">#=&gt; nil
</span>
<span class="c1"># 特殊なケース。start が自身の長さと同じ場合には以下のようになります。
</span>a<span class="p">[</span><span class="mi">5</span><span class="p">]</span>                   <span class="c1">#=&gt; nil
</span>a<span class="p">[</span><span class="mi">5</span>, <span class="mi">1</span><span class="p">]</span>                <span class="c1">#=&gt; []
</span>a<span class="p">[</span><span class="mi">5</span><span class="o">..</span><span class="mi">10</span><span class="p">]</span>               <span class="c1">#=&gt; []
</span></code></pre>
</dd>


<dt class="method-heading" id="I_--5B--5D--3D"><code>self[nth] = val</code><span class="permalink">[<a href="../method/-array/i/=5b=5d=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-5B-5D-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
nth 番目の要素を val に設定します。nth が配列の範囲を越える時には配列の長さを自動的に拡張し、拡張した領域を nil で初期化します。
</p>
<dl>
<dt class='method-param'>[PARAM] nth:</dt>
<dd>
インデックスを整数で指定します。整数以外のオブジェクトを指定した場合は to_int メソッドによる暗黙の型変換を試みます。
</dd>
<dt class='method-param'>[PARAM] val:</dt>
<dd>
設定したい要素の値を指定します。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数 nth に整数以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
<dt>[EXCEPTION] IndexError:</dt>
<dd>
指定された nth が自身の始点よりも前を指している場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span>, <span class="mi">5</span><span class="p">]</span>
a<span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>
<span class="nb">p</span> a  <span class="c1">#=&gt; [&quot;a&quot;, 1, 2, 3, 4, 5]
</span>a<span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">x</span><span class="s2">"</span>
<span class="nb">p</span> a  <span class="c1">#=&gt; [&quot;a&quot;, 1, 2, 3, 4, 5, nil, nil, nil, nil, &quot;x&quot;]
</span>
a <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span>, <span class="mi">5</span><span class="p">]</span>
a<span class="p">[</span><span class="o">-</span><span class="mi">100</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>           <span class="c1">#=&gt; IndexError
</span></code></pre>
</dd>
<dt class="method-heading" id="I_--5B--5D--3D"><code>self[range] = val</code><span class="permalink">[<a href="../method/-array/i/=5b=5d=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-5B-5D-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
<a href="../class/-range.html">Range</a> オブジェクト range の範囲にある要素を配列 val の内容に置換します。
range の first が自身の末尾を越える時には配列の長さを自動的に拡張し、拡張した領域を nil で初期化します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span>, <span class="mi">5</span><span class="p">]</span>
ary<span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span><span class="p">]</span>
<span class="nb">p</span> ary  <span class="c1"># =&gt; [&quot;a&quot;, &quot;b&quot;, 3, 4, 5]
</span>
ary <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span><span class="p">]</span>
ary<span class="p">[</span><span class="mi">5</span><span class="o">..</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">x</span><span class="s2">"</span>
<span class="nb">p</span> ary  <span class="c1"># =&gt; [0, 1, 2, nil, nil, &quot;x&quot;]
</span>
ary <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span>, <span class="mi">5</span><span class="p">]</span>
ary<span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">x</span><span class="s2">"</span>
<span class="nb">p</span> ary  <span class="c1"># =&gt; [0, &quot;x&quot;, 4, 5]
</span></code></pre>
<dl>
<dt class='method-param'>[PARAM] range:</dt>
<dd>
設定したい配列の範囲を <a href="../class/-range.html">Range</a> オブジェクトで指定します。
range の first や end の値が負の時には末尾からのインデックスと見倣します。末尾の要素が -1 番目になります。
range の first が end より後にある場合には first の直前に val を挿入します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span>, <span class="mi">5</span><span class="p">]</span>
ary<span class="p">[</span><span class="mi">2</span><span class="o">..</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span><span class="p">]</span>
<span class="nb">p</span> ary   <span class="c1"># =&gt; [0, 1, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, 2, 3, 4, 5]
</span></code></pre>
<dl>
<dt class='method-param'>[PARAM] val:</dt>
<dd>
range の範囲に設定したい要素を配列で指定します。配列以外のオブジェクトを指定した場合は to_ary メソッドによる暗黙の型変換を試みます。to_ary メソッドに応答できない場合は
[val] を用います。
val の要素の数の方が range の長さより大きい時には、後ろの要素がずれます。
val が空の配列 [] なら start から end までの要素が削除されます。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span>, <span class="mi">5</span><span class="p">]</span>
ary<span class="p">[</span><span class="mi">2</span><span class="o">..</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="p">]</span>
<span class="nb">p</span> ary   <span class="c1"># =&gt; [0, 1, 5]
</span></code></pre>
<dl>
<dt>[EXCEPTION] RangeError:</dt>
<dd>
指定された範囲の始点が自身の始点よりも前にある場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span>, <span class="mi">5</span><span class="p">]</span>
a<span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="o">..</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>        <span class="c1">#=&gt; RangeError
</span></code></pre>
</dd>
<dt class="method-heading" id="I_--5B--5D--3D"><code>self[start, length] = val</code><span class="permalink">[<a href="../method/-array/i/=5b=5d=3d.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-5B-5D-3D">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
インデックス start から length 個の要素を配列 val の内容で置き換えます。
start が自身の末尾を越える時には配列の長さを自動的に拡張し、拡張した領域を nil で初期化します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span>
ary<span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">d</span><span class="s2">"</span><span class="p">]</span>
<span class="nb">p</span> ary                        <span class="c1">#=&gt; [0, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, 3]
</span>
ary <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span><span class="p">]</span>
ary<span class="p">[</span><span class="mi">5</span>, <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"</span><span class="s2">Z</span><span class="s2">"</span>
<span class="nb">p</span> ary                        <span class="c1">#=&gt; [0, 1, 2, nil, nil, &quot;Z&quot;]
</span>
ary <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span>
ary<span class="p">[</span><span class="mi">0</span>, <span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span><span class="p">]</span>
<span class="nb">p</span> ary                        <span class="c1">#=&gt; [&quot;a&quot;]
</span></code></pre>
<dl>
<dt class='method-param'>[PARAM] start:</dt>
<dd>
置き換えたい範囲の先頭のインデックスを指定します。
start の値が負の時には末尾からのインデックスと見倣します。末尾の要素が -1 番目になります。整数以外のオブジェクトを指定した場合は to_int メソッドによる暗黙の型変換を試みます。
</dd>
<dt class='method-param'>[PARAM] length:</dt>
<dd>
置き換えたい要素の個数を指定します。
length の値が 0 のときは start の直前に val を挿入します。整数以外のオブジェクトを指定した場合は to_int メソッドによる暗黙の型変換を試みます。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span>
ary<span class="p">[</span><span class="mi">1</span>, <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"</span><span class="s2">inserted</span><span class="s2">"</span><span class="p">]</span>
<span class="nb">p</span> ary                        <span class="c1"># =&gt; [0, &quot;inserted&quot;, 1, 2, 3]
</span></code></pre>
<dl>
<dt class='method-param'>[PARAM] val:</dt>
<dd>
設定したい要素を配列で指定します。配列以外のオブジェクトを指定した場合は to_ary メソッドによる暗黙の型変換を試みます。to_ary メソッドに応答できない場合は
[val] を用います。
val の長さが length と等しくない場合には、val の長さに合わせて要素が削除されたりずれたりします。
val が空の配列 [] なら start から end までの要素が削除されます。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span>, <span class="mi">5</span><span class="p">]</span>
a<span class="p">[</span><span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="p">]</span>
<span class="nb">p</span> a   <span class="c1"># =&gt; [0, 1, 5]
</span></code></pre>
<dl>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数 start、length に整数以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数 val に配列以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
<dt>[EXCEPTION] IndexError:</dt>
<dd>
引数 start が自身の始点よりも前を指している場合に発生します。
</dd>
<dt>[EXCEPTION] IndexError:</dt>
<dd>
引数 length に負の数を指定した場合に発生します。
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_ALL--3F"><code>all? -&gt; bool</code><span class="permalink">[<a href="../method/-array/i/all=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-all-3F">rdoc</a>]</span></dt>
<dt class="method-heading"><code>all? {|item| ... } -&gt; bool</code></dt>
<dt class="method-heading"><code>all?(pattern) -&gt; bool</code></dt>
<dd class="method-description">
<p>
すべての要素が真である場合に true を返します。偽である要素があれば、ただちに false を返します。
</p>
<p>
ブロックを伴う場合は、各要素に対してブロックを評価し、すべての結果が真である場合に true を返します。ブロックが偽を返した時点で、ただちに false を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] pattern:</dt>
<dd>
ブロックの代わりに各要素に対して pattern === item を評価します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="c1"># すべて正の数か？
</span><span class="nb">p</span> <span class="p">[</span><span class="mi">5</span>,  <span class="mi">6</span>, <span class="mi">7</span><span class="p">]</span><span class="p">.</span><span class="nf">all?</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> v <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">}</span>   <span class="c1"># =&gt; true
</span><span class="nb">p</span> <span class="p">[</span><span class="mi">5</span>, <span class="o">-</span><span class="mi">1</span>, <span class="mi">7</span><span class="p">]</span><span class="p">.</span><span class="nf">all?</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> v <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">}</span>   <span class="c1"># =&gt; false
</span><span class="nb">p</span> <span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">all?</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> v <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">}</span>           <span class="c1"># =&gt; true
</span><span class="nb">p</span> <span class="sx">%w[ant bear cat]</span><span class="p">.</span><span class="nf">all?</span><span class="p">(</span><span class="sr">/t/</span><span class="p">)</span>     <span class="c1"># =&gt; false
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-enumerable/i/all=3f.html">Enumerable#all?</a>
</p>
</dd>


<dt class="method-heading" id="I_ANY--3F"><code>any? -&gt; bool</code><span class="permalink">[<a href="../method/-array/i/any=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-any-3F">rdoc</a>]</span></dt>
<dt class="method-heading"><code>any? {|item| ... } -&gt; bool</code></dt>
<dt class="method-heading"><code>any?(pattern) -&gt; bool</code></dt>
<dd class="method-description">
<p>
すべての要素が偽である場合に false を返します。真である要素があれば、ただちに true を返します。
</p>
<p>
ブロックを伴う場合は、各要素に対してブロックを評価し、すべての結果が偽である場合に false を返します。ブロックが真を返した時点で、ただちに true を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] pattern:</dt>
<dd>
ブロックの代わりに各要素に対して pattern === item を評価します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">p</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span><span class="p">.</span><span class="nf">any?</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> v <span class="o">&gt;</span> <span class="mi">3</span> <span class="p">}</span>   <span class="c1"># =&gt; false
</span><span class="nb">p</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span><span class="p">.</span><span class="nf">any?</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> v <span class="o">&gt;</span> <span class="mi">1</span> <span class="p">}</span>   <span class="c1"># =&gt; true
</span><span class="nb">p</span> <span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">any?</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> v <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">}</span>          <span class="c1"># =&gt; false
</span><span class="nb">p</span> <span class="sx">%w[ant bear cat]</span><span class="p">.</span><span class="nf">any?</span><span class="p">(</span><span class="sr">/d/</span><span class="p">)</span>    <span class="c1"># =&gt; false
</span><span class="nb">p</span> <span class="p">[</span><span class="k">nil</span>, <span class="k">true</span>, <span class="mi">99</span><span class="p">]</span><span class="p">.</span><span class="nf">any?</span><span class="p">(</span><span class="no">Integer</span><span class="p">)</span> <span class="c1"># =&gt; true
</span><span class="nb">p</span> <span class="p">[</span><span class="k">nil</span>, <span class="k">true</span>, <span class="mi">99</span><span class="p">]</span><span class="p">.</span><span class="nf">any?</span>          <span class="c1"># =&gt; true
</span><span class="nb">p</span> <span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">any?</span>                       <span class="c1"># =&gt; false
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-enumerable/i/any=3f.html">Enumerable#any?</a>
</p>
</dd>


<dt class="method-heading" id="I_APPEND"><code>push(*obj) -&gt; self</code><span class="permalink">[<a href="../method/-array/i/append.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-append">rdoc</a>]</span></dt>
<dt class="method-heading"><code>append(*obj) -&gt; self</code></dt>
<dd class="method-description">
<p>
指定された obj を順番に配列の末尾に追加します。引数を指定しなければ何もしません。
</p>
<dl>
<dt class='method-param'>[PARAM] obj:</dt>
<dd>
自身に追加したいオブジェクトを指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
array <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span>
array<span class="p">.</span><span class="nf">push</span> <span class="mi">4</span>
array<span class="p">.</span><span class="nf">push</span> <span class="p">[</span><span class="mi">5</span>, <span class="mi">6</span><span class="p">]</span>
array<span class="p">.</span><span class="nf">push</span> <span class="mi">7</span>, <span class="mi">8</span>
<span class="nb">p</span> array          <span class="c1"># =&gt; [1, 2, 3, 4, [5, 6], 7, 8]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/pop.html">Array#pop</a>, <a href="../method/-array/i/shift.html">Array#shift</a>, <a href="../method/-array/i/unshift.html">Array#unshift</a>, <a href="../method/-array/i/=3c=3c.html">Array#&lt;&lt;</a>
</p>
</dd>


<dt class="method-heading" id="I_ASSOC"><code>assoc(key) -&gt; Array | nil</code><span class="permalink">[<a href="../method/-array/i/assoc.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-assoc">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
配列の配列を検索して、その 0 番目の要素が key に == で等しい最初の要素を返します。該当する要素がなければ nil を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] key:</dt>
<dd>
検索するオブジェクトを指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span> <span class="p">[</span><span class="p">[</span><span class="mi">1</span>,<span class="mi">15</span><span class="p">]</span>, <span class="p">[</span><span class="mi">2</span>,<span class="mi">25</span><span class="p">]</span>, <span class="p">[</span><span class="mi">3</span>,<span class="mi">35</span><span class="p">]</span><span class="p">]</span>
<span class="nb">p</span> ary<span class="p">.</span><span class="nf">assoc</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>           <span class="c1"># =&gt; [2, 25]
</span><span class="nb">p</span> ary<span class="p">.</span><span class="nf">assoc</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>         <span class="c1"># =&gt; nil
</span><span class="nb">p</span> ary<span class="p">.</span><span class="nf">assoc</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>          <span class="c1"># =&gt; nil
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/rassoc.html">Array#rassoc</a>
</p>
</dd>


<dt class="method-heading" id="I_BSEARCH"><code>bsearch { |x| ... } -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/bsearch.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-bsearch">rdoc</a>]</span></dt>
<dt class="method-heading"><code>bsearch -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
ブロックの評価結果で範囲内の各要素の判定を行い、条件を満たす値を二分探索(計算量は O(log n))で検索します。要素が見つからない場合は nil を返します。self はあらかじめソートしておく必要があります。
</p>
<p>
本メソッドはブロックを評価した結果により以下のいずれかのモードで動作します。
</p>
<ul>
<li>find-minimum モード</li>
<li>find-any モード</li>
</ul>
<p>
find-minimum モード(特に理由がない限りはこのモードを使う方がいいでしょう)では、条件判定の結果を以下のようにする必要があります。
</p>
<ul>
<li>求める値がブロックパラメータの値か前の要素の場合: true を返す</li>
<li>求める値がブロックパラメータより後の要素の場合: false を返す</li>
</ul>
<p>
ブロックの評価結果が true になる最初の要素を返すか、nil を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">4</span>, <span class="mi">7</span>, <span class="mi">10</span>, <span class="mi">12</span><span class="p">]</span>
ary<span class="p">.</span><span class="nf">bsearch</span> <span class="p">{</span><span class="o">|</span>x<span class="o">|</span> x <span class="o">&gt;=</span>   <span class="mi">4</span> <span class="p">}</span> <span class="c1"># =&gt; 4
</span>ary<span class="p">.</span><span class="nf">bsearch</span> <span class="p">{</span><span class="o">|</span>x<span class="o">|</span> x <span class="o">&gt;=</span>   <span class="mi">6</span> <span class="p">}</span> <span class="c1"># =&gt; 7
</span>ary<span class="p">.</span><span class="nf">bsearch</span> <span class="p">{</span><span class="o">|</span>x<span class="o">|</span> x <span class="o">&gt;=</span>  <span class="o">-</span><span class="mi">1</span> <span class="p">}</span> <span class="c1"># =&gt; 0
</span>ary<span class="p">.</span><span class="nf">bsearch</span> <span class="p">{</span><span class="o">|</span>x<span class="o">|</span> x <span class="o">&gt;=</span> <span class="mi">100</span> <span class="p">}</span> <span class="c1"># =&gt; nil
</span></code></pre>
<p>
find-any モードは <a class="external" href="http://www.opengroup.org/onlinepubs/009695399/functions/bsearch.html">bsearch(3)</a> のように動作します。ブロックは真偽値ではなく、以下のような数値を返す必要があります。求める要素が配列の i 番目から j-1 番目までに入っているとします。またブロックパラメータの値のインデックスを k とします。
</p>
<ul>
<li>ブロックパラメータの値が求める値の範囲よりも小さい（0 &lt;= k &lt; i）場合: 正の数を返す</li>
<li>ブロックパラメータの値が求める値の範囲に合致する（i &lt;= k &lt; j）場合: 0 を返す</li>
<li>ブロックパラメータの値が求める値の範囲よりも大きい（j &lt;= k &lt; self.size）場合: 負の数を返す</li>
</ul>
<p>
ブロックの評価結果が 0 になるいずれかの要素を返すか、nil を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">4</span>, <span class="mi">7</span>, <span class="mi">10</span>, <span class="mi">12</span><span class="p">]</span>
<span class="c1"># 4 &lt;= v &lt; 8 になる要素を検索
</span>ary<span class="p">.</span><span class="nf">bsearch</span> <span class="p">{</span><span class="o">|</span>x<span class="o">|</span> <span class="mi">1</span> <span class="o">-</span> x <span class="o">/</span> <span class="mi">4</span> <span class="p">}</span> <span class="c1"># =&gt; 4 or 7
</span><span class="c1"># 8 &lt;= v &lt; 10 になる要素を検索
</span>ary<span class="p">.</span><span class="nf">bsearch</span> <span class="p">{</span><span class="o">|</span>x<span class="o">|</span> <span class="mi">4</span> <span class="o">-</span> x <span class="o">/</span> <span class="mi">2</span> <span class="p">}</span> <span class="c1"># =&gt; nil
</span></code></pre>
<p>
上記の 2 つのモードを混在して使用しないでください(ブロックの評価結果は常に true/false、数値のいずれかを一貫して返すようにしてください)。また、二分探索の各イテレーションで値がどのような順序で選ばれるかは未規定です。
</p>
<p>
ブロックが与えられなかった場合は、 <a href="../class/-enumerator.html">Enumerator</a> のインスタンスを返します。
</p>
<dl>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
ブロックの評価結果が true、false、nil、数値以外であった場合に発生します。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-array/i/bsearch_index.html">Array#bsearch_index</a>, <a href="../method/-range/i/bsearch.html">Range#bsearch</a>, <a class="external" href="https://magazine.rubyist.net/articles/0041/0041-200Special-note.html">https://magazine.rubyist.net/articles/0041/0041-200Special-note.html</a>
</p>
</dd>


<dt class="method-heading" id="I_BSEARCH_INDEX"><code>bsearch_index { |x| ... } -&gt; Integer | nil</code><span class="permalink">[<a href="../method/-array/i/bsearch_index.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-bsearch_index">rdoc</a>]</span></dt>
<dt class="method-heading"><code>bsearch_index -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
ブロックの評価結果で範囲内の各要素の判定を行い、条件を満たす値の位置を二分探索(計算量は O(log n))で検索します。要素が見つからない場合は nil
を返します。self はあらかじめソートしておく必要があります。
</p>
<p>
本メソッドは<a href="../method/-array/i/bsearch.html">Array#bsearch</a>と同様に、ブロックを評価した結果により2
つのモードで動作します。<a href="../method/-array/i/bsearch.html">Array#bsearch</a> との違いは見つかった要素自身を返すか位置を返すかのみです。各モードのより詳細な違いについては
<a href="../method/-array/i/bsearch.html">Array#bsearch</a> を参照してください。
</p>
<pre class="highlight ruby">
<span class="caption">例: find-minimum モード</span>
<code>
ary <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">4</span>, <span class="mi">7</span>, <span class="mi">10</span>, <span class="mi">12</span><span class="p">]</span>
ary<span class="p">.</span><span class="nf">bsearch_index</span> <span class="p">{</span> <span class="o">|</span>x<span class="o">|</span> x <span class="o">&gt;=</span>   <span class="mi">4</span> <span class="p">}</span> <span class="c1"># =&gt; 1
</span>ary<span class="p">.</span><span class="nf">bsearch_index</span> <span class="p">{</span> <span class="o">|</span>x<span class="o">|</span> x <span class="o">&gt;=</span>   <span class="mi">6</span> <span class="p">}</span> <span class="c1"># =&gt; 2
</span>ary<span class="p">.</span><span class="nf">bsearch_index</span> <span class="p">{</span> <span class="o">|</span>x<span class="o">|</span> x <span class="o">&gt;=</span>  <span class="o">-</span><span class="mi">1</span> <span class="p">}</span> <span class="c1"># =&gt; 0
</span>ary<span class="p">.</span><span class="nf">bsearch_index</span> <span class="p">{</span> <span class="o">|</span>x<span class="o">|</span> x <span class="o">&gt;=</span> <span class="mi">100</span> <span class="p">}</span> <span class="c1"># =&gt; nil
</span></code></pre>
<pre class="highlight ruby">
<span class="caption">例: find-any モード</span>
<code>
ary <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">4</span>, <span class="mi">7</span>, <span class="mi">10</span>, <span class="mi">12</span><span class="p">]</span>
<span class="c1"># 4 &lt;= v &lt; 8 になる要素の位置を検索
</span>ary<span class="p">.</span><span class="nf">bsearch_index</span> <span class="p">{</span> <span class="o">|</span>x<span class="o">|</span> <span class="mi">1</span> <span class="o">-</span> x <span class="o">/</span> <span class="mi">4</span> <span class="p">}</span> <span class="c1"># =&gt; 2
</span><span class="c1"># 8 &lt;= v &lt; 10 になる要素の位置を検索
</span>ary<span class="p">.</span><span class="nf">bsearch_index</span> <span class="p">{</span> <span class="o">|</span>x<span class="o">|</span> <span class="mi">4</span> <span class="o">-</span> x <span class="o">/</span> <span class="mi">2</span> <span class="p">}</span> <span class="c1"># =&gt; nil
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/bsearch.html">Array#bsearch</a>
</p>
</dd>


<dt class="method-heading" id="I_CLEAR"><code>clear -&gt; self</code><span class="permalink">[<a href="../method/-array/i/clear.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-clear">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
配列の要素をすべて削除して空にします。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span><span class="p">]</span>
ary<span class="p">.</span><span class="nf">clear</span>
<span class="nb">p</span> ary     <span class="c1">#=&gt; []
</span></code></pre>
</dd>


<dt class="method-heading" id="I_CLONE"><code>clone -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/clone.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-clone">rdoc</a>]</span></dt>
<dt class="method-heading"><code>dup -&gt; Array</code></dt>
<dd class="method-description">
<p>
レシーバと同じ内容を持つ新しい配列を返します。
</p>
<p>
clone は frozen singleton-class の情報も含めてコピーしますが、
dup は内容だけをコピーします。またどちらのメソッドも要素それ自体のコピーはしません。つまり参照しているオブジェクトが変わらない「浅い(shallow)」コピーを行います。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span> <span class="p">[</span><span class="s1">'string'</span><span class="p">]</span>
<span class="nb">p</span> ary             <span class="c1">#=&gt; [&quot;string&quot;]
</span>copy <span class="o">=</span> ary<span class="p">.</span><span class="nf">dup</span>
<span class="nb">p</span> copy            <span class="c1">#=&gt; [&quot;string&quot;]
</span>
ary<span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="p">[</span><span class="mi">0</span><span class="o">...</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s1">''</span>
<span class="nb">p</span> ary             <span class="c1">#=&gt; [&quot;ing&quot;]
</span><span class="nb">p</span> copy            <span class="c1">#=&gt; [&quot;ing&quot;]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_COLLECT"><code>collect -&gt; Enumerator</code><span class="permalink">[<a href="../method/-array/i/collect.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-collect">rdoc</a>]</span></dt>
<dt class="method-heading"><code>map -&gt; Enumerator</code></dt>
<dt class="method-heading"><code>collect {|item| ... } -&gt; [object]</code></dt>
<dt class="method-heading"><code>map {|item| ... } -&gt; [object]</code></dt>
<dd class="method-description">
<p>
各要素に対してブロックを評価した結果を全て含む配列を返します。
</p>
<p>
ブロックを省略した場合は <a href="../class/-enumerator.html">Enumerator</a> を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="c1"># すべて 3 倍にする
</span><span class="nb">p</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span><span class="p">.</span><span class="nf">map</span> <span class="p">{</span><span class="o">|</span>n<span class="o">|</span> n <span class="o">*</span> <span class="mi">3</span> <span class="p">}</span>  <span class="c1"># =&gt; [3, 6, 9]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/to_h.html">Hash#to_h</a>, <a href="../method/-enumerable/i/collect.html">Enumerable#collect</a>, <a href="../method/-enumerable/i/map.html">Enumerable#map</a>
</p>
</dd>


<dt class="method-heading" id="I_COLLECT--21"><code>collect! {|item| ..} -&gt; self</code><span class="permalink">[<a href="../method/-array/i/collect=21.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-collect-21">rdoc</a>]</span></dt>
<dt class="method-heading"><code>map! {|item| ..} -&gt; self</code></dt>
<dt class="method-heading"><code>collect! -&gt; Enumerator</code></dt>
<dt class="method-heading"><code>map! -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
各要素を順番にブロックに渡して評価し、その結果で要素を置き換えます。
</p>
<p>
ブロックが与えられなかった場合は、自身と map! から生成した
<a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span>
ary<span class="p">.</span><span class="nf">map!</span> <span class="p">{</span><span class="o">|</span>i<span class="o">|</span> i <span class="o">*</span> <span class="mi">3</span> <span class="p">}</span>
<span class="nb">p</span> ary   <span class="c1">#=&gt; [3, 6, 9]
</span>
ary <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span>
e <span class="o">=</span> ary<span class="p">.</span><span class="nf">map!</span>
e<span class="p">.</span><span class="nf">each</span><span class="p">{</span> <span class="mi">1</span> <span class="p">}</span>
<span class="nb">p</span> ary           <span class="c1">#=&gt; [1, 1, 1]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/collect.html">Array#collect</a>,  <a href="../class/-enumerator.html">Enumerator</a>
</p>
</dd>


<dt class="method-heading" id="I_COMBINATION"><code>combination(n) {|c| block } -&gt; self</code><span class="permalink">[<a href="../method/-array/i/combination.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-combination">rdoc</a>]</span></dt>
<dt class="method-heading"><code>combination(n) -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
サイズ n の組み合わせをすべて生成し、それを引数としてブロックを実行します。
</p>
<p>
得られる組み合わせの順序は保証されません。ブロックなしで呼び出されると、組み合わせを生成する <a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
生成される配列のサイズを整数で指定します。整数以外のオブジェクトを指定した場合は to_int メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span><span class="p">]</span>
a<span class="p">.</span><span class="nf">combination</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="p">.</span><span class="nf">to_a</span>  <span class="c1">#=&gt; [[1],[2],[3],[4]]
</span>a<span class="p">.</span><span class="nf">combination</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="p">.</span><span class="nf">to_a</span>  <span class="c1">#=&gt; [[1,2],[1,3],[1,4],[2,3],[2,4],[3,4]]
</span>a<span class="p">.</span><span class="nf">combination</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="p">.</span><span class="nf">to_a</span>  <span class="c1">#=&gt; [[1,2,3],[1,2,4],[1,3,4],[2,3,4]]
</span>a<span class="p">.</span><span class="nf">combination</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="p">.</span><span class="nf">to_a</span>  <span class="c1">#=&gt; [[1,2,3,4]]
</span>a<span class="p">.</span><span class="nf">combination</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="p">.</span><span class="nf">to_a</span>  <span class="c1">#=&gt; [[]]: one combination of length 0
</span>a<span class="p">.</span><span class="nf">combination</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="p">.</span><span class="nf">to_a</span>  <span class="c1">#=&gt; []  : no combinations of length 5
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/permutation.html">Array#permutation</a>, <a href="../method/-array/i/repeated_combination.html">Array#repeated_combination</a>
</p>
</dd>


<dt class="method-heading" id="I_COMPACT"><code>compact -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/compact.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-compact">rdoc</a>]</span></dt>
<dt class="method-heading"><code>compact! -&gt; self | nil</code></dt>
<dd class="method-description">
<p>
compact は自身から nil を取り除いた配列を生成して返します。
compact! は自身から破壊的に nil を取り除き、変更が行われた場合は self を、そうでなければ nil を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="k">nil</span>, <span class="mi">2</span>, <span class="k">nil</span>, <span class="mi">3</span>, <span class="k">nil</span><span class="p">]</span>
<span class="nb">p</span> ary<span class="p">.</span><span class="nf">compact</span>   <span class="c1">#=&gt; [1, 2, 3]
</span><span class="nb">p</span> ary           <span class="c1">#=&gt; [1, nil, 2, nil, 3, nil]
</span>ary<span class="p">.</span><span class="nf">compact!</span>
<span class="nb">p</span> ary           <span class="c1">#=&gt; [1, 2, 3]
</span><span class="nb">p</span> ary<span class="p">.</span><span class="nf">compact!</span>  <span class="c1">#=&gt; nil
</span></code></pre>
</dd>


<dt class="method-heading" id="I_CONCAT"><code>concat(other) -&gt; self</code><span class="permalink">[<a href="../method/-array/i/concat.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-concat">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
配列 other を自身の末尾に破壊的に連結します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身と連結したい配列を指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
array <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span><span class="p">]</span>
a     <span class="o">=</span> <span class="p">[</span><span class="mi">3</span>, <span class="mi">4</span><span class="p">]</span>
array<span class="p">.</span><span class="nf">concat</span> a
<span class="nb">p</span> array          <span class="c1"># =&gt; [1, 2, 3, 4]
</span><span class="nb">p</span> a              <span class="c1"># =&gt; [3, 4]       # こちらは変わらない
</span></code></pre>
</dd>
<dt class="method-heading" id="I_CONCAT"><code>concat(*other_arrays) -&gt; self</code><span class="permalink">[<a href="../method/-array/i/concat.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-concat">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
other_arrays の要素を自身の末尾に破壊的に連結します。
</p>
<dl>
<dt class='method-param'>[PARAM] other_arrays:</dt>
<dd>
自身と連結したい配列を指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span> <span class="p">]</span><span class="p">.</span><span class="nf">concat</span><span class="p">(</span> <span class="p">[</span><span class="s2">"</span><span class="s2">c</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">d</span><span class="s2">"</span><span class="p">]</span> <span class="p">)</span> <span class="c1">#=&gt; [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot; ]
</span><span class="p">[</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span> <span class="p">]</span><span class="p">.</span><span class="nf">concat</span><span class="p">(</span> <span class="p">[</span><span class="s2">"</span><span class="s2">b</span><span class="s2">"</span><span class="p">]</span>, <span class="p">[</span><span class="s2">"</span><span class="s2">c</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">d</span><span class="s2">"</span><span class="p">]</span> <span class="p">)</span> <span class="c1">#=&gt; [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot; ]
</span><span class="p">[</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span> <span class="p">]</span><span class="p">.</span><span class="nf">concat</span> <span class="c1">#=&gt; [ &quot;a&quot; ]
</span>
a <span class="o">=</span> <span class="p">[</span> <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span> <span class="p">]</span>
a<span class="p">.</span><span class="nf">concat</span><span class="p">(</span> <span class="p">[</span> <span class="mi">4</span>, <span class="mi">5</span> <span class="p">]</span> <span class="p">)</span>
a                                 <span class="c1">#=&gt; [ 1, 2, 3, 4, 5 ]
</span>
a <span class="o">=</span> <span class="p">[</span> <span class="mi">1</span>, <span class="mi">2</span> <span class="p">]</span>
a<span class="p">.</span><span class="nf">concat</span><span class="p">(</span>a, a<span class="p">)</span>                    <span class="c1">#=&gt; [1, 2, 1, 2, 1, 2]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/=2b.html">Array#+</a>
</p>
</dd>


<dt class="method-heading" id="I_COUNT"><code>count -&gt; Integer</code><span class="permalink">[<a href="../method/-array/i/count.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-count">rdoc</a>]</span></dt>
<dt class="method-heading"><code>count(item) -&gt; Integer</code></dt>
<dt class="method-heading"><code>count {|obj| ... } -&gt; Integer</code></dt>
<dd class="method-description">
<p>
レシーバの要素数を返します。
</p>
<p>
引数を指定しない場合は、配列の要素数を返します。
</p>
<p>
引数を一つ指定した場合は、レシーバの要素のうち引数に一致するものの個数をカウントして返します(一致は == で判定します)。
</p>
<p>
ブロックを指定した場合は、ブロックを評価して真になった要素の個数をカウントして返します。
</p>
<dl>
<dt class='method-param'>[PARAM] item:</dt>
<dd>
カウント対象となる値。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">4</span>, <span class="mf">2.0</span><span class="p">]</span>
ary<span class="p">.</span><span class="nf">count</span>             <span class="c1"># =&gt; 4
</span>ary<span class="p">.</span><span class="nf">count</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>          <span class="c1"># =&gt; 2
</span>ary<span class="p">.</span><span class="nf">count</span><span class="p">{</span><span class="o">|</span>x<span class="o">|</span>x<span class="o">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">0</span><span class="p">}</span>  <span class="c1"># =&gt; 3
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-enumerable/i/count.html">Enumerable#count</a>
</p>
</dd>


<dt class="method-heading" id="I_CYCLE"><code>cycle(n=nil) {|obj| block } -&gt; nil</code><span class="permalink">[<a href="../method/-array/i/cycle.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-cycle">rdoc</a>]</span></dt>
<dt class="method-heading"><code>cycle(n=nil) -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
配列の全要素を n 回(nilの場合は無限に)繰り返しブロックを呼びだします。
</p>
<p>
ブロックを省略した場合は <a href="../class/-enumerator.html">Enumerator</a> を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
繰り返したい回数を整数で指定します。整数以外のオブジェクトを指定した場合は to_int メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span><span class="p">]</span>
a<span class="p">.</span><span class="nf">cycle</span> <span class="p">{</span><span class="o">|</span>x<span class="o">|</span> <span class="nb">puts</span> x <span class="p">}</span>  <span class="c1"># print, a, b, c, a, b, c,.. forever.
</span></code></pre>
</dd>


<dt class="method-heading" id="I_DELETE"><code>delete(val) -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/delete.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-delete">rdoc</a>]</span></dt>
<dt class="method-heading"><code>delete(val) { ... } -&gt; object</code></dt>
<dd class="method-description">
<p>
指定された val と == で等しい要素を自身からすべて取り除きます。等しい要素が見つかった場合は最後に見つかった要素を、そうでない場合には nil を返します。
</p>
<p>
ブロックが与えられた場合、val と等しい要素が見つからなかったときにブロックを評価してその結果を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] val:</dt>
<dd>
自身から削除したい値を指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
array <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">2</span>, <span class="mi">1</span><span class="p">]</span>
<span class="nb">p</span> array<span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>       <span class="c1">#=&gt; 2
</span><span class="nb">p</span> array                 <span class="c1">#=&gt; [1, 3, 1]
</span>
<span class="c1"># ブロックなしの引数に nil を渡すとその戻り値から削除が
</span><span class="c1"># 行われたかどうかの判定をすることはできない
</span>ary <span class="o">=</span> <span class="p">[</span><span class="k">nil</span>,<span class="k">nil</span>,<span class="k">nil</span><span class="p">]</span>
<span class="nb">p</span> ary<span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="k">nil</span><span class="p">)</span>       <span class="c1">#=&gt; nil
</span><span class="nb">p</span> ary                   <span class="c1">#=&gt; []
</span><span class="nb">p</span> ary<span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="k">nil</span><span class="p">)</span>       <span class="c1">#=&gt; nil
</span></code></pre>
</dd>


<dt class="method-heading" id="I_DELETE_AT"><code>delete_at(pos) -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/delete_at.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-delete_at">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
指定された位置 pos にある要素を取り除きそれを返します。
pos が範囲外であったら nil を返します。
</p>
<p>
<a href="../method/-array/i/at.html">Array#at</a> と同様に負のインデックスで末尾から位置を指定することができます。
</p>
<dl>
<dt class='method-param'>[PARAM] pos:</dt>
<dd>
削除したい要素のインデックスを整数で指定します。整数以外のオブジェクトを指定した場合は to_int メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
array <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span><span class="p">]</span>
array<span class="p">.</span><span class="nf">delete_at</span> <span class="mi">2</span>
<span class="nb">p</span> array             <span class="c1">#=&gt; [0, 1, 3, 4]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_DELETE_IF"><code>delete_if {|x| ... } -&gt; self</code><span class="permalink">[<a href="../method/-array/i/delete_if.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-delete_if">rdoc</a>]</span></dt>
<dt class="method-heading"><code>reject! {|x| ... } -&gt; self | nil</code></dt>
<dt class="method-heading"><code>delete_if -&gt; Enumerator</code></dt>
<dt class="method-heading"><code>reject! -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
要素を順番にブロックに渡して評価し、その結果が真になった要素をすべて削除します。
delete_if は常に self を返しますが、reject! は要素が 1 つ以上削除されれば self を、
1 つも削除されなければ nil を返します。
</p>
<p>
ブロックが与えられなかった場合は、自身と reject! から生成した
<a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。返された Enumerator オブジェクトの each メソッドには、もとの配列に対して副作用があることに注意してください。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span>, <span class="mi">5</span><span class="p">]</span>
a<span class="p">.</span><span class="nf">delete_if</span><span class="p">{</span><span class="o">|</span>x<span class="o">|</span> x <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">}</span>
<span class="nb">p</span> a <span class="c1">#=&gt; [1, 3, 5]
</span>
a <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span>, <span class="mi">5</span><span class="p">]</span>
e <span class="o">=</span> a<span class="p">.</span><span class="nf">reject!</span>
e<span class="p">.</span><span class="nf">each</span><span class="p">{</span><span class="o">|</span>i<span class="o">|</span> i <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">}</span>
<span class="nb">p</span> a                    <span class="c1">#=&gt; [1, 3, 5]  もとの配列から削除されていることに注意。
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/select=21.html">Array#select!</a>, <a href="../method/-array/i/keep_if.html">Array#keep_if</a>
</p>
</dd>


<dt class="method-heading" id="I_DIFFERENCE"><code>difference(*other_arrays) -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/difference.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-difference">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身から other_arrays の要素を取り除いた配列を生成して返します。
</p>
<p>
要素の同一性は <a href="../method/-object/i/hash.html">Object#hash</a> と <a href="../method/-object/i/eql=3f.html">Object#eql?</a> により評価されます。
self 中で重複していて、other_arrays中に存在していなかった要素は、その重複が保持されます。新しい配列における要素の順は self における要素の順と同じです。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span> <span class="mi">1</span>, <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">3</span>, <span class="mi">4</span>, <span class="mi">5</span> <span class="p">]</span><span class="p">.</span><span class="nf">difference</span><span class="p">(</span><span class="p">[</span> <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">4</span> <span class="p">]</span><span class="p">)</span>       <span class="c1"># =&gt; [ 3, 3, 5 ]
</span><span class="p">[</span> <span class="mi">1</span>, <span class="s1">'c'</span>, <span class="ss">:s</span>, <span class="s1">'yep'</span> <span class="p">]</span><span class="p">.</span><span class="nf">difference</span><span class="p">(</span><span class="p">[</span> <span class="mi">1</span> <span class="p">]</span>, <span class="p">[</span> <span class="s1">'a'</span>, <span class="s1">'c'</span> <span class="p">]</span><span class="p">)</span>    <span class="c1"># =&gt; [:s, &quot;yep&quot;]
</span></code></pre>
<p>
集合のような振る舞いが必要なら <a href="../class/-set.html">Set</a> も参照してください。
</p>
<p>
[SEE_ALSO] <a href="../method/-array/i/=2d.html">Array#-</a>
</p>
</dd>


<dt class="method-heading" id="I_DIG"><code>dig(idx, ...) -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/dig.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-dig">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self 以下のネストしたオブジェクトを dig メソッドで再帰的に参照して返します。途中のオブジェクトが nil であった場合は nil を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] idx:</dt>
<dd>
インデックスを整数で任意個指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="p">[</span><span class="mi">1</span>, <span class="p">[</span><span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span><span class="p">]</span><span class="p">]</span>

a<span class="p">.</span><span class="nf">dig</span><span class="p">(</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">1</span><span class="p">)</span>                 <span class="c1"># =&gt; 3
</span>a<span class="p">.</span><span class="nf">dig</span><span class="p">(</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">)</span>                 <span class="c1"># =&gt; nil
</span>a<span class="p">.</span><span class="nf">dig</span><span class="p">(</span><span class="mi">0</span>, <span class="mi">0</span>, <span class="mi">0</span><span class="p">)</span>                 <span class="c1"># =&gt; TypeError: Integer does not have #dig method
</span><span class="p">[</span><span class="mi">42</span>, <span class="p">{</span><span class="ss">foo:</span> <span class="ss">:bar</span><span class="p">}</span><span class="p">]</span><span class="p">.</span><span class="nf">dig</span><span class="p">(</span><span class="mi">1</span>, <span class="ss">:foo</span><span class="p">)</span> <span class="c1"># =&gt; :bar
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-hash/i/dig.html">Hash#dig</a>, <a href="../method/-struct/i/dig.html">Struct#dig</a>, <a href="../method/-open-struct/i/dig.html">OpenStruct#dig</a>
</p>
</dd>


<dt class="method-heading" id="I_DROP"><code>drop(n) -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/drop.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-drop">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
配列の先頭の n 要素を捨てて、残りの要素を配列として返します。このメソッドは自身を破壊的に変更しません。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
捨てる要素数。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span>, <span class="mi">5</span>, <span class="mi">0</span><span class="p">]</span>
a<span class="p">.</span><span class="nf">drop</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>             <span class="c1"># =&gt; [4, 5, 0]
</span>
<span class="c1"># 変数aの値は変化しない
</span>a                     <span class="c1"># =&gt; [1, 2, 3, 4, 5, 0]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-enumerable/i/drop.html">Enumerable#drop</a>, <a href="../method/-array/i/drop_while.html">Array#drop_while</a>, <a href="../method/-array/i/shift.html">Array#shift</a>
</p>
</dd>


<dt class="method-heading" id="I_DROP_WHILE"><code>drop_while -&gt; Enumerator</code><span class="permalink">[<a href="../method/-array/i/drop_while.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-drop_while">rdoc</a>]</span></dt>
<dt class="method-heading"><code>drop_while {|element| ... } -&gt; Array</code></dt>
<dd class="method-description">
<p>
ブロックを評価して最初に偽となった要素の手前の要素まで捨て、残りの要素を配列として返します。このメソッドは自身を破壊的に変更しません。
</p>
<p>
ブロックを指定しなかった場合は、<a href="../class/-enumerator.html">Enumerator</a> を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span>, <span class="mi">5</span>, <span class="mi">0</span><span class="p">]</span>
a<span class="p">.</span><span class="nf">drop_while</span> <span class="p">{</span><span class="o">|</span>i<span class="o">|</span> i <span class="o">&lt;</span> <span class="mi">3</span> <span class="p">}</span>   <span class="c1"># =&gt; [3, 4, 5, 0]
</span>
<span class="c1"># 変数aの値は変化しない
</span>a                           <span class="c1"># =&gt; [1, 2, 3, 4, 5, 0]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-enumerable/i/drop_while.html">Enumerable#drop_while</a>, <a href="../method/-array/i/drop.html">Array#drop</a>
</p>
</dd>


<dt class="method-heading" id="I_EACH"><code>each {|item| .... } -&gt; self</code><span class="permalink">[<a href="../method/-array/i/each.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-each">rdoc</a>]</span></dt>
<dt class="method-heading"><code>each -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
各要素に対してブロックを評価します。
</p>
<p>
ブロックが与えられなかった場合は、自身と each から生成した
<a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span>i<span class="o">|</span>
  <span class="nb">puts</span> i
<span class="k">end</span>
<span class="c1">#=&gt; 1
</span><span class="c1">#   2
</span><span class="c1">#   3
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/each_index.html">Array#each_index</a>, <a href="../method/-array/i/reverse_each.html">Array#reverse_each</a>
</p>
</dd>


<dt class="method-heading" id="I_EACH_INDEX"><code>each_index {|index| .... } -&gt; self</code><span class="permalink">[<a href="../method/-array/i/each_index.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-each_index">rdoc</a>]</span></dt>
<dt class="method-heading"><code>each_index -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
各要素のインデックスに対してブロックを評価します。
</p>
<p>
以下と同じです。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">(</span><span class="mi">0</span> <span class="o">...</span> ary<span class="p">.</span><span class="nf">size</span><span class="p">)</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span>index<span class="o">|</span>
  <span class="c1"># ....
</span><span class="k">end</span>
</code></pre>
<p>
ブロックが与えられなかった場合は、自身と each_index から生成した
<a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
</p>
<p>
[SEE_ALSO] <a href="../method/-array/i/each.html">Array#each</a>, <a href="../method/-array/i/reverse_each.html">Array#reverse_each</a>
</p>
</dd>


<dt class="method-heading" id="I_EMPTY--3F"><code>empty? -&gt; bool</code><span class="permalink">[<a href="../method/-array/i/empty=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-empty-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身の要素の数が 0 の時に真を返します。そうでない場合に false を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">p</span> <span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">empty?</span>         <span class="c1">#=&gt; true
</span><span class="nb">p</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span><span class="p">.</span><span class="nf">empty?</span>  <span class="c1">#=&gt; false
</span></code></pre>
</dd>


<dt class="method-heading" id="I_EQL--3F"><code>eql?(other) -&gt; bool</code><span class="permalink">[<a href="../method/-array/i/eql=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-eql-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身と other の各要素をそれぞれ順に
<a href="../method/-object/i/eql=3f.html">Object#eql?</a> で比較して、全要素が等しければ真を返します。そうでない場合に false を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
自身と比較したい配列を指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">eql?</span> <span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span><span class="p">]</span>      <span class="c1">#=&gt; true
</span><span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">eql?</span> <span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span><span class="p">]</span>      <span class="c1">#=&gt; false
</span><span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="mi">1</span><span class="p">]</span><span class="p">.</span><span class="nf">eql?</span>   <span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="mf">1.0</span><span class="p">]</span>      <span class="c1">#=&gt; false (1.eql?(1.0) が false なので)
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-object/i/eql=3f.html">Object#eql?</a>
</p>
</dd>


<dt class="method-heading" id="I_FETCH"><code>fetch(nth) -&gt; object</code><span class="permalink">[<a href="../method/-array/i/fetch.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-fetch">rdoc</a>]</span></dt>
<dt class="method-heading"><code>fetch(nth, ifnone) -&gt; object</code></dt>
<dt class="method-heading"><code>fetch(nth) {|nth| ... } -&gt; object</code></dt>
<dd class="method-description">
<p>
nth 番目の要素を返します。
</p>
<p>
<a href="../method/-array/i/=5b=5d.html">Array#[]</a>(nth) とは nth 番目の要素が存在しない場合の振舞いが異なります。最初の形式では、例外 <a href="../class/-index-error.html">IndexError</a> が発生します。二番目の形式では、引数 ifnone を返します。三番目の形式では、ブロックを評価した結果を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] nth:</dt>
<dd>
取得したい要素のインデックスを整数で指定します。整数以外のオブジェクトを指定した場合は to_int メソッドによる暗黙の型変換を試みます。
</dd>
<dt class='method-param'>[PARAM] ifnone:</dt>
<dd>
要素が存在しなかった場合に返すべき値を指定します。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数 nth に整数以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
<dt>[EXCEPTION] IndexError:</dt>
<dd>
引数 ifnone もブロックも指定しておらず、 nth 番目の要素も存在しなかった場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span>, <span class="mi">5</span><span class="p">]</span>
<span class="k">begin</span>
  <span class="nb">p</span> a<span class="p">.</span><span class="nf">fetch</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="k">rescue</span> <span class="no">IndexError</span> <span class="o">=&gt;</span> err
  <span class="nb">puts</span> err <span class="c1">#=&gt; index 10 out of array
</span><span class="k">end</span>

<span class="nb">p</span> a<span class="p">.</span><span class="nf">fetch</span><span class="p">(</span><span class="mi">10</span>, <span class="mi">999</span><span class="p">)</span> <span class="c1">#=&gt; 999
</span>
result <span class="o">=</span> a<span class="p">.</span><span class="nf">fetch</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="p">{</span><span class="o">|</span>nth<span class="o">|</span>
  <span class="nb">print</span> <span class="s2">"</span><span class="si">#{</span><span class="n">nth</span><span class="si">}</span><span class="s2"> はありません。\n</span><span class="s2">"</span>
  <span class="mi">999</span>
<span class="p">}</span>
<span class="nb">p</span> result <span class="c1">#=&gt; 999
</span></code></pre>
</dd>


<dt class="method-heading" id="I_FILL"><code>fill(val) -&gt; self</code><span class="permalink">[<a href="../method/-array/i/fill.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-fill">rdoc</a>]</span></dt>
<dt class="method-heading"><code>fill {|index| ... } -&gt; self</code></dt>
<dd class="method-description">
<p>
すべての要素に val をセットします。
</p>
<p>
このメソッドが val のコピーでなく val 自身をセットすることに注意してください。
val の代わりにブロックを指定するとブロックの評価結果を値とします。
</p>
<dl>
<dt class='method-param'>[PARAM] val:</dt>
<dd>
自身にセットしたいオブジェクトを指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span><span class="p">]</span>
a<span class="p">.</span><span class="nf">fill</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="nb">p</span> a <span class="c1">#=&gt; [10, 10, 10, 10, 10]
</span>
a <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span><span class="p">]</span>
a<span class="p">.</span><span class="nf">fill</span><span class="p">(</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span><span class="p">)</span>
<span class="nb">p</span> a <span class="c1">#=&gt; [&quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;]
</span>a<span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="p">.</span><span class="nf">capitalize!</span>
<span class="nb">p</span> a <span class="c1">#=&gt; [&quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;]
</span></code></pre>
</dd>
<dt class="method-heading" id="I_FILL"><code>fill(val, start, length = nil) -&gt; self</code><span class="permalink">[<a href="../method/-array/i/fill.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-fill">rdoc</a>]</span></dt>
<dt class="method-heading"><code>fill(val, range) -&gt; self</code></dt>
<dt class="method-heading"><code>fill(start, length = nil) {|index| ... } -&gt; self</code></dt>
<dt class="method-heading"><code>fill(range) {|index| ... } -&gt; self</code></dt>
<dd class="method-description">
<p>
配列の指定された範囲すべてに val をセットします。
</p>
<p>
範囲の始点が自身の末尾を越える時には配列の長さを自動的に拡張し、拡張した領域を nil で初期化します。範囲の終点が自身の末尾を越える時は長さを自動的に拡張し、拡張した部分を val で初期化します。このメソッドが val のコピーでなく val 自身をセットすることに注意してください。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span><span class="p">]</span>
a<span class="p">.</span><span class="nf">fill</span><span class="p">(</span><span class="s2">"</span><span class="s2">x</span><span class="s2">"</span>, <span class="mi">5</span><span class="o">..</span><span class="mi">10</span><span class="p">)</span>
<span class="nb">p</span> a <span class="c1">#=&gt; [0, 1, 2, nil, nil, &quot;x&quot;, &quot;x&quot;, &quot;x&quot;, &quot;x&quot;, &quot;x&quot;, &quot;x&quot;]
</span></code></pre>
<p>
val の代わりにブロックを指定するとブロックの評価結果を値とします。ブロックは要素毎に実行されるので、セットする値のそれぞれをあるオブジェクトの複製にすることができます。ブロックのパラメータには start からのインデックスが渡されます。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span> <span class="p">[</span><span class="p">]</span>
<span class="nb">p</span> ary<span class="p">.</span><span class="nf">fill</span><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">2</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span>i<span class="o">|</span> i<span class="p">}</span>         <span class="c1"># =&gt; [nil, 1, 2]
</span><span class="nb">p</span> ary<span class="p">.</span><span class="nf">fill</span><span class="p">(</span><span class="mi">0</span>,<span class="mi">3</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span>i<span class="o">|</span> i<span class="p">}</span>          <span class="c1"># =&gt; [0, 1, 2]
</span><span class="nb">p</span> ary<span class="p">.</span><span class="nf">fill</span> <span class="p">{</span> <span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span> <span class="p">}</span>             <span class="c1"># =&gt; [&quot;foo&quot;, &quot;foo&quot;, &quot;foo&quot;]
</span><span class="nb">p</span> ary<span class="p">.</span><span class="nf">collect</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> v<span class="p">.</span><span class="nf">object_id</span> <span class="p">}</span> <span class="c1"># =&gt; [537770124, 537770112, 537770100]
</span></code></pre>
<dl>
<dt class='method-param'>[PARAM] val:</dt>
<dd>
自身に設定したいオブジェクトを指定します。
</dd>
<dt class='method-param'>[PARAM] start:</dt>
<dd>
val を設定する範囲の始点のインデックスを整数で指定します。start の値が負の時には末尾からのインデックスと見倣します。末尾の要素が -1 番目になります。
</dd>
<dt class='method-param'>[PARAM] length:</dt>
<dd>
val を設定する要素の個数を指定します。nil が指定された時は配列の終りまでの長さを意味します。
</dd>
<dt class='method-param'>[PARAM] range:</dt>
<dd>
val を設定する範囲を <a href="../class/-range.html">Range</a> オブジェクトで指定します。
</dd>
</dl>
</dd>


<dt class="method-heading" id="I_FILTER"><code>select -&gt; Enumerator</code><span class="permalink">[<a href="../method/-array/i/filter.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-filter">rdoc</a>]</span></dt>
<dt class="method-heading"><code>filter -&gt; Enumerator</code></dt>
<dt class="method-heading"><code>select {|item| ... } -&gt; [object]</code></dt>
<dt class="method-heading"><code>filter {|item| ... } -&gt; [object]</code></dt>
<dd class="method-description">
<p>
各要素に対してブロックを評価した値が真であった要素を全て含む配列を返します。真になる要素がひとつもなかった場合は空の配列を返します。
</p>
<p>
ブロックを省略した場合は <a href="../class/-enumerator.html">Enumerator</a> を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span>,<span class="mi">4</span>,<span class="mi">5</span><span class="p">]</span><span class="p">.</span><span class="nf">select</span>                      <span class="c1"># =&gt; #&lt;Enumerator: [1, 2, 3, 4, 5]:select&gt;
</span><span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span>,<span class="mi">4</span>,<span class="mi">5</span><span class="p">]</span><span class="p">.</span><span class="nf">select</span> <span class="p">{</span> <span class="o">|</span>num<span class="o">|</span> num<span class="p">.</span><span class="nf">even?</span> <span class="p">}</span>  <span class="c1"># =&gt; [2, 4]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-enumerable/i/select.html">Enumerable#select</a>
</p>
<p>
[SEE_ALSO] <a href="../method/-array/i/select=21.html">Array#select!</a>
</p>
</dd>


<dt class="method-heading" id="I_FILTER--21"><code>select! {|item| block } -&gt; self | nil</code><span class="permalink">[<a href="../method/-array/i/filter=21.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-filter-21">rdoc</a>]</span></dt>
<dt class="method-heading"><code>select! -&gt; Enumerator</code></dt>
<dt class="method-heading"><code>filter! {|item| block } -&gt; self | nil</code></dt>
<dt class="method-heading"><code>filter! -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
ブロックが真を返した要素を残し、偽を返した要素を自身から削除します。変更があった場合は self を、変更がなかった場合には nil を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="sx">%w{ a b c d e f }</span>
a<span class="p">.</span><span class="nf">select!</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> v <span class="o">=~</span> <span class="sr">/[a-z]/</span> <span class="p">}</span>   <span class="c1"># =&gt; nil
</span>a <span class="c1"># =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]
</span></code></pre>
<p>
ブロックが与えられなかった場合は、自身と select! から生成した
<a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
</p>
<p>
[SEE_ALSO] <a href="../method/-array/i/keep_if.html">Array#keep_if</a>, <a href="../method/-array/i/reject=21.html">Array#reject!</a>
</p>
</dd>


<dt class="method-heading" id="I_FIND_INDEX"><code>find_index(val) -&gt; Integer | nil</code><span class="permalink">[<a href="../method/-array/i/find_index.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-find_index">rdoc</a>]</span></dt>
<dt class="method-heading"><code>index(val) -&gt; Integer | nil</code></dt>
<dt class="method-heading"><code>find_index {|item| ...} -&gt; Integer | nil</code></dt>
<dt class="method-heading"><code>index {|item| ...} -&gt; Integer | nil</code></dt>
<dt class="method-heading"><code>find_index -&gt; Enumerator</code></dt>
<dt class="method-heading"><code>index -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
条件に一致する最初の要素の位置を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] val:</dt>
<dd>
位置を知りたいオブジェクトを指定します。
</dd>
</dl>
<p>
指定された val と == で等しい最初の要素の位置を返します。等しい要素がひとつもなかった場合は nil を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">p</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">0</span>, <span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">0</span><span class="p">]</span><span class="p">.</span><span class="nf">index</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>   <span class="c1">#=&gt; 0
</span><span class="nb">p</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">0</span>, <span class="mi">0</span>, <span class="mi">0</span>, <span class="mi">0</span><span class="p">]</span><span class="p">.</span><span class="nf">index</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>   <span class="c1">#=&gt; 0
</span><span class="nb">p</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">0</span>, <span class="mi">0</span>, <span class="mi">0</span>, <span class="mi">0</span><span class="p">]</span><span class="p">.</span><span class="nf">index</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>   <span class="c1">#=&gt; nil
</span></code></pre>
<p>
ブロックが与えられた場合には、各要素を引数として順にブロックを実行し、ブロックが真を返した最初の要素の位置を返します。一つも真にならなかった場合は nil を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">p</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">0</span><span class="p">]</span><span class="p">.</span><span class="nf">index</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> v <span class="o">&gt;</span> <span class="mi">0</span><span class="p">}</span>   <span class="c1">#=&gt; 1
</span></code></pre>
<p>
引数、ブロックのどちらも与えられなかった場合は、
<a href="../class/-enumerator.html">Enumerator</a> のインスタンスを返します。
</p>
<p>
[SEE_ALSO] <a href="../method/-array/i/rindex.html">Array#rindex</a>
</p>
</dd>


<dt class="method-heading" id="I_FIRST"><code>first -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/first.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-first">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
配列の先頭の要素を返します。要素がなければ nil を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">p</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span><span class="p">]</span><span class="p">.</span><span class="nf">first</span>   <span class="c1">#=&gt; 0
</span><span class="nb">p</span> <span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">first</span>          <span class="c1">#=&gt; nil
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/last.html">Array#last</a>
</p>
</dd>
<dt class="method-heading" id="I_FIRST"><code>first(n) -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/first.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-first">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
先頭の n 要素を配列で返します。n は 0 以上でなければなりません。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
取得したい要素の個数を整数で指定します。整数以外のオブジェクトを指定した場合は to_int メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
<dt>[EXCEPTION] ArgumentError:</dt>
<dd>
n が負値の場合発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span>  <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span><span class="p">]</span>
<span class="nb">p</span> ary<span class="p">.</span><span class="nf">first</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">p</span> ary<span class="p">.</span><span class="nf">first</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">p</span> ary<span class="p">.</span><span class="nf">first</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">p</span> ary<span class="p">.</span><span class="nf">first</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">p</span> ary<span class="p">.</span><span class="nf">first</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="c1"># =&gt; []
</span><span class="c1">#    [0]
</span><span class="c1">#    [0, 1]
</span><span class="c1">#    [0, 1, 2]
</span><span class="c1">#    [0, 1, 2]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/last.html">Array#last</a>
</p>
</dd>


<dt class="method-heading" id="I_FLATTEN"><code>flatten(lv = nil) -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/flatten.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-flatten">rdoc</a>]</span></dt>
<dt class="method-heading"><code>flatten!(lv = nil) -&gt; self | nil</code></dt>
<dd class="method-description">
<p>
flatten は自身を再帰的に平坦化した配列を生成して返します。flatten! は自身を再帰的かつ破壊的に平坦化し、平坦化が行われた場合は self をそうでない場合は nil を返します。
lv が指定された場合、lv の深さまで再帰的に平坦化します。
</p>
<dl>
<dt class='method-param'>[PARAM] lv:</dt>
<dd>
平坦化の再帰の深さを整数で指定します。nil を指定した場合、再帰の深さの制限無しに平坦化します。整数以外のオブジェクトを指定した場合は to_int メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
<dt>[EXCEPTION] ArgumentError:</dt>
<dd>
配列要素が自身を含むような無限にネストした配列に対して flatten を呼んだ場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="c1"># 自身を再帰的に平坦化する例。
</span>a <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="p">[</span><span class="mi">2</span>, <span class="mi">3</span>, <span class="p">[</span><span class="mi">4</span><span class="p">]</span>, <span class="mi">5</span><span class="p">]</span><span class="p">]</span>
<span class="nb">p</span> a<span class="p">.</span><span class="nf">flatten</span>                     <span class="c1">#=&gt; [1, 2, 3, 4, 5]
</span><span class="nb">p</span> a                             <span class="c1">#=&gt; [1, [2, 3, [4], 5]]
</span>
<span class="c1"># 自身を破壊的に平坦化する例。
</span>a <span class="o">=</span> <span class="p">[</span><span class="p">[</span><span class="p">[</span><span class="mi">1</span>, <span class="p">[</span><span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span>
<span class="nb">p</span> a<span class="p">.</span><span class="nf">flatten!</span>                    <span class="c1">#=&gt; [1, 2, 3]
</span><span class="nb">p</span> a                             <span class="c1">#=&gt; [1, 2, 3]
</span>
<span class="c1"># 平坦化が行われない場合は nil を返す。
</span><span class="nb">p</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span><span class="p">.</span><span class="nf">flatten!</span>            <span class="c1">#=&gt; nil
</span>
<span class="c1"># 平坦化の再帰の深さを指定する例。
</span>a <span class="o">=</span> <span class="p">[</span> <span class="mi">1</span>, <span class="mi">2</span>, <span class="p">[</span><span class="mi">3</span>, <span class="p">[</span><span class="mi">4</span>, <span class="mi">5</span><span class="p">]</span> <span class="p">]</span> <span class="p">]</span>
a<span class="p">.</span><span class="nf">flatten</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>              <span class="c1">#=&gt; [1, 2, 3, [4, 5]]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_HASH"><code>hash -&gt; Integer</code><span class="permalink">[<a href="../method/-array/i/hash.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-hash">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身のハッシュ値を整数で返します。ハッシュ値は自身の各要素のハッシュ値から計算されます。<a href="../method/-array/i/eql=3f.html">Array#eql?</a> で比較して等しい配列同士は同じハッシュ値を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="mi">1</span><span class="p">]</span>
a<span class="p">.</span><span class="nf">hash</span>                <span class="c1">#=&gt;  321
</span>b <span class="o">=</span> a<span class="p">.</span><span class="nf">dup</span>
b<span class="p">.</span><span class="nf">hash</span>                <span class="c1">#=&gt;  321
</span>
<span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="mi">1</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">hash</span>    <span class="c1">#=&gt;  491
</span><span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="mf">1.0</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">hash</span>  <span class="c1">#=&gt;  466227
</span></code></pre>
</dd>


<dt class="method-heading" id="I_INCLUDE--3F"><code>include?(val) -&gt; bool</code><span class="permalink">[<a href="../method/-array/i/include=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-include-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
配列が val と == で等しい要素を持つ時に真を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] val:</dt>
<dd>
オブジェクトを指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span> <span class="p">]</span>
a<span class="p">.</span><span class="nf">include?</span><span class="p">(</span><span class="s2">"</span><span class="s2">b</span><span class="s2">"</span><span class="p">)</span>       <span class="c1">#=&gt; true
</span>a<span class="p">.</span><span class="nf">include?</span><span class="p">(</span><span class="s2">"</span><span class="s2">z</span><span class="s2">"</span><span class="p">)</span>       <span class="c1">#=&gt; false
</span></code></pre>
</dd>


<dt class="method-heading" id="I_INSERT"><code>insert(nth, *val) -&gt; self</code><span class="permalink">[<a href="../method/-array/i/insert.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-insert">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
インデックス nth の要素の直前(nth が負の場合は直後)に第 2 引数以降の値を挿入します。引数 val を一つも指定しなければ何もしません。
</p>
<dl>
<dt class='method-param'>[PARAM] nth:</dt>
<dd>
val を挿入する位置を整数で指定します。整数以外のオブジェクトを指定した場合は to_int メソッドによる暗黙の型変換を試みます。
</dd>
<dt class='method-param'>[PARAM] val:</dt>
<dd>
自身に挿入するオブジェクトを指定します。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span>
ary<span class="p">.</span><span class="nf">insert</span><span class="p">(</span><span class="mi">2</span>, <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span><span class="p">)</span>
<span class="nb">p</span> ary                  <span class="c1"># =&gt; [1, 2, &quot;a&quot;, &quot;b&quot;, 3]
</span>ary<span class="p">.</span><span class="nf">insert</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span>, <span class="s2">"</span><span class="s2">X</span><span class="s2">"</span><span class="p">)</span>
<span class="nb">p</span> ary                  <span class="c1"># =&gt; [1, 2, &quot;a&quot;, &quot;b&quot;, &quot;X&quot;, 3]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_INSPECT"><code>to_s -&gt; String</code><span class="permalink">[<a href="../method/-array/i/inspect.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-inspect">rdoc</a>]</span></dt>
<dt class="method-heading"><code>inspect -&gt; String</code></dt>
<dd class="method-description">
<p>
自身の情報を人間に読みやすい文字列にして返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span><span class="p">]</span><span class="p">.</span><span class="nf">to_s</span>    <span class="c1"># =&gt; &quot;[1, 2, 3, 4]&quot;
</span><span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span><span class="p">]</span><span class="p">.</span><span class="nf">inspect</span> <span class="c1"># =&gt; &quot;[1, 2, 3, 4]&quot;
</span></code></pre>
</dd>


<dt class="method-heading" id="I_INTERSECT--3F"><code>intersect?(other) -&gt; bool</code><span class="permalink">[<a href="../method/-array/i/intersect=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-intersect-3F">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
other と共通の要素が少なくとも1個あれば true を、なければ false を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span> <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span> <span class="p">]</span>
b <span class="o">=</span> <span class="p">[</span> <span class="mi">3</span>, <span class="mi">4</span>, <span class="mi">5</span> <span class="p">]</span>
c <span class="o">=</span> <span class="p">[</span> <span class="mi">5</span>, <span class="mi">6</span>, <span class="mi">7</span> <span class="p">]</span>
a<span class="p">.</span><span class="nf">intersect?</span><span class="p">(</span>b<span class="p">)</span>   <span class="c1"># =&gt; true
</span>a<span class="p">.</span><span class="nf">intersect?</span><span class="p">(</span>c<span class="p">)</span>   <span class="c1"># =&gt; false
</span></code></pre>
</dd>


<dt class="method-heading" id="I_INTERSECTION"><code>intersection(*other_arrays) -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/intersection.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-intersection">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身と引数に渡された配列の共通要素を新しい配列として返します。要素が重複する場合は、そのうちの1つのみを返します。要素の順序は自身の順序を維持します。
</p>
<dl>
<dt class='method-param'>[PARAM] other_arrays:</dt>
<dd>
自身と共通要素を取りたい配列を指定します。配列以外のオブジェクトを指定した場合は to_ary
メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に配列以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
</dl>
<p>
intersectionは<a href="../method/-object/i/hash.html">Object#hash</a>と<a href="../method/-object/i/eql=3f.html">Object#eql?</a>を使って比較を行います。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span><span class="mi">1</span>, <span class="mi">1</span>, <span class="mi">3</span>, <span class="mi">5</span><span class="p">]</span><span class="p">.</span><span class="nf">intersection</span><span class="p">(</span><span class="p">[</span><span class="mi">3</span>, <span class="mi">2</span>, <span class="mi">1</span><span class="p">]</span><span class="p">)</span>                  <span class="c1"># =&gt; [1, 3]
</span><span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">z</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">intersection</span><span class="p">(</span><span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span><span class="p">]</span>, <span class="p">[</span><span class="s2">"</span><span class="s2">b</span><span class="s2">"</span><span class="p">]</span><span class="p">)</span>  <span class="c1"># =&gt; [&quot;b&quot;]
</span><span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">intersection</span>                                    <span class="c1"># =&gt; [&quot;a&quot;]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-set/i/intersection.html">Set#intersection</a>, <a href="../method/-array/i/=26.html">Array#&amp;</a>
</p>
</dd>


<dt class="method-heading" id="I_JOIN"><code>join(sep = $,) -&gt; String</code><span class="permalink">[<a href="../method/-array/i/join.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-join">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
配列の要素を文字列 sep を間に挟んで連結した文字列を返します。
</p>
<p>
文字列でない要素に対しては、to_str があれば to_str、なければ to_s した結果を連結します。要素がまた配列であれば再帰的に (同じ sep を利用して)
join した文字列を連結します。ただし、配列要素が自身を含むような無限にネストした配列に対しては、以下のような結果になります。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span><span class="p">]</span>
ary<span class="p">.</span><span class="nf">push</span> ary
<span class="nb">p</span> ary           <span class="c1"># =&gt; [1, 2, 3, [...]]
</span><span class="nb">p</span> ary<span class="p">.</span><span class="nf">join</span>      <span class="c1"># =&gt; ArgumentError: recursive array join
</span></code></pre>
<dl>
<dt class='method-param'>[PARAM] sep:</dt>
<dd>
間に挟む文字列を指定します。nil のときは空文字列を使います。文字列以外のオブジェクトを指定した場合は to_str メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に文字列以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
<dt>[EXCEPTION] ArgumentError:</dt>
<dd>
配列要素が自身を含むような無限にネストした配列に対して join を呼んだ場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="s1">'-'</span><span class="p">)</span> <span class="c1">#=&gt; &quot;1-2-3&quot;
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/=2a.html">Array#*</a>, <a href="../method/-kernel/v/=2c.html">$,</a>
</p>
</dd>


<dt class="method-heading" id="I_KEEP_IF"><code>keep_if {|item| ... } -&gt; self</code><span class="permalink">[<a href="../method/-array/i/keep_if.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-keep_if">rdoc</a>]</span></dt>
<dt class="method-heading"><code>keep_if -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
ブロックが真を返した要素を残し、偽を返した要素を自身から削除します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="sx">%w{ a b c d e f }</span>
a<span class="p">.</span><span class="nf">keep_if</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> v <span class="o">=~</span> <span class="sr">/[aeiou]/</span><span class="p">}</span>   <span class="c1"># =&gt; [&quot;a&quot;, &quot;e&quot;]
</span>a <span class="c1"># =&gt; [&quot;a&quot;, &quot;e&quot;]
</span></code></pre>
<p>
keep_if は常に self を返しますが、<a href="../method/-array/i/select=21.html">Array#select!</a> は要素が 1 つ以上削除されれば self を、
1 つも削除されなければ nil を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="sx">%w{ a b c d e f }</span>
a<span class="p">.</span><span class="nf">keep_if</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> v <span class="o">=~</span> <span class="sr">/[a-z]/</span> <span class="p">}</span>   <span class="c1"># =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]
</span>a <span class="c1"># =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]
</span></code></pre>
<p>
ブロックが与えられなかった場合は、自身と keep_if から生成した
<a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
</p>
<p>
[SEE_ALSO] <a href="../method/-array/i/select=21.html">Array#select!</a>, <a href="../method/-array/i/delete_if.html">Array#delete_if</a>
</p>
</dd>


<dt class="method-heading" id="I_LAST"><code>last -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/last.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-last">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
配列の末尾の要素を返します。配列が空のときは nil を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">p</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span><span class="p">]</span><span class="p">.</span><span class="nf">last</span>   <span class="c1">#=&gt; 2
</span><span class="nb">p</span> <span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">last</span>          <span class="c1">#=&gt; nil
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/first.html">Array#first</a>
</p>
</dd>
<dt class="method-heading" id="I_LAST"><code>last(n) -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/last.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-last">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
末尾の n 要素を配列で返します。n は 0 以上でなければなりません。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
取得したい要素の個数を整数で指定します。整数以外のオブジェクトを指定した場合は to_int メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
<dt>[EXCEPTION] ArgumentError:</dt>
<dd>
n が負値の場合発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span>  <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span><span class="p">]</span>
<span class="nb">p</span> ary<span class="p">.</span><span class="nf">last</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">p</span> ary<span class="p">.</span><span class="nf">last</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">p</span> ary<span class="p">.</span><span class="nf">last</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">p</span> ary<span class="p">.</span><span class="nf">last</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">p</span> ary<span class="p">.</span><span class="nf">last</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="c1"># =&gt; []
</span><span class="c1">#    [2]
</span><span class="c1">#    [1, 2]
</span><span class="c1">#    [0, 1, 2]
</span><span class="c1">#    [0, 1, 2]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/first.html">Array#first</a>
</p>
</dd>


<dt class="method-heading" id="I_LENGTH"><code>length -&gt; Integer</code><span class="permalink">[<a href="../method/-array/i/length.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-length">rdoc</a>]</span></dt>
<dt class="method-heading"><code>size -&gt; Integer</code></dt>
<dd class="method-description">
<p>
配列の長さを返します。配列が空のときは 0 を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">p</span> <span class="p">[</span><span class="mi">1</span>, <span class="k">nil</span>, <span class="mi">3</span>, <span class="k">nil</span><span class="p">]</span><span class="p">.</span><span class="nf">size</span>    <span class="c1">#=&gt; 4
</span></code></pre>
</dd>


<dt class="method-heading" id="I_MAX"><code>max -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/max.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-max">rdoc</a>]</span></dt>
<dt class="method-heading"><code>max(n) -&gt; Array</code></dt>
<dd class="method-description">
<p>
最大の要素、もしくは最大の n 要素が降順に入った配列を返します。全要素が互いに &lt;=&gt; メソッドで比較できることを仮定しています。
</p>
<p>
引数を指定しない形式では要素が存在しなければ nil を返します。引数を指定する形式では、空の配列を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">max</span>           <span class="c1">#=&gt; nil
</span><span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">max</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>        <span class="c1">#=&gt; []
</span><span class="p">[</span><span class="mi">2</span>, <span class="mi">5</span>, <span class="mi">3</span><span class="p">]</span><span class="p">.</span><span class="nf">max</span>    <span class="c1">#=&gt; 5
</span><span class="p">[</span><span class="mi">2</span>, <span class="mi">5</span>, <span class="mi">3</span><span class="p">]</span><span class="p">.</span><span class="nf">max</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1">#=&gt; [5, 3]
</span></code></pre>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
取得する要素数。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-enumerable/i/max.html">Enumerable#max</a>
</p>
</dd>
<dt class="method-heading" id="I_MAX"><code>max {|a, b| ... } -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/max.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-max">rdoc</a>]</span></dt>
<dt class="method-heading"><code>max(n) {|a, b| ... } -&gt; Array</code></dt>
<dd class="method-description">
<p>
ブロックの評価結果で各要素の大小判定を行い、最大の要素、もしくは最大の
n 要素が降順に入った配列を返します。引数を指定しない形式では要素が存在しなければ nil を返します。引数を指定する形式では、空の配列を返します。
</p>
<p>
ブロックの値は、a &gt; b のとき正、
a == b のとき 0、a &lt; b のとき負の整数を、期待しています。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">max</span> <span class="p">{</span><span class="o">|</span>a, b<span class="o">|</span> a <span class="o">&lt;=&gt;</span> b <span class="p">}</span>    <span class="c1">#=&gt; nil
</span><span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">max</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span>a, b<span class="o">|</span> a <span class="o">&lt;=&gt;</span> b <span class="p">}</span> <span class="c1">#=&gt; []
</span>
ary <span class="o">=</span> <span class="sx">%w(albatross dog horse)</span>
ary<span class="p">.</span><span class="nf">max</span> <span class="p">{</span><span class="o">|</span>a, b<span class="o">|</span> a<span class="p">.</span><span class="nf">length</span> <span class="o">&lt;=&gt;</span> b<span class="p">.</span><span class="nf">length</span> <span class="p">}</span>    <span class="c1">#=&gt; &quot;albatross&quot;
</span>ary<span class="p">.</span><span class="nf">max</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span>a, b<span class="o">|</span> a<span class="p">.</span><span class="nf">length</span> <span class="o">&lt;=&gt;</span> b<span class="p">.</span><span class="nf">length</span> <span class="p">}</span> <span class="c1">#=&gt; [&quot;albatross&quot;, &quot;horse&quot;]
</span></code></pre>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
取得する要素数。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-enumerable/i/max.html">Enumerable#max</a>
</p>
</dd>


<dt class="method-heading" id="I_MIN"><code>min -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/min.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-min">rdoc</a>]</span></dt>
<dt class="method-heading"><code>min(n) -&gt; Array</code></dt>
<dd class="method-description">
<p>
最小の要素、もしくは最小の n 要素が昇順で入った配列を返します。全要素が互いに &lt;=&gt; メソッドで比較できることを仮定しています。
</p>
<p>
引数を指定しない形式では要素が存在しなければ nil を返します。引数を指定する形式では、空の配列を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">min</span>           <span class="c1">#=&gt; nil
</span><span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">min</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>        <span class="c1">#=&gt; []
</span><span class="p">[</span><span class="mi">2</span>, <span class="mi">5</span>, <span class="mi">3</span><span class="p">]</span><span class="p">.</span><span class="nf">min</span>    <span class="c1">#=&gt; 2
</span><span class="p">[</span><span class="mi">2</span>, <span class="mi">5</span>, <span class="mi">3</span><span class="p">]</span><span class="p">.</span><span class="nf">min</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1">#=&gt; [2, 3]
</span></code></pre>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
取得する要素数。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-enumerable/i/min.html">Enumerable#min</a>
</p>
</dd>
<dt class="method-heading" id="I_MIN"><code>min {|a, b| ... } -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/min.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-min">rdoc</a>]</span></dt>
<dt class="method-heading"><code>min(n) {|a, b| ... } -&gt; Array</code></dt>
<dd class="method-description">
<p>
ブロックの評価結果で各要素の大小判定を行い、最小の要素、もしくは最小の
n 要素が昇順で入った配列を返します。引数を指定しない形式では要素が存在しなければ nil を返します。引数を指定する形式では、空の配列を返します。
</p>
<p>
ブロックの値は、a &gt; b のとき正、a == b のとき 0、
a &lt; b のとき負の整数を、期待しています。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">min</span> <span class="p">{</span><span class="o">|</span>a, b<span class="o">|</span> a <span class="o">&lt;=&gt;</span> b <span class="p">}</span>    <span class="c1">#=&gt; nil
</span><span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">min</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span>a, b<span class="o">|</span> a <span class="o">&lt;=&gt;</span> b <span class="p">}</span> <span class="c1">#=&gt; []
</span>
ary <span class="o">=</span> <span class="sx">%w(albatross dog horse)</span>
ary<span class="p">.</span><span class="nf">min</span> <span class="p">{</span><span class="o">|</span>a, b<span class="o">|</span> a<span class="p">.</span><span class="nf">length</span> <span class="o">&lt;=&gt;</span> b<span class="p">.</span><span class="nf">length</span> <span class="p">}</span>    <span class="c1">#=&gt; &quot;dog&quot;
</span>ary<span class="p">.</span><span class="nf">min</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span>a, b<span class="o">|</span> a<span class="p">.</span><span class="nf">length</span> <span class="o">&lt;=&gt;</span> b<span class="p">.</span><span class="nf">length</span> <span class="p">}</span> <span class="c1">#=&gt; [&quot;dog&quot;, &quot;horse&quot;]
</span></code></pre>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
取得する要素数。
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-enumerable/i/min.html">Enumerable#min</a>
</p>
</dd>


<dt class="method-heading" id="I_MINMAX"><code>minmax -&gt; [object, object]</code><span class="permalink">[<a href="../method/-array/i/minmax.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-minmax">rdoc</a>]</span></dt>
<dt class="method-heading"><code>minmax {|a, b| ... } -&gt; [object, object]</code></dt>
<dd class="method-description">
<p>
自身の各要素のうち最小の要素と最大の要素を要素とするサイズ 2 の配列を返します。
</p>
<p>
一つ目の形式は、各要素がすべて &lt;=&gt; メソッドを実装していることを仮定しています。二つ目の形式では、要素同士の比較をブロックを用いて行います。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="sx">%w(albatross dog horse)</span>
a<span class="p">.</span><span class="nf">minmax</span>                                 <span class="c1">#=&gt; [&quot;albatross&quot;, &quot;horse&quot;]
</span>a<span class="p">.</span><span class="nf">minmax</span><span class="p">{</span><span class="o">|</span>a,b<span class="o">|</span> a<span class="p">.</span><span class="nf">length</span> <span class="o">&lt;=&gt;</span> b<span class="p">.</span><span class="nf">length</span> <span class="p">}</span>   <span class="c1">#=&gt; [&quot;dog&quot;, &quot;albatross&quot;]
</span><span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">minmax</span> <span class="c1"># =&gt; [nil, nil]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-enumerable/i/minmax.html">Enumerable#minmax</a>
</p>
</dd>


<dt class="method-heading" id="I_NONE--3F"><code>none? -&gt; bool</code><span class="permalink">[<a href="../method/-array/i/none=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-none-3F">rdoc</a>]</span></dt>
<dt class="method-heading"><code>none? {|obj| ... } -&gt; bool</code></dt>
<dt class="method-heading"><code>none?(pattern) -&gt; bool</code></dt>
<dd class="method-description">
<p>
ブロックを指定しない場合は、 配列のすべての要素が偽であれば真を返します。そうでなければ偽を返します。
</p>
<p>
ブロックを指定した場合は、配列のすべての要素をブロックで評価した結果が、すべて偽であれば真を返します。そうでなければ偽を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] pattern:</dt>
<dd>
ブロックの代わりに各要素に対して pattern === item を評価します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="sx">%w{ant bear cat}</span><span class="p">.</span><span class="nf">none?</span> <span class="p">{</span><span class="o">|</span>word<span class="o">|</span> word<span class="p">.</span><span class="nf">length</span> <span class="o">==</span> <span class="mi">5</span><span class="p">}</span>  <span class="c1"># =&gt; true
</span><span class="sx">%w{ant bear cat}</span><span class="p">.</span><span class="nf">none?</span> <span class="p">{</span><span class="o">|</span>word<span class="o">|</span> word<span class="p">.</span><span class="nf">length</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">}</span>  <span class="c1"># =&gt; false
</span><span class="sx">%w{ant bear cat}</span><span class="p">.</span><span class="nf">none?</span><span class="p">(</span><span class="sr">/d/</span><span class="p">)</span>                       <span class="c1"># =&gt; true
</span><span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">none?</span>                                          <span class="c1"># =&gt; true
</span><span class="p">[</span><span class="k">nil</span><span class="p">]</span><span class="p">.</span><span class="nf">none?</span>                                       <span class="c1"># =&gt; true
</span><span class="p">[</span><span class="k">nil</span>,<span class="k">false</span><span class="p">]</span><span class="p">.</span><span class="nf">none?</span>                                 <span class="c1"># =&gt; true
</span><span class="p">[</span><span class="k">nil</span>, <span class="k">false</span>, <span class="k">true</span><span class="p">]</span><span class="p">.</span><span class="nf">none?</span>                          <span class="c1"># =&gt; false
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-enumerable/i/none=3f.html">Enumerable#none?</a>
</p>
</dd>


<dt class="method-heading" id="I_ONE--3F"><code>one? -&gt; bool</code><span class="permalink">[<a href="../method/-array/i/one=3f.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-one-3F">rdoc</a>]</span></dt>
<dt class="method-heading"><code>one? {|obj| ... } -&gt; bool</code></dt>
<dt class="method-heading"><code>one?(pattern) -&gt; bool</code></dt>
<dd class="method-description">
<p>
ブロックを指定しない場合は、 配列の要素のうちちょうど一つだけが真であれば、真を返します。そうでなければ偽を返します。
</p>
<p>
ブロックを指定した場合は、配列の要素をブロックで評価した結果、一つの要素だけが真であれば真を返します。そうでなければ偽を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] pattern:</dt>
<dd>
ブロックの代わりに各要素に対して pattern === item を評価します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="sx">%w{ant bear cat}</span><span class="p">.</span><span class="nf">one?</span> <span class="p">{</span><span class="o">|</span>word<span class="o">|</span> word<span class="p">.</span><span class="nf">length</span> <span class="o">==</span> <span class="mi">4</span><span class="p">}</span>   <span class="c1"># =&gt; true
</span><span class="sx">%w{ant bear cat}</span><span class="p">.</span><span class="nf">one?</span> <span class="p">{</span><span class="o">|</span>word<span class="o">|</span> word<span class="p">.</span><span class="nf">length</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">}</span>    <span class="c1"># =&gt; false
</span><span class="sx">%w{ant bear cat}</span><span class="p">.</span><span class="nf">one?</span><span class="p">(</span><span class="sr">/t/</span><span class="p">)</span>                        <span class="c1"># =&gt; false
</span><span class="p">[</span> <span class="k">nil</span>, <span class="k">true</span>, <span class="mi">99</span> <span class="p">]</span><span class="p">.</span><span class="nf">one?</span>                            <span class="c1"># =&gt; false
</span><span class="p">[</span> <span class="k">nil</span>, <span class="k">true</span>, <span class="k">false</span> <span class="p">]</span><span class="p">.</span><span class="nf">one?</span>                         <span class="c1"># =&gt; true
</span><span class="p">[</span> <span class="k">nil</span>, <span class="k">true</span>, <span class="mi">99</span> <span class="p">]</span><span class="p">.</span><span class="nf">one?</span><span class="p">(</span><span class="no">Integer</span><span class="p">)</span>                   <span class="c1"># =&gt; true
</span><span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">one?</span>                                           <span class="c1"># =&gt; false
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-enumerable/i/one=3f.html">Enumerable#one?</a>
</p>
</dd>


<dt class="method-heading" id="I_PACK"><code>pack(template) -&gt; String</code><span class="permalink">[<a href="../method/-array/i/pack.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-pack">rdoc</a>]</span></dt>
<dt class="method-heading"><code>pack(template, buffer: String.new) -&gt; String</code></dt>
<dd class="method-description">
<p>
配列の内容を template で指定された文字列にしたがって、バイナリとしてパックした文字列を返します。
</p>
<p>
テンプレートは型指定文字列とその長さ(省略時は1)を並べたものです。長さとして * が指定された時は「残りのデータ全て」の長さを表します。型指定文字は以下で述べる pack テンプレート文字列の通りです。
</p>
<p>
buffer が指定されていれば、バッファとして使って返値として返します。もし template の最初にオフセット (@) が指定されていれば、結果はオフセットの後ろから詰められます。
buffer の元の内容がオフセットより長ければ、オフセットより後ろの部分は上書きされます。オフセットより短ければ、足りない部分は &quot;\0&quot; で埋められます。
</p>
<p>
buffer オプションはメモリ確保が発生しないことを保証するものではないことに注意してください。
buffer のサイズ(capacity)が足りなければ、packはメモリを確保します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span><span class="s1">'!'</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s1">'@1a'</span>, <span class="ss">buffer:</span> <span class="s1">'abc'</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;a!&quot;
</span><span class="p">[</span><span class="s1">'!'</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s1">'@5a'</span>, <span class="ss">buffer:</span> <span class="s1">'abc'</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;abc\u0000\u0000!&quot;
</span></code></pre>
<dl>
<dt class='method-param'>[PARAM] template:</dt>
<dd>
自身のバイナリとしてパックするためのテンプレートを文字列で指定します。
</dd>
<dt class='method-param'>[PARAM] buffer:</dt>
<dd>
結果を詰めるバッファとして使う文字列オブジェクトを指定します。指定した場合は返値も指定した文字列オブジェクトになります。
</dd>
</dl>
<p>
以下にあげるものは、<a href="../method/-array/i/pack.html">Array#pack</a>、<a href="../method/-string/i/unpack.html">String#unpack</a>、<a href="../method/-string/i/unpack1.html">String#unpack1</a>
のテンプレート文字の一覧です。テンプレート文字は後に「長さ」を表す数字を続けることができます。「長さ」の代わりに`*'とすることで「残り全て」を表すこともできます。
</p>
<p>
長さの意味はテンプレート文字により異なりますが大抵、
</p>
<pre>
&quot;iiii&quot;
</pre>
<p>
のように連続するテンプレート文字は
</p>
<pre>
&quot;i4&quot;
</pre>
<p>
と書き換えることができます。
</p>
<p>
テンプレート文字列中の空白類は無視されます。また、`#' から改行あるいはテンプレート文字列の最後まではコメントとみなされ無視されます。
</p>
<h3 >整数のテンプレート文字のシステム依存性</h3>
<p>
各テンプレート文字の説明の中で、
short や long はシステムによらずそれぞれ 2, 4バイトサイズの数値(32ビットマシンで一般的なshort, longのサイズ)を意味しています。s, S, l, L に対しては直後に _ または ! を &quot;s_&quot; あるいは &quot;s!&quot; のように続けることでシステム依存の short, long のサイズにすることもできます。
</p>
<p>
i, I (int)のサイズは常にシステム依存であり、n, N, v, V
のサイズは常にシステム依存ではない(!をつけられない)ことに注意してください。
</p>
<p>
つまり、<a href="../method/-i-o/i/ioctl.html">IO#ioctl</a> などで C の構造体を渡すときのように、システム依存のサイズとエンディアンに合わせる必要があるときには
s!, S!, i!, I!, l!, L!, q!, Q!, j!, J! を用います。また、ネットワークプロトコルやファイルフォーマットのように、システムに依存しないデータを扱うときには
n, N, v, V を用います。
</p>
<p>
強制的にエンディアンを指定したいときは、リトルエンディアンなら &lt; を、ビッグエンディアンなら &gt;
を後ろにつけます。! と組み合わせることも可能です。
</p>
<p>
まとめると以下のようになります。
</p>
<dl>
<dt>エンディアン非依存、整数サイズ非依存 (ネットワークプロトコルなどに適切)</dt>
<dd>
<pre>
  n: big endian unsigned 16bit
  N: big endian unsigned 32bit
  v: little endian unsigned 16bit
  V: little endian unsigned 32bit
</pre>
</dd>
<dt>エンディアン依存、整数サイズ依存 (C の構造体などに適切)</dt>
<dd>
<pre>
  s!: signed short
  S!: unsigned short
  i,i!: signed int
  I,I!: unsigned int
  l!: signed long
  L!: unsigned long
  q!: signed long long
  Q!: unsigned long long
  j,j!: intptr_t
  J,J!: uintptr_t
</pre>
</dd>
<dt>エンディアン依存、整数サイズ非依存 (C99 の stdint.h にある厳密な幅を持つ整数型に適切)</dt>
<dd>
<pre>
  s: int16_t
  S: uint16_t
  l: int32_t
  L: uint32_t
  q: int64_t
  Q: uint64_t
</pre>
</dd>
<dt>エンディアンの強制指定(バイナリ解析などに適切)</dt>
<dd>
<pre>
  S&gt;:  big endian unsigned 16bit(nと同じ)
  s&gt;:  big endian int16_t
  s!&gt;: big endian signed short
  l&lt;:  little endian int32_t
  l!&lt;: little endian signed long
</pre>
</dd>
</dl>
<h3 >各テンプレート文字の説明</h3>
<p>
説明中、<a href="../method/-array/i/pack.html">Array#pack</a> と <a href="../method/-string/i/unpack.html">String#unpack</a> で違いのあるものは `/' で区切って「Array#pack の説明 / String#unpack の説明」としています。
</p>
<dl>
<dt>a</dt>
<dd>
<p>
ASCII文字列(ヌル文字を詰める/後続するヌル文字やスペースを残す)
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="s2">"</span><span class="s2">abc</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span><span class="p">)</span>    <span class="c1"># =&gt; &quot;a&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">abc</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">a*</span><span class="s2">"</span><span class="p">)</span>   <span class="c1"># =&gt; &quot;abc&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">abc</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">a4</span><span class="s2">"</span><span class="p">)</span>   <span class="c1"># =&gt; &quot;abc\x00&quot;
</span>
<span class="s2">"</span><span class="s2">abc\0</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">a4</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [&quot;abc\x00&quot;]
</span><span class="s2">"</span><span class="s2">abc </span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">a4</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; [&quot;abc &quot;]
</span></code></pre>
</dd>
<dt>A</dt>
<dd>
<p>
ASCII文字列(スペースを詰める/後続するヌル文字やスペースを削除)
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="s2">"</span><span class="s2">abc</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">A</span><span class="s2">"</span><span class="p">)</span>    <span class="c1"># =&gt; &quot;a&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">abc</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">A*</span><span class="s2">"</span><span class="p">)</span>   <span class="c1"># =&gt; &quot;abc&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">abc</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">A4</span><span class="s2">"</span><span class="p">)</span>   <span class="c1"># =&gt; &quot;abc &quot;
</span>
<span class="s2">"</span><span class="s2">abc </span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">A4</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; [&quot;abc&quot;]
</span><span class="s2">"</span><span class="s2">abc\0</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">A4</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [&quot;abc&quot;]
</span></code></pre>
</dd>
<dt>Z</dt>
<dd>
<p>
ヌル終端文字列(長さが`*'の場合も含め、ヌル文字を詰める/後続するヌル文字を削除)
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="s2">"</span><span class="s2">abc</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">Z</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;a&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">abc</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">Z*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;abc\x00&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">abc</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">Z5</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;abc\x00\x00&quot;
</span>
<span class="s2">"</span><span class="s2">abc\0</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">Z4</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [&quot;abc&quot;]
</span><span class="s2">"</span><span class="s2">abc </span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">Z4</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; [&quot;abc &quot;]
</span></code></pre>
</dd>
<dt>b</dt>
<dd>
<p>
ビットストリング(各バイトごとに下位ビットから上位ビット)
</p>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">\xFF\x00</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">b*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [&quot;1111111100000000&quot;]
</span><span class="s2">"</span><span class="s2">\x01\x02</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">b*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [&quot;1000000001000000&quot;]
</span><span class="s2">"</span><span class="s2">\x01\x02</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">b3</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [&quot;100&quot;]
</span>

<span class="p">[</span><span class="s2">"</span><span class="s2">1000000001000000</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">b*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x01\x02&quot;
</span></code></pre>
</dd>
<dt>B</dt>
<dd>
<p>
ビットストリング(各バイトごとに上位ビットから下位ビット)
</p>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">\xFF\x00</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">B*</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; [&quot;1111111100000000&quot;]
</span><span class="s2">"</span><span class="s2">\x01\x02</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">B*</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; [&quot;0000000100000010&quot;]
</span><span class="s2">"</span><span class="s2">\x01\x02</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">B9</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; [&quot;000000010&quot;]
</span><span class="s2">"</span><span class="s2">\x01\x02</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">B15</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [&quot;000000010000001&quot;]
</span>
<span class="p">[</span><span class="s2">"</span><span class="s2">0000000100000010</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">B*</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\x01\x02&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">0000000100000010</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">B0</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">0000000100000010</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">B1</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\x00&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">0000000100000010</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">B7</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\x00&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">0000000100000010</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">B8</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\x01&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">0000000100000010</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">B9</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\x01\x00&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">0000000100000010</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">B14</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x01\x00&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">0000000100000010</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">B15</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x01\x02&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">0000000100000010</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">B16</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x01\x02&quot;
</span></code></pre>
</dd>
<dt>h</dt>
<dd>
<p>
16進文字列(下位ニブルが先)
</p>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">\x01\xFE</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">h*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [&quot;10ef&quot;]
</span><span class="s2">"</span><span class="s2">\x01\xFE</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">h3</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [&quot;10e&quot;]
</span>
<span class="p">[</span><span class="s2">"</span><span class="s2">10ef</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">h*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x01\xFE&quot;
</span></code></pre>
</dd>
<dt>H</dt>
<dd>
<p>
16進文字列(上位ニブルが先)
</p>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">\x01\xFE</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">H*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [&quot;01fe&quot;]
</span><span class="s2">"</span><span class="s2">\x01\xFE</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">H3</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [&quot;01f&quot;]
</span><span class="s2">"</span><span class="s2">~</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">H2</span><span class="s2">"</span><span class="p">)</span>        <span class="c1"># =&gt; [&quot;7e&quot;]
</span>
<span class="p">[</span><span class="s2">"</span><span class="s2">01fe</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">H*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x01\xFE&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">7e</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">H2</span><span class="s2">"</span><span class="p">)</span>   <span class="c1"># =&gt; &quot;~&quot;
</span></code></pre>
</dd>
<dt>c</dt>
<dd>
<p>
char (8bit 符号つき整数)
</p>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">\x01\xFE</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">c*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [1, -2]
</span>
<span class="p">[</span><span class="mi">1</span>, <span class="o">-</span><span class="mi">2</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">c*</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\x01\xFE&quot;
</span><span class="p">[</span><span class="mi">1</span>, <span class="mi">254</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">c*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x01\xFE&quot;
</span></code></pre>
</dd>
<dt>C</dt>
<dd>
<p>
unsigned char (8bit 符号なし整数)
</p>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">\x01\xFE</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">C*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [1, 254]
</span>
<span class="p">[</span><span class="mi">1</span>, <span class="o">-</span><span class="mi">2</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">C*</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\x01\xFE&quot;
</span><span class="p">[</span><span class="mi">1</span>, <span class="mi">254</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">C*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x01\xFE&quot;
</span></code></pre>
</dd>
<dt>s</dt>
<dd>
<p>
short (16bit 符号つき整数, エンディアンに依存)
(s! は 16bit でなく、short のサイズに依存)
</p>
<p>
リトルエンディアン (x86_64):
</p>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">\x01\x02\xFE\xFD</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">s*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [513, -514]
</span>
<span class="p">[</span><span class="mi">513</span>, <span class="mi">65022</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">s*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x01\x02\xFE\xFD&quot;
</span><span class="p">[</span><span class="mi">513</span>, <span class="o">-</span><span class="mi">514</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">s*</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\x01\x02\xFE\xFD&quot;
</span></code></pre>
<p>
ビッグエンディアン (SPARC64):
</p>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">\x01\x02\xFE\xFD</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">s*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [258, -259]
</span>
<span class="p">[</span><span class="mi">258</span>, <span class="mi">65277</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">s*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x01\x02\xFE\xFD&quot;
</span><span class="p">[</span><span class="mi">258</span>, <span class="o">-</span><span class="mi">259</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">s*</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\x01\x02\xFE\xFD&quot;
</span></code></pre>
</dd>
<dt>S</dt>
<dd>
<p>
unsigned short (16bit 符号なし整数, エンディアンに依存)
(S! は 16bit でなく、short のサイズに依存)
</p>
<p>
リトルエンディアン (x86_64):
</p>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">\x01\x02\xFE\xFD</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">S*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [513, 65022]
</span>
<span class="p">[</span><span class="mi">513</span>, <span class="mi">65022</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">s*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x01\x02\xFE\xFD&quot;
</span><span class="p">[</span><span class="mi">513</span>, <span class="o">-</span><span class="mi">514</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">s*</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\x01\x02\xFE\xFD&quot;
</span></code></pre>
<p>
ビッグエンディアン (SPARC64):
</p>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">\x01\x02\xFE\xFD</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">S*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [258, 65277]
</span>
<span class="p">[</span><span class="mi">258</span>, <span class="mi">65277</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">S*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x01\x02\xFE\xFD&quot;
</span><span class="p">[</span><span class="mi">258</span>, <span class="o">-</span><span class="mi">259</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">S*</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\x01\x02\xFE\xFD&quot;
</span></code></pre>
</dd>
<dt>i</dt>
<dd>
<p>
int (符号つき整数, エンディアンと int のサイズに依存)
</p>
<p>
リトルエンディアン (x86_64), 32bit int:
</p>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">\x01\x02\x03\x04\xFF\xFE\xFD\xFC</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">i*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [67305985, -50462977]
</span>
<span class="p">[</span><span class="mi">67305985</span>, <span class="mi">4244504319</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">i*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x01\x02\x03\x04\xFF\xFE\xFD\xFC&quot;
</span><span class="p">[</span><span class="mi">67305985</span>, <span class="o">-</span><span class="mi">50462977</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">i*</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\x01\x02\x03\x04\xFF\xFE\xFD\xFC&quot;
</span></code></pre>
<p>
ビッグエンディアン (SPARC64), 32bit int:
</p>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">\x01\x02\x03\x04\xFF\xFE\xFD\xFC</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">i*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [16909060, -66052]
</span>
<span class="p">[</span><span class="mi">16909060</span>, <span class="mi">4294901244</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">i*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x01\x02\x03\x04\xFF\xFE\xFD\xFC&quot;
</span><span class="p">[</span><span class="mi">16909060</span>, <span class="o">-</span><span class="mi">66052</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">i*</span><span class="s2">"</span><span class="p">)</span>     <span class="c1"># =&gt; &quot;\x01\x02\x03\x04\xFF\xFE\xFD\xFC&quot;
</span></code></pre>
</dd>
<dt>I</dt>
<dd>
<p>
unsigned int (符号なし整数, エンディアンと int のサイズに依存)
</p>
<p>
リトルエンディアン (x86_64), 32bit int:
</p>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">\x01\x02\x03\x04\xFF\xFE\xFD\xFC</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">I*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [67305985, 4244504319]
</span>
<span class="p">[</span><span class="mi">67305985</span>, <span class="mi">4244504319</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">I*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x01\x02\x03\x04\xFF\xFE\xFD\xFC&quot;
</span><span class="p">[</span><span class="mi">67305985</span>, <span class="o">-</span><span class="mi">50462977</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">I*</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\x01\x02\x03\x04\xFF\xFE\xFD\xFC&quot;
</span></code></pre>
<p>
ビッグエンディアン (SPARC64), 32bit int:
</p>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">\x01\x02\x03\x04\xFF\xFE\xFD\xFC</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">I*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [16909060, 4294901244]
</span>
<span class="p">[</span><span class="mi">16909060</span>, <span class="mi">4294901244</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">I*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x01\x02\x03\x04\xFF\xFE\xFD\xFC&quot;
</span><span class="p">[</span><span class="mi">16909060</span>, <span class="o">-</span><span class="mi">66052</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">I*</span><span class="s2">"</span><span class="p">)</span>     <span class="c1"># =&gt; &quot;\x01\x02\x03\x04\xFF\xFE\xFD\xFC&quot;
</span></code></pre>
</dd>
<dt>l</dt>
<dd>
<p>
long (32bit 符号つき整数, エンディアンに依存)
(l! は 32bit でなく、long のサイズに依存)
</p>
<p>
リトルエンディアン (x86_64), 32bit long:
</p>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">\x01\x02\x03\x04\xFF\xFE\xFD\xFC</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">l*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [67305985, -50462977]
</span>
<span class="p">[</span><span class="mi">67305985</span>, <span class="mi">4244504319</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">l*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x01\x02\x03\x04\xFF\xFE\xFD\xFC&quot;
</span><span class="p">[</span><span class="mi">67305985</span>, <span class="o">-</span><span class="mi">50462977</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">l*</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\x01\x02\x03\x04\xFF\xFE\xFD\xFC&quot;
</span></code></pre>
<p>
ビッグエンディアン (SPARC64), 32bit long:
</p>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">\x01\x02\x03\x04\xFF\xFE\xFD\xFC</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">l*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [16909060, -66052]
</span>
<span class="p">[</span><span class="mi">16909060</span>, <span class="mi">4294901244</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">l*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x01\x02\x03\x04\xFF\xFE\xFD\xFC&quot;
</span><span class="p">[</span><span class="mi">16909060</span>, <span class="o">-</span><span class="mi">66052</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">l*</span><span class="s2">"</span><span class="p">)</span>     <span class="c1"># =&gt; &quot;\x01\x02\x03\x04\xFF\xFE\xFD\xFC&quot;
</span></code></pre>
</dd>
<dt>L</dt>
<dd>
<p>
unsigned long (32bit 符号なし整数, エンディアンに依存)
(L! は 32bit でなく、long のサイズに依存)
</p>
<p>
リトルエンディアン (x86_64), 32bit long:
</p>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">\x01\x02\x03\x04\xFF\xFE\xFD\xFC</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">L*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [67305985, 4244504319]
</span>
<span class="p">[</span><span class="mi">67305985</span>, <span class="mi">4244504319</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">L*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x01\x02\x03\x04\xFF\xFE\xFD\xFC&quot;
</span><span class="p">[</span><span class="mi">67305985</span>, <span class="o">-</span><span class="mi">50462977</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">L*</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\x01\x02\x03\x04\xFF\xFE\xFD\xFC&quot;
</span></code></pre>
<p>
ビッグエンディアン (SPARC64), 32bit long:
</p>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">\x01\x02\x03\x04\xFF\xFE\xFD\xFC</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">L*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [16909060, 4294901244]
</span>
<span class="p">[</span><span class="mi">16909060</span>, <span class="mi">4294901244</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">L*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x01\x02\x03\x04\xFF\xFE\xFD\xFC&quot;
</span><span class="p">[</span><span class="mi">16909060</span>, <span class="o">-</span><span class="mi">66052</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">L*</span><span class="s2">"</span><span class="p">)</span>     <span class="c1"># =&gt; &quot;\x01\x02\x03\x04\xFF\xFE\xFD\xFC&quot;
</span></code></pre>
</dd>
<dt>q</dt>
<dd>
<p>
64bit 符号付き整数 (エンディアンに依存)
(q! は 64bit でなく、long long のサイズに依存)
</p>
<p>
リトルエンディアン (x86_64):
</p>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">\x01\x02\x03\x04\x05\x06\x07\x08\xFF\xFE\xFD\xFC\xFB\xFA\xF9\xF8</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">q*</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; [578437695752307201, -506097522914230529]
</span>
<span class="p">[</span><span class="mi">578437695752307201</span>, <span class="o">-</span><span class="mi">506097522914230529</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">q*</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;\x01\x02\x03\x04\x05\x06\a\b\xFF\xFE\xFD\xFC\xFB\xFA\xF9\xF8&quot;
</span><span class="p">[</span><span class="mi">578437695752307201</span>, <span class="mi">17940646550795321087</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">q*</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;\x01\x02\x03\x04\x05\x06\a\b\xFF\xFE\xFD\xFC\xFB\xFA\xF9\xF8&quot;
</span></code></pre>
<p>
ビッグエンディアン (SPARC64):
</p>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">\x01\x02\x03\x04\x05\x06\x07\x08\xFF\xFE\xFD\xFC\xFB\xFA\xF9\xF8</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">q*</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; [72623859790382856, -283686952306184]
</span>
<span class="p">[</span><span class="mi">72623859790382856</span>, <span class="o">-</span><span class="mi">283686952306184</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">q*</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;\x01\x02\x03\x04\x05\x06\a\b\xFF\xFE\xFD\xFC\xFB\xFA\xF9\xF8&quot;
</span><span class="p">[</span><span class="mi">72623859790382856</span>, <span class="mi">18446460386757245432</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">q*</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;\x01\x02\x03\x04\x05\x06\a\b\xFF\xFE\xFD\xFC\xFB\xFA\xF9\xF8&quot;
</span></code></pre>
</dd>
<dt>Q</dt>
<dd>
<p>
64bit 符号なし整数 (エンディアンに依存)
(Q! は 64bit でなく、long long のサイズに依存)
</p>
<p>
リトルエンディアン (x86_64):
</p>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">\x01\x02\x03\x04\x05\x06\x07\x08\xFF\xFE\xFD\xFC\xFB\xFA\xF9\xF8</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">Q*</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; [578437695752307201, 17940646550795321087]
</span>
<span class="p">[</span><span class="mi">578437695752307201</span>, <span class="mi">17940646550795321087</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">Q*</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;\x01\x02\x03\x04\x05\x06\a\b\xFF\xFE\xFD\xFC\xFB\xFA\xF9\xF8&quot;
</span><span class="p">[</span><span class="mi">578437695752307201</span>, <span class="o">-</span><span class="mi">506097522914230529</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">Q*</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;\x01\x02\x03\x04\x05\x06\a\b\xFF\xFE\xFD\xFC\xFB\xFA\xF9\xF8&quot;
</span></code></pre>
<p>
ビッグエンディアン (SPARC64):
</p>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">\x01\x02\x03\x04\x05\x06\x07\x08\xFF\xFE\xFD\xFC\xFB\xFA\xF9\xF8</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">Q*</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; [72623859790382856, 18446460386757245432]
</span>
<span class="p">[</span><span class="mi">72623859790382856</span>, <span class="mi">18446460386757245432</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">Q*</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;\x01\x02\x03\x04\x05\x06\a\b\xFF\xFE\xFD\xFC\xFB\xFA\xF9\xF8&quot;
</span><span class="p">[</span><span class="mi">72623859790382856</span>, <span class="o">-</span><span class="mi">283686952306184</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">Q*</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;\x01\x02\x03\x04\x05\x06\a\b\xFF\xFE\xFD\xFC\xFB\xFA\xF9\xF8&quot;
</span></code></pre>
</dd>
<dt>m</dt>
<dd>
<p>
base64された文字列。60 オクテットごと(と最後)に改行コードが付加されます。
</p>
<p>
Base64は、3オクテット(8bits * 3 = 24bits)のバイナリコードをASCII文字のうちの65文字 ([A-Za-z0-9+/]の64文字とpaddingのための'=')だけを使用して
4オクテット(6bits * 4 = 24bits)の印字可能文字列に変換するエンコーディング法です。<a class="external" href="https://tools.ietf.org/html/rfc2045">[RFC2045]</a>, <a class="external" href="https://tools.ietf.org/html/rfc4648">[RFC4648]</a> で定義されています。
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="s2">"</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m</span><span class="s2">"</span><span class="p">)</span>             <span class="c1"># =&gt; &quot;&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">\0</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m</span><span class="s2">"</span><span class="p">)</span>           <span class="c1"># =&gt; &quot;AA==\n&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">\0\0</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m</span><span class="s2">"</span><span class="p">)</span>         <span class="c1"># =&gt; &quot;AAA=\n&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">\0\0\0</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m</span><span class="s2">"</span><span class="p">)</span>       <span class="c1"># =&gt; &quot;AAAA\n&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">\xFF</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m</span><span class="s2">"</span><span class="p">)</span>         <span class="c1"># =&gt; &quot;/w==\n&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">\xFF\xFF</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m</span><span class="s2">"</span><span class="p">)</span>     <span class="c1"># =&gt; &quot;//8=\n&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">\xFF\xFF\xFF</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;////\n&quot;
</span>
<span class="p">[</span><span class="s2">"</span><span class="s2">abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJT\nVFVWV1hZWg==\n&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">abcdefghijklmnopqrstuvwxyz</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m3</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;YWJj\nZGVm\nZ2hp\namts\nbW5v\ncHFy\nc3R1\ndnd4\neXo=\n&quot;
</span>
<span class="s2">"</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m</span><span class="s2">"</span><span class="p">)</span>       <span class="c1"># =&gt; [&quot;&quot;]
</span><span class="s2">"</span><span class="s2">AA==\n</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [&quot;\x00&quot;]
</span><span class="s2">"</span><span class="s2">AA==</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m</span><span class="s2">"</span><span class="p">)</span>   <span class="c1"># =&gt; [&quot;\x00&quot;]
</span>
<span class="s2">"</span><span class="s2">YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJT\nVFVWV1hZWg==\n</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; [&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;]
</span><span class="s2">"</span><span class="s2">YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWg==\n</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; [&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;]
</span></code></pre>
<p>
m0 は <a class="external" href="https://tools.ietf.org/html/rfc4648">[RFC4648]</a> 対応
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="s2">"</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m0</span><span class="s2">"</span><span class="p">)</span>             <span class="c1"># =&gt; &quot;&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">\0</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m0</span><span class="s2">"</span><span class="p">)</span>           <span class="c1"># =&gt; &quot;AA==&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">\0\0</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m0</span><span class="s2">"</span><span class="p">)</span>         <span class="c1"># =&gt; &quot;AAA=&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">\0\0\0</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m0</span><span class="s2">"</span><span class="p">)</span>       <span class="c1"># =&gt; &quot;AAAA&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">\xFF</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m0</span><span class="s2">"</span><span class="p">)</span>         <span class="c1"># =&gt; &quot;/w==&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">\xFF\xFF</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m0</span><span class="s2">"</span><span class="p">)</span>     <span class="c1"># =&gt; &quot;//8=&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">\xFF\xFF\xFF</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m0</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;////&quot;
</span>
<span class="p">[</span><span class="s2">"</span><span class="s2">abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m0</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWg==&quot;
</span>
<span class="s2">"</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m0</span><span class="s2">"</span><span class="p">)</span>       <span class="c1"># =&gt; [&quot;&quot;]
</span><span class="s2">"</span><span class="s2">AA==\n</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m0</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; ArgumentError (invalid base64)
</span><span class="s2">"</span><span class="s2">AA==</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m0</span><span class="s2">"</span><span class="p">)</span>   <span class="c1"># =&gt; [&quot;\x00&quot;]
</span>
<span class="s2">"</span><span class="s2">YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWg==</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">m0</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; [&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;]
</span></code></pre>
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../library/base64.html">base64</a>
</p>
<dl>
<dt>M</dt>
<dd>
<p>
quoted-printable encoding された文字列
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="s2">"</span><span class="s2">a b c\td \ne</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">M</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;a b c\td =\n\ne=\n&quot;
</span>
<span class="s2">"</span><span class="s2">a b c\td =\n\ne=\n</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">M</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [&quot;a b c\td \ne&quot;]
</span></code></pre>
</dd>
<dt>n</dt>
<dd>
<p>
ネットワークバイトオーダー(ビッグエンディアン)のunsigned short (16bit 符号なし整数)
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mi">0</span>,<span class="mi">1</span>,<span class="o">-</span><span class="mi">1</span>,<span class="mi">32767</span>,<span class="o">-</span><span class="mi">32768</span>,<span class="mi">65535</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">n*</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;\x00\x00\x00\x01\xFF\xFF\x7F\xFF\x80\x00\xFF\xFF&quot;
</span>
<span class="s2">"</span><span class="s2">\x00\x00\x00\x01\xFF\xFF\x7F\xFF\x80\x00\xFF\xFF</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">n*</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; [0, 1, 65535, 32767, 32768, 65535]
</span></code></pre>
</dd>
<dt>N</dt>
<dd>
<p>
ネットワークバイトオーダー(ビッグエンディアン)のunsigned long (32bit 符号なし整数)
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mi">0</span>,<span class="mi">1</span>,<span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">N*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x00\x00\x00\x00\x00\x00\x00\x01\xFF\xFF\xFF\xFF&quot;
</span>
<span class="s2">"</span><span class="s2">\x00\x00\x00\x00\x00\x00\x00\x01\xFF\xFF\xFF\xFF</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">N*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [0, 1, 4294967295]
</span></code></pre>
</dd>
<dt>v</dt>
<dd>
<p>
&quot;VAX&quot;バイトオーダー(リトルエンディアン)のunsigned short (16bit 符号なし整数)
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mi">0</span>,<span class="mi">1</span>,<span class="o">-</span><span class="mi">1</span>,<span class="mi">32767</span>,<span class="o">-</span><span class="mi">32768</span>,<span class="mi">65535</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">v*</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;\x00\x00\x01\x00\xFF\xFF\xFF\x7F\x00\x80\xFF\xFF&quot;
</span>
<span class="s2">"</span><span class="s2">\x00\x00\x01\x00\xFF\xFF\xFF\x7F\x00\x80\xFF\xFF</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">v*</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; [0, 1, 65535, 32767, 32768, 65535]
</span></code></pre>
</dd>
<dt>V</dt>
<dd>
<p>
&quot;VAX&quot;バイトオーダー(リトルエンディアン)のunsigned long (32bit 符号なし整数)
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mi">0</span>,<span class="mi">1</span>,<span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">V*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x00\x00\x00\x00\x01\x00\x00\x00\xFF\xFF\xFF\xFF&quot;
</span>

<span class="s2">"</span><span class="s2">\x00\x00\x00\x00\x01\x00\x00\x00\xFF\xFF\xFF\xFF</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">V*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [0, 1, 4294967295]
</span></code></pre>
</dd>
<dt>f</dt>
<dd>
<p>
単精度浮動小数点数(機種依存)
</p>
<p>
x86_64 (IEEE754 単精度 リトルエンディアン):
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mf">1.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">f</span><span class="s2">"</span><span class="p">)</span>      <span class="c1"># =&gt; &quot;\x00\x00\x80?&quot;
</span><span class="p">[</span><span class="mf">0.0</span><span class="o">/</span><span class="mf">0.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">f</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\x00\x00\xC0\x7F&quot;      # NaN
</span><span class="p">[</span><span class="mf">1.0</span><span class="o">/</span><span class="mf">0.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">f</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\x00\x00\x80\x7F&quot;      # +Infinity
</span><span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="o">/</span><span class="mf">0.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">f</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x00\x00\x80\xFF&quot;      # -Infinity
</span></code></pre>
<p>
SPARC64 (IEEE754 単精度 ビッグエンディアン):
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mf">1.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">f</span><span class="s2">"</span><span class="p">)</span>      <span class="c1"># =&gt; &quot;?\x80\x00\x00&quot;
</span><span class="p">[</span><span class="mf">0.0</span><span class="o">/</span><span class="mf">0.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">f</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\x7F\xC0\x00\x00&quot;      # NaN
</span><span class="p">[</span><span class="mf">1.0</span><span class="o">/</span><span class="mf">0.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">f</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\x7F\x80\x00\x00&quot;      # +Infinity
</span><span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="o">/</span><span class="mf">0.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">f</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\xFF\x80\x00\x00&quot;      # -Infinity
</span></code></pre>
<p>
VAX (NetBSD 3.0) (非IEEE754):
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mf">1.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">f</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x80@\x00\x00&quot;
</span></code></pre>
</dd>
<dt>d</dt>
<dd>
<p>
倍精度浮動小数点数(機種依存)
</p>
<p>
x86_64 (IEEE754 倍精度 リトルエンディアン):
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mf">1.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">d</span><span class="s2">"</span><span class="p">)</span>      <span class="c1"># =&gt; &quot;\x00\x00\x00\x00\x00\x00\xF0?&quot;
</span><span class="p">[</span><span class="mf">0.0</span><span class="o">/</span><span class="mf">0.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">d</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\x00\x00\x00\x00\x00\x00\xF8\x7F&quot;      # NaN
</span><span class="p">[</span><span class="mf">1.0</span><span class="o">/</span><span class="mf">0.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">d</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\x00\x00\x00\x00\x00\x00\xF0\x7F&quot;      # +Infinity
</span><span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="o">/</span><span class="mf">0.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">d</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x00\x00\x00\x00\x00\x00\xF0\xFF&quot;      # -Infinity
</span></code></pre>
<p>
SPARC64 (IEEE754 倍精度 ビッグエンディアン):
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mf">1.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">d</span><span class="s2">"</span><span class="p">)</span>      <span class="c1"># =&gt; &quot;?\xF0\x00\x00\x00\x00\x00\x00&quot;
</span><span class="p">[</span><span class="mf">0.0</span><span class="o">/</span><span class="mf">0.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">d</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\x7F\xF8\x00\x00\x00\x00\x00\x00&quot;      # NaN
</span><span class="p">[</span><span class="mf">1.0</span><span class="o">/</span><span class="mf">0.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">d</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\x7F\xF0\x00\x00\x00\x00\x00\x00&quot;      # +Infinity
</span><span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="o">/</span><span class="mf">0.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">d</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\xFF\xF0\x00\x00\x00\x00\x00\x00&quot;      # -Infinity
</span></code></pre>
<p>
VAX (NetBSD 3.0) (非IEEE754):
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mf">1.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">d</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x80@\x00\x00\x00\x00\x00\x00&quot;
</span></code></pre>
</dd>
<dt>e</dt>
<dd>
<p>
リトルエンディアンの単精度浮動小数点数(機種依存)
</p>
<p>
x86_64 (IEEE754):
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mf">1.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">e</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x00\x00\x80?&quot;
</span></code></pre>
<p>
SPARC64 (IEEE754):
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mf">1.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">e</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x00\x00\x80?&quot;
</span></code></pre>
</dd>
<dt>E</dt>
<dd>
<p>
リトルエンディアンの倍精度浮動小数点数(機種依存)
</p>
<p>
x86_64 (IEEE754):
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mf">1.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">E</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x00\x00\x00\x00\x00\x00\xF0?&quot;
</span></code></pre>
<p>
SPARC64 (IEEE754):
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mf">1.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">E</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x00\x00\x00\x00\x00\x00\xF0?&quot;
</span></code></pre>
</dd>
<dt>g</dt>
<dd>
<p>
ビッグエンディアンの単精度浮動小数点数(機種依存)
</p>
<p>
x86_64 (IEEE754):
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mf">1.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">g</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;?\x80\x00\x00&quot;
</span></code></pre>
<p>
SPARC64 (IEEE754):
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mf">1.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">g</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;?\x80\x00\x00&quot;
</span></code></pre>
<p>
IEEE754準拠な環境の場合、以下のようにして符号、指数部、仮数部を取り出せます。
</p>
<pre class="highlight ruby">
<code>
s <span class="o">=</span> <span class="p">[</span>v<span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">g</span><span class="s2">"</span><span class="p">)</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">B*</span><span class="s2">"</span><span class="p">)</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="p">[</span><span class="mi">0</span>,<span class="mi">1</span><span class="p">]</span>      <span class="c1"># 符号
</span>e <span class="o">=</span> <span class="p">[</span>v<span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">g</span><span class="s2">"</span><span class="p">)</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">B*</span><span class="s2">"</span><span class="p">)</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="p">[</span><span class="mi">1</span>,<span class="mi">8</span><span class="p">]</span>      <span class="c1"># 指数部
</span>f <span class="o">=</span> <span class="p">[</span>v<span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">g</span><span class="s2">"</span><span class="p">)</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">B*</span><span class="s2">"</span><span class="p">)</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="p">[</span><span class="mi">9</span>,<span class="mi">23</span><span class="p">]</span>     <span class="c1"># 仮数部
</span></code></pre>
<p>
そして、s, e, f の意味は以下の通りです。
</p>
<pre class="highlight ruby">
<code>
sgn <span class="o">=</span> s <span class="o">==</span> <span class="s2">"</span><span class="s2">0</span><span class="s2">"</span> <span class="o">?</span> <span class="mf">+1.0</span> <span class="o">:</span> <span class="o">-</span><span class="mf">1.0</span>
exp <span class="o">=</span> <span class="no">Integer</span><span class="p">(</span><span class="s2">"</span><span class="s2">0b</span><span class="s2">"</span> <span class="o">+</span> e<span class="p">)</span>
fra <span class="o">=</span> <span class="no">Integer</span><span class="p">(</span><span class="s2">"</span><span class="s2">0b</span><span class="s2">"</span> <span class="o">+</span> f<span class="p">)</span>
<span class="k">if</span> exp <span class="o">==</span> <span class="mi">0</span>
  <span class="k">if</span> fra <span class="o">==</span> <span class="mi">0</span>
    sgn <span class="o">*</span> <span class="mi">0</span>                     <span class="c1"># ±0 (positive/negative zero)
</span>  <span class="k">else</span>
    sgn <span class="o">*</span> fra <span class="o">*</span> <span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="o">-</span><span class="mi">126</span><span class="o">-</span><span class="mi">23</span><span class="p">)</span>    <span class="c1"># 非正規化数 (denormalized number)
</span>  <span class="k">end</span>
<span class="k">elsif</span> exp <span class="o">==</span> <span class="mi">255</span>
  <span class="k">if</span> fra <span class="o">==</span> <span class="mi">0</span>
    sgn <span class="o">*</span> <span class="no">Inf</span>                   <span class="c1"># ±∞ (positive/negative infinity)
</span>  <span class="k">else</span>
    <span class="no">NaN</span>                         <span class="c1"># 非数 (not a number)
</span>  <span class="k">end</span>
<span class="k">else</span>
  fra <span class="o">+=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">23</span>                <span class="c1"># ゲタ
</span>  sgn <span class="o">*</span> fra <span class="o">*</span> <span class="mi">2</span><span class="o">**</span><span class="p">(</span>exp<span class="o">-</span><span class="mi">127</span><span class="o">-</span><span class="mi">23</span><span class="p">)</span>   <span class="c1"># 正規化数 (normalized number)
</span><span class="k">end</span>
</code></pre>
</dd>
<dt>G</dt>
<dd>
<p>
ビッグエンディアンの倍精度浮動小数点数(機種依存)
</p>
<p>
x86_64 (IEEE754):
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mf">1.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">G</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;?\xF0\x00\x00\x00\x00\x00\x00&quot;
</span></code></pre>
<p>
SPARC64 (IEEE754):
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mf">1.0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">G</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;?\xF0\x00\x00\x00\x00\x00\x00&quot;
</span></code></pre>
<p>
IEEE754準拠な環境の場合、以下のようにして符号、指数部、仮数部を取り出せます。
</p>
<pre class="highlight ruby">
<code>
s <span class="o">=</span> <span class="p">[</span>v<span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">G</span><span class="s2">"</span><span class="p">)</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">B*</span><span class="s2">"</span><span class="p">)</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="p">[</span><span class="mi">0</span>,<span class="mi">1</span><span class="p">]</span>    <span class="c1"># 符号
</span>e <span class="o">=</span> <span class="p">[</span>v<span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">G</span><span class="s2">"</span><span class="p">)</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">B*</span><span class="s2">"</span><span class="p">)</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="p">[</span><span class="mi">1</span>,<span class="mi">11</span><span class="p">]</span>   <span class="c1"># 指数部
</span>f <span class="o">=</span> <span class="p">[</span>v<span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">G</span><span class="s2">"</span><span class="p">)</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">B*</span><span class="s2">"</span><span class="p">)</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="p">[</span><span class="mi">12</span>,<span class="mi">52</span><span class="p">]</span>  <span class="c1"># 仮数部
</span></code></pre>
<p>
そして、s, e, f の意味は以下の通りです。
</p>
<pre class="highlight ruby">
<code>
sgn <span class="o">=</span> s <span class="o">==</span> <span class="s2">"</span><span class="s2">0</span><span class="s2">"</span> <span class="o">?</span> <span class="mf">+1.0</span> <span class="o">:</span> <span class="o">-</span><span class="mf">1.0</span>
exp <span class="o">=</span> <span class="no">Integer</span><span class="p">(</span><span class="s2">"</span><span class="s2">0b</span><span class="s2">"</span> <span class="o">+</span> e<span class="p">)</span>
fra <span class="o">=</span> <span class="no">Integer</span><span class="p">(</span><span class="s2">"</span><span class="s2">0b</span><span class="s2">"</span> <span class="o">+</span> f<span class="p">)</span>
<span class="k">if</span> exp <span class="o">==</span> <span class="mi">0</span>
  <span class="k">if</span> fra <span class="o">==</span> <span class="mi">0</span>
    sgn <span class="o">*</span> <span class="mi">0</span>                     <span class="c1"># ±0 (positive/negative zero)
</span>  <span class="k">else</span>
    sgn <span class="o">*</span> fra <span class="o">*</span> <span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="o">-</span><span class="mi">1022</span><span class="o">-</span><span class="mi">52</span><span class="p">)</span>   <span class="c1"># 非正規化数 (denormalized number)
</span>  <span class="k">end</span>
<span class="k">elsif</span> exp <span class="o">==</span> <span class="mi">2047</span>
  <span class="k">if</span> fra <span class="o">==</span> <span class="mi">0</span>
    sgn <span class="o">*</span> <span class="no">Inf</span>                   <span class="c1"># ±∞ (positive/negative infinity)
</span>  <span class="k">else</span>
    <span class="no">NaN</span>                         <span class="c1"># 非数 (not a number)
</span>  <span class="k">end</span>
<span class="k">else</span>
  fra <span class="o">+=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">52</span>                <span class="c1"># ゲタ
</span>  sgn <span class="o">*</span> fra <span class="o">*</span> <span class="mi">2</span><span class="o">**</span><span class="p">(</span>exp<span class="o">-</span><span class="mi">1023</span><span class="o">-</span><span class="mi">52</span><span class="p">)</span>  <span class="c1"># 正規化数 (normalized number)
</span><span class="k">end</span>
</code></pre>
</dd>
<dt>p</dt>
<dd>
<p>
ヌル終端の文字列へのポインタ
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="s2">"</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">p</span><span class="s2">"</span><span class="p">)</span>             <span class="c1"># =&gt; &quot;\x980\xBEf\x1CV\x00\x00&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">p3</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x98\xE5\x9ER\xD2U\x00\x00p\xE5\x9ER\xD2U\x00\x00H\xE5\x9ER\xD2U\x00\x00&quot;
</span><span class="p">[</span><span class="k">nil</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">p</span><span class="s2">"</span><span class="p">)</span>            <span class="c1"># =&gt; &quot;\x00\x00\x00\x00\x00\x00\x00\x00&quot;
</span></code></pre>
</dd>
<dt>P</dt>
<dd>
<p>
構造体(固定長文字列)へのポインタ
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="k">nil</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">P</span><span class="s2">"</span><span class="p">)</span>    <span class="c1"># =&gt; &quot;\x00\x00\x00\x00\x00\x00\x00\x00&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">abc</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">P3</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\xA0\xEE\er\x84U\x00\x00&quot;
</span>
<span class="p">[</span><span class="s2">"</span><span class="s2">abc</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">P4</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; ArgumentError: too short buffer for P(3 for 4)
</span><span class="p">[</span><span class="s2">"</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">P</span><span class="s2">"</span><span class="p">)</span>     <span class="c1"># =&gt; ArgumentError: too short buffer for P(0 for 1)
</span></code></pre>
</dd>
<dt>u</dt>
<dd>
<p>
uuencodeされた文字列
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="s2">"</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">u</span><span class="s2">"</span><span class="p">)</span>           <span class="c1"># =&gt; &quot;&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">u</span><span class="s2">"</span><span class="p">)</span>          <span class="c1"># =&gt; &quot;!80``\n&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">abc</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">u</span><span class="s2">"</span><span class="p">)</span>        <span class="c1"># =&gt; &quot;#86)C\n&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">abcd</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">u</span><span class="s2">"</span><span class="p">)</span>       <span class="c1"># =&gt; &quot;$86)C9```\n&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span><span class="o">*</span><span class="mi">45</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">u</span><span class="s2">"</span><span class="p">)</span>       <span class="c1"># =&gt; &quot;M86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A\n&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span><span class="o">*</span><span class="mi">46</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">u</span><span class="s2">"</span><span class="p">)</span>       <span class="c1"># =&gt; &quot;M86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A86%A\n!80``\n&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">abcdefghi</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">u6</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;&amp;86)C9&amp;5F\n#9VAI\n&quot;
</span></code></pre>
</dd>
<dt>U</dt>
<dd>
<p>
UTF-8
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">U</span><span class="s2">"</span><span class="p">)</span>                               <span class="c1"># =&gt; &quot;\u0000&quot;
</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">U</span><span class="s2">"</span><span class="p">)</span>                               <span class="c1"># =&gt; &quot;\u0001&quot;
</span><span class="p">[</span><span class="mi">0x7f</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">U</span><span class="s2">"</span><span class="p">)</span>                            <span class="c1"># =&gt; &quot;\u007F&quot;
</span><span class="p">[</span><span class="mi">0x80</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">U</span><span class="s2">"</span><span class="p">)</span>                            <span class="c1"># =&gt; &quot;\u0080&quot;
</span><span class="p">[</span><span class="mi">0x7fffffff</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">U</span><span class="s2">"</span><span class="p">)</span>                      <span class="c1"># =&gt; &quot;\xFD\xBF\xBF\xBF\xBF\xBF&quot;
</span><span class="p">[</span><span class="mi">0x80000000</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">U</span><span class="s2">"</span><span class="p">)</span>                      <span class="c1"># =&gt; RangeError: pack(U): value out of range
</span><span class="p">[</span><span class="mi">0</span>,<span class="mi">256</span>,<span class="mi">65536</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">U3</span><span class="s2">"</span><span class="p">)</span><span class="p">.</span><span class="nf">b</span>                  <span class="c1"># =&gt; &quot;\x00\xC4\x80\xF0\x90\x80\x80&quot;
</span>
<span class="s2">"</span><span class="s2">\x00\xC4\x80\xF0\x90\x80\x80</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">U3</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [0, 256, 65536]
</span><span class="s2">"</span><span class="s2">\x00\xC4\x80\xF0\x90\x80\x80</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">U</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; [0]
</span><span class="s2">"</span><span class="s2">\x00\xC4\x80\xF0\x90\x80\x80</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">U*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [0, 256, 65536]
</span></code></pre>
</dd>
<dt>w</dt>
<dd>
<p>
BER圧縮整数
</p>
<p>
1バイトあたり7ビットを使用して必要最小限のバイト数で任意サイズの
0以上の整数を表す数値表現。各バイトの最上位ビットはデータの最後を除いて必ず1が立っている(つまり最上位ビットはどこまでデータがあるかを示している)。
</p>
<p>
ISO/IEC 8825-1:1995 : Information technology−ASN.1 encoding rules : Specification of Basic Encoding Rules(BER) に定められる整数の符号化方法。
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">w</span><span class="s2">"</span><span class="p">)</span>             <span class="c1"># =&gt; &quot;\x00&quot;
</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">w</span><span class="s2">"</span><span class="p">)</span>             <span class="c1"># =&gt; &quot;\x01&quot;
</span><span class="p">[</span><span class="mi">127</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">w</span><span class="s2">"</span><span class="p">)</span>           <span class="c1"># =&gt; &quot;\x7F&quot;
</span><span class="p">[</span><span class="mi">128</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">w</span><span class="s2">"</span><span class="p">)</span>           <span class="c1"># =&gt; &quot;\x81\x00&quot;
</span><span class="p">[</span><span class="mi">0x3fff</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">w</span><span class="s2">"</span><span class="p">)</span>        <span class="c1"># =&gt; &quot;\xFF\x7F&quot;
</span><span class="p">[</span><span class="mi">0x4000</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">w</span><span class="s2">"</span><span class="p">)</span>        <span class="c1"># =&gt; &quot;\x81\x80\x00&quot;
</span><span class="p">[</span><span class="mi">0x3fffffff</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">w</span><span class="s2">"</span><span class="p">)</span>    <span class="c1"># =&gt; &quot;\x83\xFF\xFF\xFF\x7F&quot;
</span><span class="p">[</span><span class="mi">0x40000000</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">w</span><span class="s2">"</span><span class="p">)</span>    <span class="c1"># =&gt; &quot;\x84\x80\x80\x80\x00&quot;
</span><span class="p">[</span><span class="mi">0xffffffff</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">w</span><span class="s2">"</span><span class="p">)</span>    <span class="c1"># =&gt; &quot;\x8F\xFF\xFF\xFF\x7F&quot;
</span><span class="p">[</span><span class="mi">0x100000000</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">w</span><span class="s2">"</span><span class="p">)</span>   <span class="c1"># =&gt; &quot;\x90\x80\x80\x80\x00&quot;
</span>
<span class="s2">"</span><span class="s2">\x00</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">w</span><span class="s2">"</span><span class="p">)</span>              <span class="c1"># =&gt; [0]
</span><span class="s2">"</span><span class="s2">\x00\x81\x00\x01</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">w*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [0, 128, 1]
</span></code></pre>
<p>
なお、BER圧縮整数でエンコードした結果は大小関係を保存しない。たとえば、[0x3fff].pack(&quot;w&quot;) &gt; [0x4000].pack(&quot;w&quot;) である。
</p>
</dd>
<dt>x</dt>
<dd>
<p>
ヌルバイト（pack）／1バイト読み飛ばし（unpack）
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mi">97</span>, <span class="mi">98</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">CxC</span><span class="s2">"</span><span class="p">)</span>    <span class="c1"># =&gt; &quot;a\x00b&quot;
</span><span class="p">[</span><span class="mi">97</span>, <span class="mi">98</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">Cx3C</span><span class="s2">"</span><span class="p">)</span>   <span class="c1"># =&gt; &quot;a\x00\x00\x00b&quot;
</span>
<span class="s2">"</span><span class="s2">abc</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">CxC</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; [97, 99]
</span><span class="s2">"</span><span class="s2">abc</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">Cx3C</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; ArgumentError: x outside of string
</span></code></pre>
</dd>
<dt>X</dt>
<dd>
<p>
1バイト後退
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mi">97</span>, <span class="mi">98</span>, <span class="mi">99</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">CCXC</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;ac&quot;
</span>
<span class="s2">"</span><span class="s2">abcdef</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">x*XC</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [102]
</span></code></pre>
</dd>
<dt>@</dt>
<dd>
<p>
絶対位置への移動
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mi">97</span>, <span class="mi">98</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">C @3 C</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;a\x00\x00b&quot;
</span>
<span class="s2">"</span><span class="s2">abcd</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">C @3 C</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [97, 100]
</span></code></pre>
</dd>
<dt>j</dt>
<dd>
</dd>
</dl>
<p>
intptr_t (ポインタの幅の符号つき整数, エンディアンに依存)
</p>
<dl>
<dt>J</dt>
<dd>
</dd>
</dl>
<p>
uintptr_t (ポインタの幅の符号なし整数, エンディアンに依存)
</p>
<h3 >使用例</h3>
<p>
以下、pack/unpack の使用例の一部です。
</p>
<p>
pack を使用しなくても同じことができる場合はその例も載せています。
pack は暗号になりやすい面があることを考慮し、pack を使いたくない人に別解を示すためです。
</p>
<dl>
<dt>数値(文字コード)の配列を文字列に変換する例</dt>
<dd>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mi">82</span>, <span class="mi">117</span>, <span class="mi">98</span>, <span class="mi">121</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">cccc</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;Ruby&quot;
</span><span class="p">[</span><span class="mi">82</span>, <span class="mi">117</span>, <span class="mi">98</span>, <span class="mi">121</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">c4</span><span class="s2">"</span><span class="p">)</span>    <span class="c1"># =&gt; &quot;Ruby&quot;
</span><span class="p">[</span><span class="mi">82</span>, <span class="mi">117</span>, <span class="mi">98</span>, <span class="mi">121</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">c*</span><span class="s2">"</span><span class="p">)</span>    <span class="c1"># =&gt; &quot;Ruby&quot;
</span>
s <span class="o">=</span> <span class="s2">"</span><span class="s2">"</span>
<span class="p">[</span><span class="mi">82</span>, <span class="mi">117</span>, <span class="mi">98</span>, <span class="mi">121</span><span class="p">]</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span><span class="o">|</span>c<span class="o">|</span> s <span class="o">&lt;&lt;</span> c<span class="p">}</span>
s    <span class="c1"># =&gt; &quot;Ruby&quot;
</span>
<span class="p">[</span><span class="mi">82</span>, <span class="mi">117</span>, <span class="mi">98</span>, <span class="mi">121</span><span class="p">]</span><span class="p">.</span><span class="nf">collect</span> <span class="p">{</span><span class="o">|</span>c<span class="o">|</span> <span class="nb">sprintf</span> <span class="s2">"</span><span class="s2">%c</span><span class="s2">"</span>, c<span class="p">}</span><span class="p">.</span><span class="nf">join</span>   <span class="c1"># =&gt; &quot;Ruby&quot;
</span>
<span class="p">[</span><span class="mi">82</span>, <span class="mi">117</span>, <span class="mi">98</span>, <span class="mi">121</span><span class="p">]</span><span class="p">.</span><span class="nf">inject</span><span class="p">(</span><span class="s2">"</span><span class="s2">"</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span>s, c<span class="o">|</span> s <span class="o">&lt;&lt;</span> c<span class="p">}</span>    <span class="c1"># =&gt; &quot;Ruby&quot;
</span></code></pre>
</dd>
<dt>文字列を数値(文字コード)の配列に変換する例</dt>
<dd>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">Ruby</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s1">'C*'</span><span class="p">)</span>    <span class="c1"># =&gt; [82, 117, 98, 121]
</span>
a <span class="o">=</span> <span class="p">[</span><span class="p">]</span>
<span class="s2">"</span><span class="s2">Ruby</span><span class="s2">"</span><span class="p">.</span><span class="nf">each_byte</span> <span class="p">{</span><span class="o">|</span>c<span class="o">|</span> a <span class="o">&lt;&lt;</span> c<span class="p">}</span>
a    <span class="c1"># =&gt; [82, 117, 98, 121]
</span></code></pre>
</dd>
<dt>&quot;x&quot; でヌルバイトを埋めることができる</dt>
<dd>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mi">82</span>, <span class="mi">117</span>, <span class="mi">98</span>, <span class="mi">121</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">ccxxcc</span><span class="s2">"</span><span class="p">)</span>    <span class="c1"># =&gt; &quot;Ru\x00\x00by&quot;
</span></code></pre>
</dd>
<dt>&quot;x&quot; で文字を読み飛ばす事が出来る</dt>
<dd>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">Ru\x00\x00by</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s1">'ccxxcc'</span><span class="p">)</span>    <span class="c1"># =&gt; [82, 117, 98, 121]
</span></code></pre>
</dd>
<dt>Hexダンプを数値の配列に変換する例</dt>
<dd>
<pre class="highlight ruby">
<code>
<span class="s2">"</span><span class="s2">61 62 63 64 65 66</span><span class="s2">"</span><span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="s1">' '</span><span class="p">)</span><span class="p">.</span><span class="nf">lines</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s1">'H*'</span><span class="p">)</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s1">'C*'</span><span class="p">)</span>
<span class="c1"># =&gt; [97, 98, 99, 100, 101, 102]
</span>
<span class="s2">"</span><span class="s2">61 62 63 64 65 66</span><span class="s2">"</span><span class="p">.</span><span class="nf">split</span><span class="p">.</span><span class="nf">collect</span> <span class="p">{</span><span class="o">|</span>c<span class="o">|</span> c<span class="p">.</span><span class="nf">hex</span><span class="p">}</span>
<span class="c1"># =&gt; [97, 98, 99, 100, 101, 102]
</span></code></pre>
</dd>
<dt>バイナリと16進数のpackでは長さ指定は生成されるバイト数ではなく、ビットやニブルの個数を表す</dt>
<dd>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mi">0b01010010</span>, <span class="mi">0b01110101</span>, <span class="mi">0b01100010</span>, <span class="mi">0b01111001</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">C4</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;Ruby&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">01010010011101010110001001111001</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">B32</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># 8 bits * 4
</span><span class="c1"># =&gt; &quot;Ruby&quot;
</span>
<span class="p">[</span><span class="mi">0x52</span>, <span class="mi">0x75</span>, <span class="mi">0x62</span>, <span class="mi">0x79</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">C4</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;Ruby&quot;
</span><span class="p">[</span><span class="s2">"</span><span class="s2">52756279</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">H8</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># 2 nybbles * 4
</span><span class="c1"># =&gt; &quot;Ruby&quot;
</span></code></pre>
</dd>
<dt>テンプレート文字'a'の長さ指定は1つの文字列だけに適用される</dt>
<dd>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="s2">"</span><span class="s2">RUBY</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">u</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">y</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">a4</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;RUBY&quot;
</span>
<span class="p">[</span><span class="s2">"</span><span class="s2">RUBY</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">u</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">y</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">aaaa</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;Ruby&quot;
</span>
<span class="p">[</span><span class="s2">"</span><span class="s2">RUBY</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">u</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">y</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">a*aaa</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;RUBYuby&quot;
</span></code></pre>
</dd>
<dt>テンプレート文字&quot;a&quot;は、長さが足りない分をヌル文字で補う</dt>
<dd>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="s2">"</span><span class="s2">Ruby</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">a8</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;Ruby\x00\x00\x00\x00&quot;
</span></code></pre>
</dd>
<dt>リトルエンディアンとビッグエンディアン</dt>
<dd>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">s2</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;\x01\x00\002\x00&quot; # リトルエンディアンのシステムでの出力
</span><span class="c1"># =&gt; &quot;\x00\x01\x00\002&quot; # ビッグエンディアンのシステムでの出力
</span>
<span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">n2</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;\x00\x01\x00\002&quot; # システムによらずビッグエンディアン
</span>
<span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">v2</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;\x01\x00\002\x00&quot; # システムによらずリトルエンディアン
</span></code></pre>
</dd>
<dt>ネットワークバイトオーダの signed long</dt>
<dd>
<pre class="highlight ruby">
<code>
s <span class="o">=</span> <span class="s2">"</span><span class="s2">\xFF\xFF\xFF\xFE</span><span class="s2">"</span>
n <span class="o">=</span> s<span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">N</span><span class="s2">"</span><span class="p">)</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">if</span> n<span class="p">[</span><span class="mi">31</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
  n <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="p">(</span>n <span class="o">^</span> <span class="mi">0xffff_ffff</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">end</span>
n <span class="c1"># =&gt; -2
</span></code></pre>
</dd>
<dt>ネットワークバイトオーダの signed long(その2)</dt>
<dd>
<pre class="highlight ruby">
<code>
s <span class="o">=</span> <span class="s2">"</span><span class="s2">\xFF\xFF\xFF\xFE</span><span class="s2">"</span>
n <span class="o">=</span> s<span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">N</span><span class="s2">"</span><span class="p">)</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">l</span><span class="s2">"</span><span class="p">)</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">l</span><span class="s2">"</span><span class="p">)</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
n <span class="c1"># =&gt; -2
</span></code></pre>
</dd>
<dt>IPアドレス</dt>
<dd>
<pre class="highlight ruby">
<code>
<span class="nb">require</span> <span class="s1">'socket'</span>
official_hostname, alias_hostnames, address_family, <span class="o">*</span>address_list <span class="o">=</span> <span class="no">Socket</span><span class="p">.</span><span class="nf">gethostbyname</span><span class="p">(</span><span class="s2">"</span><span class="s2">localhost</span><span class="s2">"</span><span class="p">)</span>
address_list<span class="p">.</span><span class="nf">find</span> <span class="p">{</span><span class="o">|</span>address<span class="o">|</span> address<span class="p">.</span><span class="nf">size</span> <span class="o">==</span> <span class="mi">4</span> <span class="p">}</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">C4</span><span class="s2">"</span><span class="p">)</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="s2">"</span><span class="s2">.</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;127.0.0.1&quot;
</span>
<span class="s2">"</span><span class="s2">127.0.0.1</span><span class="s2">"</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="s2">"</span><span class="s2">.</span><span class="s2">"</span><span class="p">)</span><span class="p">.</span><span class="nf">collect</span> <span class="p">{</span><span class="o">|</span>c<span class="o">|</span> c<span class="p">.</span><span class="nf">to_i</span><span class="p">}</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">C4</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;\x7F\x00\x00\x01&quot;
</span></code></pre>
</dd>
<dt>sockaddr_in 構造体</dt>
<dd>
<pre class="highlight ruby">
<code>
<span class="nb">require</span> <span class="s1">'socket'</span>
<span class="p">[</span><span class="no">Socket</span><span class="o">::</span><span class="no">AF_INET</span>,
 <span class="no">Socket</span><span class="p">.</span><span class="nf">getservbyname</span><span class="p">(</span><span class="s1">'echo'</span><span class="p">)</span>,
 <span class="mi">127</span>, <span class="mi">0</span>, <span class="mi">0</span>, <span class="mi">1</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">s n C4 x8</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; &quot;\x02\x00\x00\a\x7F\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00&quot;
</span></code></pre>
<p>
pack/unpack を使う代わりに
<a href="../method/-socket/s/pack_sockaddr_in.html">Socket.pack_sockaddr_in</a>,
<a href="../method/-socket/s/unpack_sockaddr_in.html">Socket.unpack_sockaddr_in</a> メソッドがあります。
</p>
</dd>
<dt>'\0'終端文字列のアドレス</dt>
<dd>
<p>
テンプレート文字 &quot;p&quot; や &quot;P&quot; は、C 言語レベルのインタフェースのためにあります(例えば <a href="../method/-i-o/i/ioctl.html">IO#ioctl</a>)。
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">p</span><span class="s2">"</span><span class="p">)</span>    <span class="c1"># =&gt; &quot;xp\xC2\x85\vV\x00\x00&quot;
</span></code></pre>
<p>
結果の文字列はゴミに見えますが、実際は文字列&quot;foo\0&quot;を指すアドレス(のバイナリ表現)です。以下のようにすれば見慣れた表記で見ることが出来ます
</p>
<pre class="highlight ruby">
<code>
<span class="nb">printf</span> <span class="s2">"</span><span class="s2">%#014x\n</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">xp\xC2\x85\vV\x00\x00</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">J</span><span class="s2">"</span><span class="p">)</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># =&gt; 0x560b85c27078
</span></code></pre>
<p>
アドレスが指す先のオブジェクト(この例で &quot;foo\0&quot;) は、pack の結果が GC されるまではGCされないことが保証されています。
</p>
<p>
unpack(&quot;p&quot;), unpack(&quot;P&quot;) は、pack の結果からしか unpack できません。
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">p</span><span class="s2">"</span><span class="p">)</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">p</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [&quot;foo&quot;]
</span><span class="s2">"</span><span class="s2">xp\xC2\x85\vV\x00\x00</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">p</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># =&gt; ArgumentError: no associated pointer
</span></code></pre>
<p>
&quot;p&quot; や &quot;P&quot; は、nil を特別に扱い NULL
ポインタとして解釈します。(以下は、64bitマシンで一般的な結果)
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span><span class="k">nil</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">p</span><span class="s2">"</span><span class="p">)</span>        <span class="c1"># =&gt; &quot;\x00\x00\x00\x00\x00\x00\x00\x00&quot;
</span><span class="s2">"</span><span class="s2">\x00\x00\x00\x00\x00\x00\x00\x00</span><span class="s2">"</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">p</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; [nil]
</span></code></pre>
</dd>
<dt>構造体のアドレス</dt>
<dd>
<p>
例えば、
</p>
<pre>
      struct {
        int   a;
        short b;
        long  c;
      } v = {1,2,3};
</pre>
<p>
を表す文字列は
</p>
<pre class="highlight ruby">
<code>
v <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span><span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">i!s!l!</span><span class="s2">"</span><span class="p">)</span>
</code></pre>
<p>
です。(byte alignment の問題から実際は適当な padding が必要になるかもしれません)
</p>
<p>
この構造体を指すアドレスは
</p>
<pre class="highlight ruby">
<code>
<span class="p">[</span>v<span class="p">]</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">P</span><span class="s2">"</span><span class="p">)</span>  <span class="c1"># =&gt; &quot;\xC0\xCC2L\fV\x00\x00&quot;
</span></code></pre>
<p>
で得られます。
</p>
</dd>
<dt>UTF-8からUCS-2への変換 (サロゲートを処理していないので UTF-16 とはいえない)</dt>
<dd>
<p>
リトルエンディアン:
</p>
<pre class="highlight ruby">
<code>
<span class="p">(</span><span class="s2">"</span><span class="s2">Comments</span><span class="s2">"</span><span class="p">)</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">U*</span><span class="s2">"</span><span class="p">)</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">v*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;C\x00o\x00m\x00m\x00e\x00n\x00t\x00s\x00&quot;
</span></code></pre>
<p>
ビッグエンディアン:
</p>
<pre class="highlight ruby">
<code>
<span class="p">(</span><span class="s2">"</span><span class="s2">Comments</span><span class="s2">"</span><span class="p">)</span><span class="p">.</span><span class="nf">unpack</span><span class="p">(</span><span class="s2">"</span><span class="s2">U*</span><span class="s2">"</span><span class="p">)</span><span class="p">.</span><span class="nf">pack</span><span class="p">(</span><span class="s2">"</span><span class="s2">n*</span><span class="s2">"</span><span class="p">)</span> <span class="c1"># =&gt; &quot;\x00C\x00o\x00m\x00m\x00e\x00n\x00t\x00s&quot;
</span></code></pre>
</dd>
</dl>
<p>
[SEE_ALSO] <a href="../method/-string/i/unpack.html">String#unpack</a>, <a href="../method/-string/i/unpack1.html">String#unpack1</a>
</p>
</dd>


<dt class="method-heading" id="I_PERMUTATION"><code>permutation(n = self.length) { |p| block } -&gt; self</code><span class="permalink">[<a href="../method/-array/i/permutation.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-permutation">rdoc</a>]</span></dt>
<dt class="method-heading"><code>permutation(n = self.length) -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
サイズ n の順列をすべて生成し，それを引数としてブロックを実行します。
</p>
<p>
引数を省略した場合は配列の要素数と同じサイズの順列に対してブロックを実行します。
</p>
<p>
得られる順列の順序は保証されません。ブロックなしで呼び出されると， 順列を生成する <a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
生成する配列のサイズを整数で指定します。整数以外のオブジェクトを指定した場合は to_int メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span>
a<span class="p">.</span><span class="nf">permutation</span><span class="p">.</span><span class="nf">to_a</span>     <span class="c1">#=&gt; [[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]
</span>a<span class="p">.</span><span class="nf">permutation</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="p">.</span><span class="nf">to_a</span>  <span class="c1">#=&gt; [[1],[2],[3]]
</span>a<span class="p">.</span><span class="nf">permutation</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="p">.</span><span class="nf">to_a</span>  <span class="c1">#=&gt; [[1,2],[1,3],[2,1],[2,3],[3,1],[3,2]]
</span>a<span class="p">.</span><span class="nf">permutation</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="p">.</span><span class="nf">to_a</span>  <span class="c1">#=&gt; [[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]
</span>a<span class="p">.</span><span class="nf">permutation</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="p">.</span><span class="nf">to_a</span>  <span class="c1">#=&gt; [[]]: one permutation of length 0
</span>a<span class="p">.</span><span class="nf">permutation</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="p">.</span><span class="nf">to_a</span>  <span class="c1">#=&gt; []  : no permutations of length 4
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/combination.html">Array#combination</a>, <a href="../method/-array/i/repeated_permutation.html">Array#repeated_permutation</a>
</p>
</dd>


<dt class="method-heading" id="I_POP"><code>pop -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/pop.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-pop">rdoc</a>]</span></dt>
<dt class="method-heading"><code>pop(n) -&gt; Array</code></dt>
<dd class="method-description">
<p>
自身の末尾から要素を取り除いてそれを返します。引数を指定した場合はその個数だけ取り除き、それを配列で返します。
</p>
<p>
空配列の場合、n が指定されていない場合は nil を、指定されている場合は空配列を返します。また、n が自身の要素数より少ない場合はその要素数の配列を返します。どちらの場合も自身は空配列となります。
</p>
<p>
返す値と副作用の両方を利用して、個数を指定して配列を 2 分する簡単な方法として使えます。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
自身から取り除きたい要素の個数を整数で指定します。整数以外のオブジェクトを指定した場合は to_int メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
array <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="p">[</span><span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span>, <span class="mi">4</span><span class="p">]</span>
<span class="nb">p</span> array<span class="p">.</span><span class="nf">pop</span>      <span class="c1"># =&gt; 4
</span><span class="nb">p</span> array<span class="p">.</span><span class="nf">pop</span>      <span class="c1"># =&gt; [2, 3]
</span><span class="nb">p</span> array          <span class="c1"># =&gt; [1]
</span>
<span class="nb">p</span> array<span class="p">.</span><span class="nf">pop</span>      <span class="c1"># =&gt; 1
</span><span class="nb">p</span> array<span class="p">.</span><span class="nf">pop</span>      <span class="c1"># =&gt; nil
</span><span class="nb">p</span> array          <span class="c1"># =&gt; []
</span>array <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span>
<span class="nb">p</span> array<span class="p">.</span><span class="nf">pop</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>   <span class="c1">#=&gt; [2, 3]
</span><span class="nb">p</span> array          <span class="c1">#=&gt; [1]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/push.html">Array#push</a>, <a href="../method/-array/i/shift.html">Array#shift</a>, <a href="../method/-array/i/unshift.html">Array#unshift</a>
</p>
</dd>


<dt class="method-heading" id="I_PREPEND"><code>unshift(*obj) -&gt; self</code><span class="permalink">[<a href="../method/-array/i/prepend.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-prepend">rdoc</a>]</span></dt>
<dt class="method-heading"><code>prepend(*obj) -&gt; self</code></dt>
<dd class="method-description">
<p>
指定された obj を引数の最後から順番に配列の先頭に挿入します。引数を指定しなければ何もしません。
</p>
<dl>
<dt class='method-param'>[PARAM] obj:</dt>
<dd>
自身に追加したいオブジェクトを指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
arr <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span><span class="p">]</span>
arr<span class="p">.</span><span class="nf">unshift</span> <span class="mi">0</span>
<span class="nb">p</span> arr             <span class="c1">#=&gt; [0, 1, 2, 3]
</span>arr<span class="p">.</span><span class="nf">unshift</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">p</span> arr             <span class="c1">#=&gt; [[0], 0, 1, 2, 3]
</span>arr<span class="p">.</span><span class="nf">unshift</span> <span class="mi">1</span>, <span class="mi">2</span>
<span class="nb">p</span> arr             <span class="c1">#=&gt; [1, 2, [0], 0, 1, 2, 3]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/push.html">Array#push</a>, <a href="../method/-array/i/pop.html">Array#pop</a>, <a href="../method/-array/i/shift.html">Array#shift</a>
</p>
</dd>


<dt class="method-heading" id="I_PRODUCT"><code>product(*lists) -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/product.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-product">rdoc</a>]</span></dt>
<dt class="method-heading"><code>product(*lists) { |e| ... } -&gt; self</code></dt>
<dd class="method-description">
<p>
レシーバの配列と引数で与えられた配列（複数可）のそれぞれから要素を1
個ずつとって配列とし，それらのすべての配列を要素とする配列を返します。
</p>
<p>
返される配列の長さは，レシーバと引数で与えられた配列の長さのすべての積になります。
</p>
<dl>
<dt class='method-param'>[PARAM] lists:</dt>
<dd>
配列。複数指定可能。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span><span class="p">]</span><span class="p">.</span><span class="nf">product</span><span class="p">(</span><span class="p">[</span><span class="mi">4</span>,<span class="mi">5</span><span class="p">]</span><span class="p">)</span>     <span class="c1"># =&gt; [[1,4],[1,5],[2,4],[2,5],[3,4],[3,5]]
</span><span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span><span class="p">]</span><span class="p">.</span><span class="nf">product</span><span class="p">(</span><span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span><span class="p">]</span><span class="p">)</span>       <span class="c1"># =&gt; [[1,1],[1,2],[2,1],[2,2]]
</span><span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span><span class="p">]</span><span class="p">.</span><span class="nf">product</span><span class="p">(</span><span class="p">[</span><span class="mi">3</span>,<span class="mi">4</span><span class="p">]</span>,<span class="p">[</span><span class="mi">5</span>,<span class="mi">6</span><span class="p">]</span><span class="p">)</span> <span class="c1"># =&gt; [[1,3,5],[1,3,6],[1,4,5],[1,4,6],
</span>                           <span class="c1">#     [2,3,5],[2,3,6],[2,4,5],[2,4,6]]
</span><span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span><span class="p">]</span><span class="p">.</span><span class="nf">product</span><span class="p">(</span><span class="p">)</span>            <span class="c1"># =&gt; [[1],[2]]
</span><span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span><span class="p">]</span><span class="p">.</span><span class="nf">product</span><span class="p">(</span><span class="p">[</span><span class="p">]</span><span class="p">)</span>          <span class="c1"># =&gt; []
</span></code></pre>
<p>
ブロックが与えられた場合、作成した配列の各要素を引数としてブロックを実行して self を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="p">]</span>
<span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span><span class="p">]</span><span class="p">.</span><span class="nf">product</span><span class="p">(</span><span class="p">[</span><span class="mi">4</span>,<span class="mi">5</span><span class="p">]</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span>e<span class="o">|</span> a <span class="o">&lt;&lt;</span> e<span class="p">}</span> <span class="c1"># =&gt; [1,2,3]
</span>a <span class="c1"># =&gt; [[1,4],[1,5],[2,4],[2,5],[3,4],[3,5]]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_RASSOC"><code>rassoc(obj) -&gt; Array | nil</code><span class="permalink">[<a href="../method/-array/i/rassoc.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-rassoc">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身が配列の配列であると仮定して、要素の配列でインデックス
1 の要素が obj に等しいものを検索し見つかった最初の要素を返します。該当する要素がなければ nil を返します。
</p>
<p>
比較は == 演算子を使って行われます。
</p>
<dl>
<dt class='method-param'>[PARAM] obj:</dt>
<dd>
検索するオブジェクトを指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="p">[</span><span class="mi">15</span>,<span class="mi">1</span><span class="p">]</span>, <span class="p">[</span><span class="mi">25</span>,<span class="mi">2</span><span class="p">]</span>, <span class="p">[</span><span class="mi">35</span>,<span class="mi">3</span><span class="p">]</span><span class="p">]</span>
<span class="nb">p</span> a<span class="p">.</span><span class="nf">rassoc</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>    <span class="c1"># =&gt; [25, 2]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/assoc.html">Array#assoc</a>
</p>
</dd>


<dt class="method-heading" id="I_REJECT"><code>reject -&gt; Enumerator</code><span class="permalink">[<a href="../method/-array/i/reject.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-reject">rdoc</a>]</span></dt>
<dt class="method-heading"><code>reject {|item| ... } -&gt; [object]</code></dt>
<dd class="method-description">
<p>
各要素に対してブロックを評価し、その値が偽であった要素を集めた新しい配列を返します。条件を反転させた select です。
</p>
<p>
ブロックを省略した場合は <a href="../class/-enumerator.html">Enumerator</a> を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="c1"># 偶数を除外する (奇数を集める)
</span><span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span>, <span class="mi">5</span>, <span class="mi">6</span><span class="p">]</span><span class="p">.</span><span class="nf">reject</span> <span class="p">{</span><span class="o">|</span>i<span class="o">|</span> i <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">}</span>  <span class="c1"># =&gt; [1, 3, 5]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/select.html">Array#select</a>, <a href="../method/-enumerable/i/reject.html">Enumerable#reject</a>
</p>
<p>
[SEE_ALSO] <a href="../method/-enumerable/i/grep_v.html">Enumerable#grep_v</a>
</p>
</dd>


<dt class="method-heading" id="I_REPEATED_COMBINATION"><code>repeated_combination(n) { |c| ... } -&gt; self</code><span class="permalink">[<a href="../method/-array/i/repeated_combination.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-repeated_combination">rdoc</a>]</span></dt>
<dt class="method-heading"><code>repeated_combination(n) -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
サイズ n の重複組み合わせをすべて生成し、それを引数としてブロックを実行します。
</p>
<p>
得られる組み合わせの順序は保証されません。ブロックなしで呼び出されると、組み合わせを生成する Enumerator オブジェクトを返します。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
生成される配列のサイズを整数で指定します。整数以外のオブジェクトを指定した場合は to_int メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span>
a<span class="p">.</span><span class="nf">repeated_combination</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="p">.</span><span class="nf">to_a</span>  <span class="c1">#=&gt; [[1], [2], [3]]
</span>a<span class="p">.</span><span class="nf">repeated_combination</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="p">.</span><span class="nf">to_a</span>  <span class="c1">#=&gt; [[1,1],[1,2],[1,3],[2,2],[2,3],[3,3]]
</span>a<span class="p">.</span><span class="nf">repeated_combination</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="p">.</span><span class="nf">to_a</span>  <span class="c1">#=&gt; [[1,1,1],[1,1,2],[1,1,3],[1,2,2],[1,2,3],
</span>                                <span class="c1">#    [1,3,3],[2,2,2],[2,2,3],[2,3,3],[3,3,3]]
</span>a<span class="p">.</span><span class="nf">repeated_combination</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="p">.</span><span class="nf">to_a</span>  <span class="c1">#=&gt; [[1,1,1,1],[1,1,1,2],[1,1,1,3],[1,1,2,2],[1,1,2,3],
</span>                                <span class="c1">#    [1,1,3,3],[1,2,2,2],[1,2,2,3],[1,2,3,3],[1,3,3,3],
</span>                                <span class="c1">#    [2,2,2,2],[2,2,2,3],[2,2,3,3],[2,3,3,3],[3,3,3,3]]
</span>a<span class="p">.</span><span class="nf">repeated_combination</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="p">.</span><span class="nf">to_a</span>  <span class="c1">#=&gt; [[]] # one combination of length 0
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/repeated_permutation.html">Array#repeated_permutation</a>, <a href="../method/-array/i/combination.html">Array#combination</a>
</p>
</dd>


<dt class="method-heading" id="I_REPEATED_PERMUTATION"><code>repeated_permutation(n) { |p| ... } -&gt; self</code><span class="permalink">[<a href="../method/-array/i/repeated_permutation.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-repeated_permutation">rdoc</a>]</span></dt>
<dt class="method-heading"><code>repeated_permutation(n) -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
サイズ n の重複順列をすべて生成し，それを引数としてブロックを実行します。
</p>
<p>
得られる順列の順序は保証されません。ブロックなしで呼び出されると， 順列を生成する Enumerator オブジェクトを返します。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
生成する配列のサイズを整数で指定します。整数以外のオブジェクトを指定した場合は to_int メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span><span class="p">]</span>
a<span class="p">.</span><span class="nf">repeated_permutation</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="p">.</span><span class="nf">to_a</span>  <span class="c1">#=&gt; [[1], [2]]
</span>a<span class="p">.</span><span class="nf">repeated_permutation</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="p">.</span><span class="nf">to_a</span>  <span class="c1">#=&gt; [[1,1],[1,2],[2,1],[2,2]]
</span>a<span class="p">.</span><span class="nf">repeated_permutation</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="p">.</span><span class="nf">to_a</span>  <span class="c1">#=&gt; [[1,1,1],[1,1,2],[1,2,1],[1,2,2],
</span>                                <span class="c1">#    [2,1,1],[2,1,2],[2,2,1],[2,2,2]]
</span>a<span class="p">.</span><span class="nf">repeated_permutation</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="p">.</span><span class="nf">to_a</span>  <span class="c1">#=&gt; [[]] # one permutation of length 0
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/repeated_combination.html">Array#repeated_combination</a>, <a href="../method/-array/i/permutation.html">Array#permutation</a>
</p>
</dd>


<dt class="method-heading" id="I_REPLACE"><code>replace(another) -&gt; self</code><span class="permalink">[<a href="../method/-array/i/replace.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-replace">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
配列の内容を配列 another の内容で置き換えます。
</p>
<dl>
<dt class='method-param'>[PARAM] another:</dt>
<dd>
配列を指定します。配列以外のオブジェクトを指定した場合は to_ary メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に配列以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span>
a<span class="p">.</span><span class="nf">replace</span> <span class="p">[</span><span class="mi">4</span>, <span class="mi">5</span>, <span class="mi">6</span><span class="p">]</span>
<span class="nb">p</span> a                 <span class="c1">#=&gt; [4, 5, 6]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_REVERSE"><code>reverse -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/reverse.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-reverse">rdoc</a>]</span></dt>
<dt class="method-heading"><code>reverse! -&gt; self</code></dt>
<dd class="method-description">
<p>
reverse は自身の要素を逆順に並べた新しい配列を生成して返します。
reverse! は自身を破壊的に並べ替えます。
reverse! は self を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="mi">2</span>, <span class="k">true</span><span class="p">]</span>
<span class="nb">p</span> a<span class="p">.</span><span class="nf">reverse</span>         <span class="c1">#=&gt; [true, 2, &quot;a&quot;]
</span><span class="nb">p</span> a                 <span class="c1">#=&gt; [&quot;a&quot;, 2, true] (変化なし)
</span>
a <span class="o">=</span> <span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="mi">2</span>, <span class="k">true</span><span class="p">]</span>
<span class="nb">p</span> a<span class="p">.</span><span class="nf">reverse!</span>        <span class="c1">#=&gt; [true, 2, &quot;a&quot;]
</span><span class="nb">p</span> a                 <span class="c1">#=&gt; [true, 2, &quot;a&quot;]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_REVERSE_EACH"><code>reverse_each {|item| ... } -&gt; self</code><span class="permalink">[<a href="../method/-array/i/reverse_each.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-reverse_each">rdoc</a>]</span></dt>
<dt class="method-heading"><code>reverse_each -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
各要素に対して逆順にブロックを評価します。
</p>
<p>
ブロックが与えられなかった場合は、自身と reverse_each から生成した
<a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span> <span class="p">]</span>
a<span class="p">.</span><span class="nf">reverse_each</span> <span class="p">{</span><span class="o">|</span>x<span class="o">|</span> <span class="nb">print</span> x, <span class="s2">"</span><span class="s2"> </span><span class="s2">"</span> <span class="p">}</span>
<span class="c1"># =&gt; c b a
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/each.html">Array#each</a>
</p>
</dd>


<dt class="method-heading" id="I_RINDEX"><code>rindex(val) -&gt; Integer | nil</code><span class="permalink">[<a href="../method/-array/i/rindex.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-rindex">rdoc</a>]</span></dt>
<dt class="method-heading"><code>rindex {|item| ... } -&gt; Integer | nil</code></dt>
<dt class="method-heading"><code>rindex -&gt; Enumerator</code></dt>
<dd class="method-description">
<p>
指定された val と == で等しい最後の要素の位置を返します。等しい要素がひとつもなかった時には nil を返します。
</p>
<p>
ブロックが与えられた時には、各要素を右(末尾)から順に引数としてブロックを実行し、ブロックが真を返す最初の要素の位置を返します。ブロックが真を返す要素がなかった時には nil を返します。
</p>
<p>
引数、ブロックのどちらも与えられなかった時には、自身と rindex から生成した
<a href="../class/-enumerator.html">Enumerator</a> オブジェクトを返します。
</p>
<dl>
<dt class='method-param'>[PARAM] val:</dt>
<dd>
オブジェクトを指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">p</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">0</span>, <span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">0</span><span class="p">]</span><span class="p">.</span><span class="nf">rindex</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>   <span class="c1">#=&gt; 3
</span><span class="nb">p</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">0</span>, <span class="mi">0</span>, <span class="mi">0</span>, <span class="mi">0</span><span class="p">]</span><span class="p">.</span><span class="nf">rindex</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>   <span class="c1">#=&gt; 0
</span><span class="nb">p</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">0</span>, <span class="mi">0</span>, <span class="mi">0</span>, <span class="mi">0</span><span class="p">]</span><span class="p">.</span><span class="nf">rindex</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>   <span class="c1">#=&gt; nil
</span><span class="nb">p</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">0</span><span class="p">]</span><span class="p">.</span><span class="nf">rindex</span> <span class="p">{</span><span class="o">|</span>v<span class="o">|</span> v <span class="o">&gt;</span> <span class="mi">0</span><span class="p">}</span>   <span class="c1">#=&gt; 3
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/index.html">Array#index</a>
</p>
</dd>


<dt class="method-heading" id="I_ROTATE"><code>rotate(cnt = 1) -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/rotate.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-rotate">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
cnt で指定したインデックスの要素が先頭になる配列を新しく作成します。
cnt より前の要素は末尾に移動します。cnt に負の数を指定した場合、逆の操作を行います。
</p>
<dl>
<dt class='method-param'>[PARAM] cnt:</dt>
<dd>
先頭にする要素のインデックスを指定します。指定しなかった場合は 1 になります。整数以外のオブジェクトを指定した場合は to_int メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">d</span><span class="s2">"</span> <span class="p">]</span>
a<span class="p">.</span><span class="nf">rotate</span>         <span class="c1"># =&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]
</span>a                <span class="c1"># =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
</span>a<span class="p">.</span><span class="nf">rotate</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>      <span class="c1"># =&gt; [&quot;c&quot;, &quot;d&quot;, &quot;a&quot;, &quot;b&quot;]
</span>a<span class="p">.</span><span class="nf">rotate</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>     <span class="c1"># =&gt; [&quot;d&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
</span>a<span class="p">.</span><span class="nf">rotate</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>     <span class="c1"># =&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/rotate=21.html">Array#rotate!</a>
</p>
</dd>


<dt class="method-heading" id="I_ROTATE--21"><code>rotate!(cnt = 1) -&gt; self</code><span class="permalink">[<a href="../method/-array/i/rotate=21.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-rotate-21">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
cnt で指定したインデックスの要素が先頭になるように自身の順番を変更します。cnt より前の要素は末尾に移動します。cnt に負の数を指定した場合、逆の操作を行います。
</p>
<dl>
<dt class='method-param'>[PARAM] cnt:</dt>
<dd>
先頭にする要素のインデックスを指定します。指定しなかった場合は 1 になります。整数以外のオブジェクトを指定した場合は to_int メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">d</span><span class="s2">"</span> <span class="p">]</span>
a<span class="p">.</span><span class="nf">rotate!</span>        <span class="c1">#=&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]
</span>a                <span class="c1">#=&gt; [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;]
</span>a<span class="p">.</span><span class="nf">rotate!</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>     <span class="c1">#=&gt; [&quot;d&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
</span>a<span class="p">.</span><span class="nf">rotate!</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>    <span class="c1">#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/rotate.html">Array#rotate</a>
</p>
</dd>


<dt class="method-heading" id="I_SAMPLE"><code>sample -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/sample.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-sample">rdoc</a>]</span></dt>
<dt class="method-heading"><code>sample(n) -&gt; Array</code></dt>
<dt class="method-heading"><code>sample(random: Random) -&gt; object | nil</code></dt>
<dt class="method-heading"><code>sample(n, random: Random) -&gt; Array</code></dt>
<dd class="method-description">
<p>
配列の要素を1個(引数を指定した場合は自身の要素数を越えない範囲で n 個)
ランダムに選んで返します。
</p>
<p>
重複したインデックスは選択されません。そのため、自身がユニークな配列の場合は返り値もユニークな配列になります。
</p>
<p>
配列が空の場合、無引数の場合は nil を、個数を指定した場合は空配列を返します。
</p>
<p>
srand()が有効です。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
取得する要素の数を指定します。自身の要素数(self.length)以上の値を指定した場合は要素数と同じ数の配列を返します。整数以外のオブジェクトを指定した場合は to_int メソッドによる暗黙の型変換を試みます。
</dd>
<dt class='method-param'>[PARAM] random:</dt>
<dd>
乱数生成器(主に <a href="../class/-random.html">Random</a> オブジェクト)を指定します。選択する要素のインデックスを返す rand メソッドに応答するオブジェクトであれば指定する事ができます。rand メソッドの引数には <a href="../method/-random/i/rand.html">Random#rand</a>(max) のように選択可能なインデックスの最大値が指定されます。
<a href="../method/-kernel/m/rand.html">Kernel.#rand</a>、<a href="../class/-random.html">Random</a> を使用しないオブジェクトを指定した場合、<a href="../method/-kernel/m/srand.html">Kernel.#srand</a>の指定に影響されません。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数 n に整数以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
<dt>[EXCEPTION] ArgumentError:</dt>
<dd>
引数 n に負の数を指定した場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">)</span><span class="p">.</span><span class="nf">to_a</span>
<span class="nb">p</span> a<span class="p">.</span><span class="nf">sample</span>        <span class="c1">#=&gt;  9
</span><span class="nb">p</span> a<span class="p">.</span><span class="nf">sample</span>        <span class="c1">#=&gt; 10
</span><span class="nb">p</span> a<span class="p">.</span><span class="nf">sample</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>     <span class="c1">#=&gt; [1, 9, 3]
</span><span class="nb">p</span> a               <span class="c1">#=&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_SHIFT"><code>shift -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/shift.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-shift">rdoc</a>]</span></dt>
<dt class="method-heading"><code>shift(n) -&gt; Array</code></dt>
<dd class="method-description">
<p>
配列の先頭の要素を取り除いてそれを返します。引数を指定した場合はその個数だけ取り除き、それを配列で返します。
</p>
<p>
空配列の場合、n が指定されていない場合は nil を、指定されている場合は空配列を返します。また、n が自身の要素数より少ない場合はその要素数の配列を返します。どちらの場合も自身は空配列となります。
</p>
<p>
返す値と副作用の両方を利用して、個数を指定して配列を 2 分する簡単な方法として使えます。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
自身から取り除きたい要素の個数を非負整数で指定します。整数以外のオブジェクトを指定した場合は to_int メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に整数以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
<dt>[EXCEPTION] ArgumentError:</dt>
<dd>
引数に負の数を指定した場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span><span class="p">]</span>
<span class="nb">p</span> a<span class="p">.</span><span class="nf">shift</span>            <span class="c1">#=&gt; 0
</span><span class="nb">p</span> a                  <span class="c1">#=&gt; [1, 2, 3, 4]
</span>
<span class="nb">p</span> <span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">shift</span>           <span class="c1">#=&gt; nil
</span><span class="nb">p</span> <span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">shift</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>        <span class="c1">#=&gt; []
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/push.html">Array#push</a>, <a href="../method/-array/i/pop.html">Array#pop</a>, <a href="../method/-array/i/unshift.html">Array#unshift</a>
</p>
</dd>


<dt class="method-heading" id="I_SHUFFLE"><code>shuffle -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/shuffle.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-shuffle">rdoc</a>]</span></dt>
<dt class="method-heading"><code>shuffle(random: Random) -&gt; Array</code></dt>
<dd class="method-description">
<p>
配列の要素をランダムシャッフルして，その結果を配列として返します。
</p>
<p>
引数に <a href="../class/-random.html">Random</a> オブジェクトを渡すことでそのオブジェクトが生成する擬似乱数列を用いることができます。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span> <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span> <span class="p">]</span>           <span class="c1">#=&gt; [1, 2, 3]
</span>a<span class="p">.</span><span class="nf">shuffle</span>                 <span class="c1">#=&gt; [2, 3, 1]
</span>rng <span class="o">=</span> <span class="no">Random</span><span class="p">.</span><span class="nf">new</span>
rng2 <span class="o">=</span> rng<span class="p">.</span><span class="nf">dup</span> <span class="c1"># RNGを複製
</span><span class="c1"># 以下の2つは同じ結果を返す
</span><span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span><span class="p">]</span><span class="p">.</span><span class="nf">shuffle</span><span class="p">(</span><span class="ss">random:</span> rng<span class="p">)</span>
<span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span><span class="p">]</span><span class="p">.</span><span class="nf">shuffle</span><span class="p">(</span><span class="ss">random:</span> rng2<span class="p">)</span>
</code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/shuffle=21.html">Array#shuffle!</a>
</p>
</dd>


<dt class="method-heading" id="I_SHUFFLE--21"><code>shuffle! -&gt; self</code><span class="permalink">[<a href="../method/-array/i/shuffle=21.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-shuffle-21">rdoc</a>]</span></dt>
<dt class="method-heading"><code>shuffle!(random: Random) -&gt; self</code></dt>
<dd class="method-description">
<p>
配列を破壊的にランダムシャッフルします。
</p>
<dl>
<dt class='method-param'>[PARAM] random:</dt>
<dd>
乱数生成器(主に <a href="../class/-random.html">Random</a> オブジェクト)を指定します。選択する要素のインデックスを返す rand メソッドに応答するオブジェクトであれば指定する事ができます。rand メソッドの引数には <a href="../method/-random/i/rand.html">Random#rand</a>(max) のように選択可能なインデックスの最大値が指定されます。
<a href="../method/-kernel/m/rand.html">Kernel.#rand</a>、<a href="../class/-random.html">Random</a> を使用しないオブジェクトを指定した場合、<a href="../method/-kernel/m/srand.html">Kernel.#srand</a>の指定に影響されません。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span> <span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span> <span class="p">]</span>           <span class="c1">#=&gt; [1, 2, 3]
</span>a<span class="p">.</span><span class="nf">shuffle!</span>                <span class="c1">#=&gt; [2, 3, 1]
</span>a                         <span class="c1">#=&gt; [2, 3, 1]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/shuffle.html">Array#shuffle</a>
</p>
</dd>


<dt class="method-heading" id="I_SLICE"><code>slice(nth) -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/slice.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-slice">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
指定された自身の要素を返します。<a href="../method/-array/i/=5b=5d.html">Array#[]</a> と同じです。
</p>
<dl>
<dt class='method-param'>[PARAM] nth:</dt>
<dd>
要素のインデックスを整数で指定します。<a href="../method/-array/i/=5b=5d.html">Array#[]</a> と同じです。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">p</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span><span class="p">]</span><span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>    <span class="c1">#=&gt; 1
</span><span class="nb">p</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span><span class="p">]</span><span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>    <span class="c1">#=&gt; 2
</span><span class="nb">p</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span><span class="p">]</span><span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>   <span class="c1">#=&gt; nil
</span></code></pre>
</dd>
<dt class="method-heading" id="I_SLICE"><code>slice(pos, len) -&gt; Array | nil</code><span class="permalink">[<a href="../method/-array/i/slice.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-slice">rdoc</a>]</span></dt>
<dt class="method-heading"><code>slice(range) -&gt; Array | nil</code></dt>
<dd class="method-description">
<p>
指定された自身の部分配列を返します。<a href="../method/-array/i/=5b=5d.html">Array#[]</a> と同じです。
</p>
<dl>
<dt class='method-param'>[PARAM] pos:</dt>
<dd>
<a href="../method/-array/i/=5b=5d.html">Array#[]</a> と同じです。
</dd>
<dt class='method-param'>[PARAM] len:</dt>
<dd>
<a href="../method/-array/i/=5b=5d.html">Array#[]</a> と同じです。
</dd>
<dt class='method-param'>[PARAM] range:</dt>
<dd>
<a href="../method/-array/i/=5b=5d.html">Array#[]</a> と同じです。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">p</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span><span class="p">]</span><span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="mi">0</span>, <span class="mi">2</span><span class="p">)</span>    <span class="c1">#=&gt; [0, 1]
</span><span class="nb">p</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span><span class="p">]</span><span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="mi">2</span><span class="o">..</span><span class="mi">3</span><span class="p">)</span>    <span class="c1">#=&gt; [2]
</span><span class="nb">p</span> <span class="p">[</span><span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">2</span><span class="p">]</span><span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="mi">10</span>, <span class="mi">1</span><span class="p">)</span>   <span class="c1">#=&gt; nil
</span></code></pre>
</dd>


<dt class="method-heading" id="I_SLICE--21"><code>slice!(nth) -&gt; object | nil</code><span class="permalink">[<a href="../method/-array/i/slice=21.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-slice-21">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
指定した要素を自身から取り除き、取り除いた要素を返します。取り除く要素がなければ nil
を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] nth:</dt>
<dd>
取り除く要素のインデックスを整数で指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span> <span class="p">]</span>
a<span class="p">.</span><span class="nf">slice!</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>     <span class="c1">#=&gt; &quot;b&quot;
</span>a               <span class="c1">#=&gt; [&quot;a&quot;, &quot;c&quot;]
</span>a<span class="p">.</span><span class="nf">slice!</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>    <span class="c1">#=&gt; &quot;c&quot;
</span>a               <span class="c1">#=&gt; [&quot;a&quot;]
</span>a<span class="p">.</span><span class="nf">slice!</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>   <span class="c1">#=&gt; nil
</span>a               <span class="c1">#=&gt; [&quot;a&quot;]
</span></code></pre>
</dd>
<dt class="method-heading" id="I_SLICE--21"><code>slice!(start, len) -&gt; Array | nil</code><span class="permalink">[<a href="../method/-array/i/slice=21.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-slice-21">rdoc</a>]</span></dt>
<dt class="method-heading"><code>slice!(range) -&gt; Array | nil</code></dt>
<dd class="method-description">
<p>
指定した部分配列を自身から取り除き、取り除いた部分配列を返します。取り除く要素がなければ nil
を返します。
</p>
<dl>
<dt class='method-param'>[PARAM] start:</dt>
<dd>
削除したい部分配列の先頭のインデックスを整数で指定します。
</dd>
<dt class='method-param'>[PARAM] len:</dt>
<dd>
削除したい部分配列の長さを整数で指定します。
</dd>
<dt class='method-param'>[PARAM] range:</dt>
<dd>
削除したい配列の範囲を <a href="../class/-range.html">Range</a> オブジェクトで指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span> <span class="p">]</span>
a<span class="p">.</span><span class="nf">slice!</span><span class="p">(</span><span class="mi">1</span>, <span class="mi">2</span><span class="p">)</span>     <span class="c1">#=&gt; [&quot;b&quot;, &quot;c&quot;]
</span>a                  <span class="c1">#=&gt; [&quot;a&quot;]
</span>
a <span class="o">=</span> <span class="p">[</span> <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span> <span class="p">]</span>
a<span class="p">.</span><span class="nf">slice!</span><span class="p">(</span><span class="mi">1</span>, <span class="mi">0</span><span class="p">)</span>     <span class="c1">#=&gt; []
</span>a                  <span class="c1">#=&gt; [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_SORT"><code>sort -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/sort.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-sort">rdoc</a>]</span></dt>
<dt class="method-heading"><code>sort! -&gt; self</code></dt>
<dt class="method-heading"><code>sort {|a, b| ... } -&gt; Array</code></dt>
<dt class="method-heading"><code>sort! {|a, b| ... } -&gt; self</code></dt>
<dd class="method-description">
<p>
配列の内容をソートします。要素同士の比較は &lt;=&gt; 演算子を使って行います。sort はソートされた配列を生成して返します。
sort! は self を破壊的にソートし、self を返します。
</p>
<p>
ブロックとともに呼び出された時には、要素同士の比較をブロックを用いて行います。ブロックに2つの要素を引数として与えて評価し、その結果で比較します。ブロックは &lt;=&gt; 演算子と同様に整数を返すことが期待されています。つまり、ブロックは第1引数が大きいなら正の整数、両者が等しいなら0、そして第1引数の方が小さいなら負の整数を返さなければいけません。両者を比較できない時は nil を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary1 <span class="o">=</span> <span class="p">[</span> <span class="s2">"</span><span class="s2">d</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">e</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span> <span class="p">]</span>
<span class="nb">p</span> ary1<span class="p">.</span><span class="nf">sort</span>                             <span class="c1">#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]
</span>
ary2 <span class="o">=</span> <span class="p">[</span><span class="s2">"</span><span class="s2">9</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">7</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">10</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">11</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">8</span><span class="s2">"</span><span class="p">]</span>
<span class="nb">p</span> ary2<span class="p">.</span><span class="nf">sort</span>                             <span class="c1">#=&gt; [&quot;10&quot;, &quot;11&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;] (文字列としてソートするとこうなる)
</span><span class="nb">p</span> ary2<span class="p">.</span><span class="nf">sort</span><span class="p">{</span><span class="o">|</span>a, b<span class="o">|</span> a<span class="p">.</span><span class="nf">to_i</span> <span class="o">&lt;=&gt;</span> b<span class="p">.</span><span class="nf">to_i</span> <span class="p">}</span>  <span class="c1">#=&gt; [&quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;11&quot;] (ブロックを使って数字としてソート)
</span>
<span class="c1"># sort_by を使っても良い
</span><span class="nb">p</span> ary2<span class="p">.</span><span class="nf">sort_by</span><span class="p">{</span><span class="o">|</span>x<span class="o">|</span> x<span class="p">.</span><span class="nf">to_i</span> <span class="p">}</span>             <span class="c1">#=&gt; [&quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;11&quot;]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-enumerable/i/sort_by.html">Enumerable#sort_by</a>
, <a href="../method/-array/i/sort_by=21.html">Array#sort_by!</a>
</p>
</dd>


<dt class="method-heading" id="I_SORT_BY--21"><code>sort_by! -&gt; Enumerator</code><span class="permalink">[<a href="../method/-array/i/sort_by=21.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-sort_by-21">rdoc</a>]</span></dt>
<dt class="method-heading"><code>sort_by! {|item| ... } -&gt; self</code></dt>
<dd class="method-description">
<p>
sort_by の破壊的バージョンです。
</p>
<p>
ブロックを省略した場合は <a href="../class/-enumerator.html">Enumerator</a> を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
fruits <span class="o">=</span> <span class="sx">%w{apple pear fig}</span>
fruits<span class="p">.</span><span class="nf">sort_by!</span> <span class="p">{</span> <span class="o">|</span>word<span class="o">|</span> word<span class="p">.</span><span class="nf">length</span> <span class="p">}</span>
fruits <span class="c1"># =&gt; [&quot;fig&quot;, &quot;pear&quot;, &quot;apple&quot;]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-enumerable/i/sort_by.html">Enumerable#sort_by</a>
</p>
</dd>


<dt class="method-heading" id="I_SUM"><code>sum(init=0) -&gt; object</code><span class="permalink">[<a href="../method/-array/i/sum.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-sum">rdoc</a>]</span></dt>
<dt class="method-heading"><code>sum(init=0) {|e| expr } -&gt; object</code></dt>
<dd class="method-description">
<p>
要素の合計を返します。例えば [e1, e2, e3].sum は init + e1 + e2 + e3 を返します。
</p>
<p>
ブロックが与えられた場合、加算する前に各要素にブロックが適用されます。
</p>
<p>
配列が空の場合、initを返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">sum</span>                             <span class="c1">#=&gt; 0
</span><span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">sum</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>                        <span class="c1">#=&gt; 0.0
</span><span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span><span class="p">.</span><span class="nf">sum</span>                      <span class="c1">#=&gt; 6
</span><span class="p">[</span><span class="mi">3</span>, <span class="mf">5.5</span><span class="p">]</span><span class="p">.</span><span class="nf">sum</span>                       <span class="c1">#=&gt; 8.5
</span><span class="p">[</span><span class="mf">2.5</span>, <span class="mf">3.0</span><span class="p">]</span><span class="p">.</span><span class="nf">sum</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span>e<span class="o">|</span> e <span class="o">*</span> e <span class="p">}</span>   <span class="c1">#=&gt; 15.25
</span><span class="p">[</span><span class="no">Object</span><span class="p">.</span><span class="nf">new</span><span class="p">]</span><span class="p">.</span><span class="nf">sum</span>                   <span class="c1">#=&gt; TypeError
</span></code></pre>
<p>
配列の平均値は以下のように求められます。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
mean <span class="o">=</span> ary<span class="p">.</span><span class="nf">sum</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span> <span class="o">/</span> ary<span class="p">.</span><span class="nf">length</span>
</code></pre>
<p>
init 引数を明示的に指名すると数値以外のオブジェクトにも使えます。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">sum</span><span class="p">(</span><span class="s2">"</span><span class="s2">"</span><span class="p">)</span>            <span class="c1">#=&gt; &quot;abc&quot;
</span><span class="p">[</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>, <span class="p">[</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="p">]</span>, <span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="p">]</span><span class="p">.</span><span class="nf">sum</span><span class="p">(</span><span class="p">[</span><span class="p">]</span><span class="p">)</span>          <span class="c1">#=&gt; [1, [2], 3]
</span></code></pre>
<p>
しかし、文字列の配列や配列の配列の場合 <a href="../method/-array/i/join.html">Array#join</a> や <a href="../method/-array/i/flatten.html">Array#flatten</a> の方が <a href="../method/-array/i/sum.html">Array#sum</a> よりも高速です。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">join</span>               <span class="c1">#=&gt; &quot;abc&quot;
</span><span class="p">[</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>, <span class="p">[</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="p">]</span>, <span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="p">]</span><span class="p">.</span><span class="nf">flatten</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>       <span class="c1">#=&gt; [1, [2], 3]
</span></code></pre>
<p>
&quot;+&quot; メソッドが再定義されている場合、<a href="../method/-array/i/sum.html">Array#sum</a> は再定義を無視することがあります(例えば <a href="../method/-integer/i/=2b.html">Integer#+</a>)。
</p>
<p>
[SEE_ALSO] <a href="../method/-enumerable/i/sum.html">Enumerable#sum</a>
</p>
</dd>


<dt class="method-heading" id="I_TAKE"><code>take(n) -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/take.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-take">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
配列の先頭から n 要素を配列として返します。このメソッドは自身を破壊的に変更しません。
</p>
<dl>
<dt class='method-param'>[PARAM] n:</dt>
<dd>
要素数を指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span>, <span class="mi">5</span>, <span class="mi">0</span><span class="p">]</span>
a<span class="p">.</span><span class="nf">take</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>             <span class="c1"># =&gt; [1, 2, 3]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-enumerable/i/take.html">Enumerable#take</a>
</p>
</dd>


<dt class="method-heading" id="I_TAKE_WHILE"><code>take_while -&gt; Enumerator</code><span class="permalink">[<a href="../method/-array/i/take_while.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-take_while">rdoc</a>]</span></dt>
<dt class="method-heading"><code>take_while {|element| ... } -&gt; Array</code></dt>
<dd class="method-description">
<p>
配列の要素を順に偽になるまでブロックで評価します。最初に偽になった要素の手前の要素までを配列として返します。このメソッドは自身を破壊的に変更しません。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
a <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span>, <span class="mi">5</span>, <span class="mi">0</span><span class="p">]</span>
a<span class="p">.</span><span class="nf">take_while</span> <span class="p">{</span><span class="o">|</span>i<span class="o">|</span> i <span class="o">&lt;</span> <span class="mi">3</span> <span class="p">}</span>   <span class="c1"># =&gt; [1, 2]
</span></code></pre>
<p>
ブロックを省略した場合は <a href="../class/-enumerator.html">Enumerator</a> を返します。
</p>
<p>
[SEE_ALSO] <a href="../method/-enumerable/i/take_while.html">Enumerable#take_while</a>
</p>
</dd>


<dt class="method-heading" id="I_TO_A"><code>to_a -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/to_a.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-to_a">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self を返します。ただし、Array のサブクラスのインスタンスに対して呼ばれた時は、自身を Array に変換したものを返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">SubArray</span> <span class="o">&lt;</span> <span class="no">Array</span>; <span class="k">end</span>
ary1 <span class="o">=</span> <span class="no">Array</span><span class="p">(</span><span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span><span class="p">]</span><span class="p">)</span>
ary2 <span class="o">=</span> <span class="no">SubArray</span><span class="p">(</span><span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span><span class="p">]</span><span class="p">)</span>

ary1<span class="p">.</span><span class="nf">to_a</span>        <span class="c1"># =&gt; [1, 2, 3, 4]
</span>ary1<span class="p">.</span><span class="nf">to_a</span><span class="p">.</span><span class="nf">class</span>  <span class="c1"># =&gt; Array
</span>
ary2<span class="p">.</span><span class="nf">to_a</span>        <span class="c1"># =&gt; [1, 2, 3, 4]
</span>ary2<span class="p">.</span><span class="nf">to_a</span><span class="p">.</span><span class="nf">class</span>  <span class="c1"># =&gt; Array
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/to_ary.html">Array#to_ary</a>
</p>
</dd>


<dt class="method-heading" id="I_TO_ARY"><code>to_ary -&gt; self</code><span class="permalink">[<a href="../method/-array/i/to_ary.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-to_ary">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
self をそのまま返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="k">class</span> <span class="nn"></span><span class="o"></span><span class="nc">SubArray</span> <span class="o">&lt;</span> <span class="no">Array</span>; <span class="k">end</span>
ary1 <span class="o">=</span> <span class="no">Array</span><span class="p">(</span><span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span><span class="p">]</span><span class="p">)</span>
ary2 <span class="o">=</span> <span class="no">SubArray</span><span class="p">(</span><span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span><span class="p">]</span><span class="p">)</span>

ary1<span class="p">.</span><span class="nf">to_ary</span>        <span class="c1"># =&gt; [1, 2, 3, 4]
</span>ary1<span class="p">.</span><span class="nf">to_ary</span><span class="p">.</span><span class="nf">class</span>  <span class="c1"># =&gt; Array
</span>
ary2<span class="p">.</span><span class="nf">to_ary</span>        <span class="c1"># =&gt; [1, 2, 3, 4]
</span>ary2<span class="p">.</span><span class="nf">to_ary</span><span class="p">.</span><span class="nf">class</span>  <span class="c1"># =&gt; SubArray
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/to_a.html">Array#to_a</a>
</p>
</dd>


<dt class="method-heading" id="I_TO_H"><code>to_h -&gt; Hash</code><span class="permalink">[<a href="../method/-array/i/to_h.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-to_h">rdoc</a>]</span></dt>
<dt class="method-heading"><code>to_h { block } -&gt; Hash</code></dt>
<dd class="method-description">
<p>
self を [key, value] のペアの配列として解析した結果を <a href="../class/-hash.html">Hash</a> にして返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span><span class="p">[</span><span class="ss">:foo</span>, <span class="ss">:bar</span><span class="p">]</span>, <span class="p">[</span><span class="mi">1</span>, <span class="mi">2</span><span class="p">]</span><span class="p">]</span><span class="p">.</span><span class="nf">to_h</span> <span class="c1"># =&gt; {:foo =&gt; :bar, 1 =&gt; 2}
</span></code></pre>
<p>
ブロックを指定すると配列の各要素でブロックを呼び出し、その結果をペアとして使います。
</p>
<pre class="highlight ruby">
<span class="caption">ブロック付きの例</span>
<code>
<span class="p">[</span><span class="s2">"</span><span class="s2">foo</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">bar</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">to_h</span> <span class="p">{</span><span class="o">|</span>s<span class="o">|</span> <span class="p">[</span>s<span class="p">.</span><span class="nf">ord</span>, s<span class="p">]</span><span class="p">}</span> <span class="c1"># =&gt; {102=&gt;&quot;foo&quot;, 98=&gt;&quot;bar&quot;}
</span></code></pre>
</dd>


<dt class="method-heading" id="I_TRANSPOSE"><code>transpose -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/transpose.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-transpose">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
自身を行列と見立てて、行列の転置(行と列の入れ換え)を行います。転置した配列を生成して返します。空の配列に対しては空の配列を生成して返します。
</p>
<p>
それ以外の一次元の配列に対しては、例外
<a href="../class/-type-error.html">TypeError</a> が発生します。各要素のサイズが不揃いな配列に対しては、例外 <a href="../class/-index-error.html">IndexError</a> が発生します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">p</span> <span class="p">[</span><span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span><span class="p">]</span>,
   <span class="p">[</span><span class="mi">3</span>,<span class="mi">4</span><span class="p">]</span>,
   <span class="p">[</span><span class="mi">5</span>,<span class="mi">6</span><span class="p">]</span><span class="p">]</span><span class="p">.</span><span class="nf">transpose</span>
<span class="c1"># =&gt; [[1, 3, 5], [2, 4, 6]]
</span>
<span class="nb">p</span> <span class="p">[</span><span class="p">]</span><span class="p">.</span><span class="nf">transpose</span>
<span class="c1"># =&gt; []
</span>
<span class="nb">p</span> <span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span><span class="p">]</span><span class="p">.</span><span class="nf">transpose</span>

<span class="c1"># =&gt; -:1:in `transpose': cannot convert Fixnum into Array (TypeError)
</span><span class="c1">#       from -:1
</span>
<span class="nb">p</span> <span class="p">[</span><span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span><span class="p">]</span>,
   <span class="p">[</span><span class="mi">3</span>,<span class="mi">4</span>,<span class="mi">5</span><span class="p">]</span>,
   <span class="p">[</span><span class="mi">6</span>,<span class="mi">7</span><span class="p">]</span><span class="p">]</span><span class="p">.</span><span class="nf">transpose</span>
<span class="c1"># =&gt; -:3:in `transpose': element size differ (3 should be 2) (IndexError)
</span></code></pre>
</dd>


<dt class="method-heading" id="I_UNION"><code>union(*other_arrays) -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/union.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-union">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
集合の和演算です。self と other_arrays の配列にどれかに含まれる要素を全て含む新しい配列を返します。重複する要素は取り除かれます。
</p>
<p>
要素の重複判定は、<a href="../method/-object/i/eql=3f.html">Object#eql?</a> と <a href="../method/-object/i/hash.html">Object#hash</a> により行われます。
</p>
<dl>
<dt class='method-param'>[PARAM] other_arrays:</dt>
<dd>
0個以上の配列を指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">union</span><span class="p">(</span><span class="p">[</span> <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">d</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">a</span><span class="s2">"</span> <span class="p">]</span><span class="p">)</span>    <span class="c1">#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
</span><span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">union</span><span class="p">(</span><span class="p">[</span><span class="s2">"</span><span class="s2">e</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span><span class="p">]</span>, <span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">c</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">b</span><span class="s2">"</span><span class="p">]</span><span class="p">)</span>    <span class="c1">#=&gt; [&quot;a&quot;, &quot;e&quot;, &quot;b&quot;, &quot;c&quot;]
</span><span class="p">[</span><span class="s2">"</span><span class="s2">a</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">union</span> <span class="c1"># =&gt; [&quot;a&quot;]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/=7c.html">Array#|</a>
</p>
</dd>


<dt class="method-heading" id="I_UNIQ"><code>uniq -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/uniq.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-uniq">rdoc</a>]</span></dt>
<dt class="method-heading"><code>uniq! -&gt; self | nil</code></dt>
<dt class="method-heading"><code>uniq {|item| ... } -&gt; Array</code></dt>
<dt class="method-heading"><code>uniq! {|item| ... } -&gt; self | nil</code></dt>
<dd class="method-description">
<p>
uniq は配列から重複した要素を取り除いた新しい配列を返します。
uniq! は削除を破壊的に行い、削除が行われた場合は self を、そうでなければnil を返します。
</p>
<p>
取り除かれた要素の部分は前に詰められます。要素の重複判定は、<a href="../method/-object/i/eql=3f.html">Object#eql?</a> により行われます。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">p</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">1</span>, <span class="mi">1</span><span class="p">]</span><span class="p">.</span><span class="nf">uniq</span>         <span class="c1"># =&gt; [1]
</span><span class="nb">p</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">4</span>, <span class="mi">1</span><span class="p">]</span><span class="p">.</span><span class="nf">uniq</span>         <span class="c1"># =&gt; [1, 4]
</span><span class="nb">p</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">3</span>, <span class="mi">2</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span><span class="p">.</span><span class="nf">uniq</span>   <span class="c1"># =&gt; [1, 3, 2]
</span></code></pre>
<p>
ブロックが与えられた場合、ブロックが返した値が重複した要素を取り除いた配列を返します。
</p>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">p</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">3</span>, <span class="mi">2</span>, <span class="s2">"</span><span class="s2">2</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">3</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">uniq</span>                <span class="c1"># =&gt; [1, 3, 2, &quot;2&quot;, &quot;3&quot;]
</span><span class="nb">p</span> <span class="p">[</span><span class="mi">1</span>, <span class="mi">3</span>, <span class="mi">2</span>, <span class="s2">"</span><span class="s2">2</span><span class="s2">"</span>, <span class="s2">"</span><span class="s2">3</span><span class="s2">"</span><span class="p">]</span><span class="p">.</span><span class="nf">uniq</span> <span class="p">{</span> <span class="o">|</span>n<span class="o">|</span> n<span class="p">.</span><span class="nf">to_s</span> <span class="p">}</span> <span class="c1"># =&gt; [1, 3, 2]
</span></code></pre>
<p>
要素を先頭から辿っていき、最初に出現したものが残ります。
</p>
</dd>


<dt class="method-heading" id="I_VALUES_AT"><code>values_at(*selectors) -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/values_at.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-values_at">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
引数で指定されたインデックスに対応する要素を配列で返します。インデックスに対応する値がなければ nil が要素になります。
</p>
<dl>
<dt class='method-param'>[PARAM] selectors:</dt>
<dd>
インデックスを整数もしくは整数の <a href="../class/-range.html">Range</a> で指定します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
ary <span class="o">=</span> <span class="sx">%w( a b c d e )</span>
<span class="nb">p</span> ary<span class="p">.</span><span class="nf">values_at</span><span class="p">(</span> <span class="mi">0</span>, <span class="mi">2</span>, <span class="mi">4</span> <span class="p">)</span>          <span class="c1">#=&gt; [&quot;a&quot;, &quot;c&quot;, &quot;e&quot;]
</span><span class="nb">p</span> ary<span class="p">.</span><span class="nf">values_at</span><span class="p">(</span> <span class="mi">3</span>, <span class="mi">4</span>, <span class="mi">5</span>, <span class="mi">6</span>, <span class="mi">35</span> <span class="p">)</span>   <span class="c1">#=&gt; [&quot;d&quot;, &quot;e&quot;, nil, nil, nil]
</span><span class="nb">p</span> ary<span class="p">.</span><span class="nf">values_at</span><span class="p">(</span> <span class="mi">0</span>, <span class="o">-</span><span class="mi">1</span>, <span class="o">-</span><span class="mi">2</span> <span class="p">)</span>        <span class="c1">#=&gt; [&quot;a&quot;, &quot;e&quot;, &quot;d&quot;]
</span><span class="nb">p</span> ary<span class="p">.</span><span class="nf">values_at</span><span class="p">(</span> <span class="o">-</span><span class="mi">4</span>, <span class="o">-</span><span class="mi">5</span>, <span class="o">-</span><span class="mi">6</span>, <span class="o">-</span><span class="mi">35</span> <span class="p">)</span>  <span class="c1">#=&gt; [&quot;b&quot;, &quot;a&quot;, nil, nil]
</span><span class="nb">p</span> ary<span class="p">.</span><span class="nf">values_at</span><span class="p">(</span> <span class="mi">1</span><span class="o">..</span><span class="mi">2</span> <span class="p">)</span>             <span class="c1">#=&gt; [&quot;b&quot;, &quot;c&quot;]
</span><span class="nb">p</span> ary<span class="p">.</span><span class="nf">values_at</span><span class="p">(</span> <span class="mi">3</span><span class="o">..</span><span class="mi">10</span> <span class="p">)</span>            <span class="c1">#=&gt; [&quot;d&quot;, &quot;e&quot;, nil, nil, nil, nil, nil, nil]
</span><span class="nb">p</span> ary<span class="p">.</span><span class="nf">values_at</span><span class="p">(</span> <span class="mi">6</span><span class="o">..</span><span class="mi">7</span> <span class="p">)</span>             <span class="c1">#=&gt; [nil, nil]
</span><span class="nb">p</span> ary<span class="p">.</span><span class="nf">values_at</span><span class="p">(</span> <span class="mi">0</span>, <span class="mi">3</span><span class="o">..</span><span class="mi">5</span> <span class="p">)</span>          <span class="c1">#=&gt; [&quot;a&quot;, &quot;d&quot;, &quot;e&quot;, nil]
</span></code></pre>
</dd>


<dt class="method-heading" id="I_ZIP"><code>zip(*lists) -&gt; [[object]]</code><span class="permalink">[<a href="../method/-array/i/zip.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-zip">rdoc</a>]</span></dt>
<dt class="method-heading"><code>zip(*lists) {|v1, v2, ...| ...} -&gt; nil</code></dt>
<dd class="method-description">
<p>
自身と引数に渡した配列の各要素からなる配列の配列を生成して返します。生成される配列の要素数は self の要素数と同じです。
</p>
<p>
ブロック付きで呼び出した場合は、
self と引数に渡した配列の各要素を順番にブロックに渡します。
</p>
<dl>
<dt class='method-param'>[PARAM] lists:</dt>
<dd>
配列を指定します。配列以外のオブジェクトを指定した場合は to_ary メソッドによる暗黙の型変換を試みます。to_ary メソッドに応答できない場合は each メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に配列以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="nb">p</span> <span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span><span class="p">]</span><span class="p">.</span><span class="nf">zip</span><span class="p">(</span><span class="p">[</span><span class="mi">4</span>,<span class="mi">5</span>,<span class="mi">6</span><span class="p">]</span>, <span class="p">[</span><span class="mi">7</span>,<span class="mi">8</span>,<span class="mi">9</span><span class="p">]</span><span class="p">)</span>
<span class="c1"># =&gt; [[1, 4, 7], [2, 5, 8], [3, 6, 9]]
</span>
<span class="nb">p</span> <span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span><span class="p">]</span><span class="p">.</span><span class="nf">zip</span><span class="p">(</span><span class="p">[</span><span class="ss">:a</span>,<span class="ss">:b</span>,<span class="ss">:c</span><span class="p">]</span>, <span class="p">[</span><span class="ss">:A</span>,<span class="ss">:B</span>,<span class="ss">:C</span>,<span class="ss">:D</span><span class="p">]</span><span class="p">)</span>
<span class="c1"># =&gt; [[1, :a, :A], [2, :b, :B]]
</span>
<span class="nb">p</span> <span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span>,<span class="mi">4</span>,<span class="mi">5</span><span class="p">]</span><span class="p">.</span><span class="nf">zip</span><span class="p">(</span><span class="p">[</span><span class="ss">:a</span>,<span class="ss">:b</span>,<span class="ss">:c</span><span class="p">]</span>, <span class="p">[</span><span class="ss">:A</span>,<span class="ss">:B</span>,<span class="ss">:C</span>,<span class="ss">:D</span><span class="p">]</span><span class="p">)</span>
<span class="c1"># =&gt; [[1, :a, :A], [2, :b, :B],
</span><span class="c1">#     [3, :c, :C], [4, nil, :D], [5, nil, nil]]
</span>
<span class="nb">p</span> <span class="p">[</span><span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span><span class="p">]</span><span class="p">.</span><span class="nf">zip</span><span class="p">(</span><span class="p">[</span><span class="mi">4</span>,<span class="mi">5</span>,<span class="mi">6</span><span class="p">]</span>, <span class="p">[</span><span class="mi">7</span>,<span class="mi">8</span>,<span class="mi">9</span><span class="p">]</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span>ary<span class="o">|</span> <span class="nb">p</span> ary <span class="p">}</span>
<span class="c1"># =&gt; [1, 4, 7]
</span><span class="c1">#    [2, 5, 8]
</span><span class="c1">#    [3, 6, 9]
</span><span class="c1">#    nil
</span></code></pre>
</dd>


<dt class="method-heading" id="I_--7C"><code>self | other -&gt; Array</code><span class="permalink">[<a href="../method/-array/i/=7c.html">permalink</a>][<a href="https://docs.ruby-lang.org/en/3.1.2/Array.html#method-i-7C">rdoc</a>]</span></dt>
<dd class="method-description">
<p>
集合の和演算です。両方の配列にいずれかに含まれる要素を全て含む新しい配列を返します。重複する要素は取り除かれます。
</p>
<p>
要素の重複判定は、<a href="../method/-object/i/eql=3f.html">Object#eql?</a> と <a href="../method/-object/i/hash.html">Object#hash</a> により行われます。
</p>
<p>
新しい配列における要素の順は self における要素の順と同じです。
</p>
<dl>
<dt class='method-param'>[PARAM] other:</dt>
<dd>
配列を指定します。配列以外のオブジェクトを指定した場合は to_ary メソッドによる暗黙の型変換を試みます。
</dd>
<dt>[EXCEPTION] TypeError:</dt>
<dd>
引数に配列以外の(暗黙の型変換が行えない)オブジェクトを指定した場合に発生します。
</dd>
</dl>
<pre class="highlight ruby">
<span class="caption">例</span>
<code>
<span class="p">[</span><span class="mi">1</span>, <span class="mi">1</span>, <span class="mi">4</span>, <span class="mi">2</span>, <span class="mi">3</span><span class="p">]</span> <span class="o">|</span> <span class="p">[</span><span class="mi">5</span>, <span class="mi">4</span>, <span class="mi">5</span><span class="p">]</span>  <span class="c1">#=&gt; [1, 4, 2, 3, 5]
</span></code></pre>
<p>
[SEE_ALSO] <a href="../method/-array/i/=26.html">Array#&amp;</a>
</p>
<p>
[SEE_ALSO] <a href="../method/-array/i/union.html">Array#union</a>
</p>
</dd>


</dl>

</main>

<footer id="footer">
  <a rel="license" href="https://creativecommons.org/licenses/by/3.0/">
    <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/3.0/88x31.png" />
  </a>

  <a href="https://github.com/rurema/doctree/issues/new" id="feedback-link">フィードバックを送る</a>
  
  <script>if (window.URLSearchParams) { document.getElementById("feedback-link").search = new URLSearchParams({'body': document.location}); }</script>
</footer>
</body>
</html>
